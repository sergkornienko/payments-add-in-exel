/*! For license information please see audit.js.LICENSE.txt */
!function(){"use strict";var e={19233:function(e,t,n){e.exports=n.p+"1fda685b81e1123773f6.css"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,function(){var e={};n.r(e),n.d(e,{base64:function(){return Yt},base64url:function(){return Wt},bigint:function(){return on},boolean:function(){return cn},browserEmail:function(){return Ft},cidrv4:function(){return Bt},cidrv6:function(){return Lt},cuid:function(){return St},cuid2:function(){return _t},date:function(){return Qt},datetime:function(){return nn},domain:function(){return Kt},duration:function(){return Pt},e164:function(){return Xt},email:function(){return $t},emoji:function(){return Ut},extendedDuration:function(){return It},guid:function(){return Tt},hex:function(){return pn},hostname:function(){return qt},html5Email:function(){return Nt},idnEmail:function(){return Ct},integer:function(){return an},ipv4:function(){return Gt},ipv6:function(){return Jt},ksuid:function(){return jt},lowercase:function(){return fn},mac:function(){return Vt},md5_base64:function(){return vn},md5_base64url:function(){return bn},md5_hex:function(){return hn},nanoid:function(){return zt},null:function(){return sn},number:function(){return un},rfc5322Email:function(){return Dt},sha1_base64:function(){return wn},sha1_base64url:function(){return Sn},sha1_hex:function(){return gn},sha256_base64:function(){return On},sha256_base64url:function(){return kn},sha256_hex:function(){return _n},sha384_base64:function(){return zn},sha384_base64url:function(){return Pn},sha384_hex:function(){return jn},sha512_base64:function(){return Tn},sha512_base64url:function(){return xn},sha512_hex:function(){return In},string:function(){return rn},time:function(){return tn},ulid:function(){return Ot},undefined:function(){return ln},unicodeEmail:function(){return Zt},uppercase:function(){return dn},uuid:function(){return xt},uuid4:function(){return Et},uuid6:function(){return At},uuid7:function(){return Rt},xid:function(){return kt}});var t={};n.r(t),n.d(t,{endsWith:function(){return Ri},gt:function(){return yi},gte:function(){return hi},includes:function(){return Ei},length:function(){return Pi},lowercase:function(){return Ti},lt:function(){return pi},lte:function(){return mi},maxLength:function(){return ji},maxSize:function(){return _i},mime:function(){return Ni},minLength:function(){return zi},minSize:function(){return Oi},multipleOf:function(){return Si},negative:function(){return bi},nonnegative:function(){return wi},nonpositive:function(){return gi},normalize:function(){return Zi},overwrite:function(){return Di},positive:function(){return vi},property:function(){return $i},regex:function(){return Ii},size:function(){return ki},slugify:function(){return Ui},startsWith:function(){return Ai},toLowerCase:function(){return Fi},toUpperCase:function(){return Mi},trim:function(){return Ci},uppercase:function(){return xi}});var r={};n.r(r),n.d(r,{ZodISODate:function(){return ea},ZodISODateTime:function(){return Hi},ZodISODuration:function(){return oa},ZodISOTime:function(){return na},date:function(){return ta},datetime:function(){return Qi},duration:function(){return ia},time:function(){return ra}});var o={};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}n.r(o),n.d(o,{ZodAny:function(){return Gu},ZodArray:function(){return Hu},ZodBase64:function(){return cu},ZodBase64URL:function(){return lu},ZodBigInt:function(){return Eu},ZodBigIntFormat:function(){return Ru},ZodBoolean:function(){return Tu},ZodCIDRv4:function(){return ou},ZodCIDRv6:function(){return au},ZodCUID:function(){return Ga},ZodCUID2:function(){return Va},ZodCatch:function(){return Yc},ZodCodec:function(){return Qc},ZodCustom:function(){return fs},ZodCustomStringFormat:function(){return hu},ZodDate:function(){return Ku},ZodDefault:function(){return Fc},ZodDiscriminatedUnion:function(){return sc},ZodE164:function(){return du},ZodEmail:function(){return za},ZodEmoji:function(){return Ca},ZodEnum:function(){return Oc},ZodExactOptional:function(){return $c},ZodFile:function(){return Ic},ZodFunction:function(){return ss},ZodGUID:function(){return Ia},ZodIPv4:function(){return Ha},ZodIPv6:function(){return nu},ZodIntersection:function(){return fc},ZodJWT:function(){return mu},ZodKSUID:function(){return Ka},ZodLazy:function(){return is},ZodLiteral:function(){return zc},ZodMAC:function(){return eu},ZodMap:function(){return gc},ZodNaN:function(){return qc},ZodNanoID:function(){return Ma},ZodNever:function(){return Lu},ZodNonOptional:function(){return Jc},ZodNull:function(){return Mu},ZodNullable:function(){return Dc},ZodNumber:function(){return Su},ZodNumberFormat:function(){return Ou},ZodObject:function(){return tc},ZodOptional:function(){return Ac},ZodPipe:function(){return Xc},ZodPrefault:function(){return Uc},ZodPromise:function(){return us},ZodReadonly:function(){return ts},ZodRecord:function(){return yc},ZodSet:function(){return Sc},ZodString:function(){return Oa},ZodStringFormat:function(){return ja},ZodSuccess:function(){return Bc},ZodSymbol:function(){return Du},ZodTemplateLiteral:function(){return rs},ZodTransform:function(){return xc},ZodTuple:function(){return pc},ZodType:function(){return Sa},ZodULID:function(){return La},ZodURL:function(){return Na},ZodUUID:function(){return xa},ZodUndefined:function(){return Cu},ZodUnion:function(){return ic},ZodUnknown:function(){return Vu},ZodVoid:function(){return Wu},ZodXID:function(){return Wa},ZodXor:function(){return uc},_ZodString:function(){return _a},_default:function(){return Mc},_function:function(){return ls},any:function(){return Ju},array:function(){return Qu},base64:function(){return su},base64url:function(){return fu},bigint:function(){return Au},boolean:function(){return xu},catch:function(){return Wc},check:function(){return ds},cidrv4:function(){return iu},cidrv6:function(){return uu},codec:function(){return es},cuid:function(){return Ja},cuid2:function(){return Ba},custom:function(){return ps},date:function(){return Xu},describe:function(){return hs},discriminatedUnion:function(){return lc},e164:function(){return pu},email:function(){return Pa},emoji:function(){return Fa},enum:function(){return kc},exactOptional:function(){return Nc},file:function(){return Tc},float32:function(){return ju},float64:function(){return zu},function:function(){return ls},guid:function(){return Ta},hash:function(){return wu},hex:function(){return gu},hostname:function(){return bu},httpUrl:function(){return Za},instanceof:function(){return bs},int:function(){return ku},int32:function(){return Pu},int64:function(){return $u},intersection:function(){return dc},ipv4:function(){return Qa},ipv6:function(){return ru},json:function(){return ws},jwt:function(){return yu},keyof:function(){return ec},ksuid:function(){return Xa},lazy:function(){return as},literal:function(){return Pc},looseObject:function(){return oc},looseRecord:function(){return bc},mac:function(){return tu},map:function(){return wc},meta:function(){return vs},nan:function(){return Kc},nanoid:function(){return Ua},nativeEnum:function(){return jc},never:function(){return Yu},nonoptional:function(){return Vc},null:function(){return Uu},nullable:function(){return Zc},nullish:function(){return Cc},number:function(){return _u},object:function(){return nc},optional:function(){return Rc},partialRecord:function(){return vc},pipe:function(){return Hc},prefault:function(){return Gc},preprocess:function(){return Ss},promise:function(){return cs},readonly:function(){return ns},record:function(){return hc},refine:function(){return ms},set:function(){return _c},strictObject:function(){return rc},string:function(){return ka},stringFormat:function(){return vu},stringbool:function(){return gs},success:function(){return Lc},superRefine:function(){return ys},symbol:function(){return Zu},templateLiteral:function(){return os},transform:function(){return Ec},tuple:function(){return mc},uint32:function(){return Iu},uint64:function(){return Nu},ulid:function(){return Ya},undefined:function(){return Fu},union:function(){return ac},unknown:function(){return Bu},url:function(){return Da},uuid:function(){return Ea},uuidv4:function(){return Aa},uuidv6:function(){return Ra},uuidv7:function(){return $a},void:function(){return qu},xid:function(){return qa},xor:function(){return cc}});var c=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cellStyles=t,this.columnStyles=n},(t=[{key:"applyStyle",value:function(e,t){try{var n=this.cellStyles[t];if(!n)return;n.textColor&&(e.format.font.color=n.textColor),n.fillColor&&(e.format.fill.color=n.fillColor),n.fontSize&&(e.format.font.size=n.fontSize),n.textOrientation&&(e.format.textOrientation=n.textOrientation),n.bold&&(e.format.font.bold=n.bold),n.wrapText&&(e.format.wrapText=n.wrapText),n.horizontalAlignment&&(e.format.horizontalAlignment=n.horizontalAlignment),n.verticalAlignment&&(e.format.verticalAlignment=n.verticalAlignment)}catch(e){console.log("applyStyle",t,e)}}},{key:"applyColumnStyle",value:function(e,t){try{var n=this.columnStyles[t];if(!n)return;-1===n.width?e.format.autofitColumns():n.width&&(e.format.columnWidth=n.width)}catch(e){console.log("applyColumnStyle",t,e)}}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return p(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(p(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,p(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,p(f,"constructor",s),p(s,"constructor",c),c.displayName="GeneratorFunction",p(s,o,"GeneratorFunction"),p(f),p(f,o,"Generator"),p(f,r,function(){return this}),p(f,"toString",function(){return"[object Generator]"}),(d=function(){return{w:i,m:m}})()}function p(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}p=function(e,t,n,r){function i(t,n){p(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},p(e,t,n,r)}function m(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,u,"next",e)}function u(e){m(i,r,o,a,u,"throw",e)}a(void 0)})}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var b=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t},t=[{key:"read",value:(o=y(d().m(function e(){var t,n=this;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Excel.run(function(){var e=y(d().m(function e(t){var r,o,i,a;return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.getSheet(t);case 1:return r=e.v,(o=r.getUsedRange()).load(["values","rowIndex","columnIndex"]),e.n=2,t.sync();case 2:if(!(o.rowIndex+o.values.length<n.schema.startRow)){e.n=3;break}return e.a(2,[]);case 3:if(!((i=n.schema.startRow-1-o.rowIndex)<0||i>=o.values.length)){e.n=4;break}return e.a(2,[]);case 4:return a=o.values.slice(i),e.a(2,a.filter(function(e){return e.some(function(e){return null!==e&&""!==e})}).map(function(e){var t={};return n.schema.fields.forEach(function(r){var i,a=n.columnLetterToIndex(r.column)-o.columnIndex;a>=0&&a<e.length?t[r.name]=null!==(i=e[a])&&void 0!==i?i:null:t[r.name]=null}),t}))}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v);case 2:throw e.p=2,t=e.v,console.log(this.schema,t),t;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"getSelected",value:(r=y(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Excel.run(function(){var e=y(d().m(function e(t){var n,r,o,i,a,u,c,s,f,p,m,y,h,v,b,g,w,S;return d().w(function(e){for(;;)switch(e.n){case 0:return n=t.workbook.worksheets.getActiveWorksheet(),(r=t.workbook.getSelectedRanges()).load(["areas"]),e.n=1,t.sync();case 1:return(o=r.areas).load("items"),e.n=2,t.sync();case 2:return o.items.forEach(function(e){e.load(["rowIndex","columnIndex","columnCount","rowCount","values"])}),e.n=3,t.sync();case 3:i=[],a=new Set,u=l(o.items);try{for(u.s();!(c=u.n()).done;){s=c.value,f=l(s.values);try{for(f.s();!(p=f.n()).done;){m=p.value,y=l(m);try{for(y.s();!(h=y.n()).done;)v=h.value,i.push(v)}catch(e){y.e(e)}finally{y.f()}}}catch(e){f.e(e)}finally{f.f()}for(b=s.columnIndex;b<s.columnIndex+s.columnCount;b++)a.add(b)}}catch(e){u.e(e)}finally{u.f()}return g=Array.from(a).sort(function(e,t){return e-t}),(w=g.map(function(e){return n.getRangeByIndexes(0,e,1,1)})).forEach(function(e){return e.load(["values"])}),e.n=4,t.sync();case 4:return S=w.map(function(e){return e.values[0][0]}),e.a(2,{values:i,header:S})}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v)}},e)})),function(){return r.apply(this,arguments)})},{key:"getSheet",value:(n=y(d().m(function e(t){var n;return d().w(function(e){for(;;)switch(e.n){case 0:if(this.schema.sheetName){e.n=1;break}return e.a(2,t.workbook.worksheets.getActiveWorksheet());case 1:return n=t.workbook.worksheets.getItemOrNullObject(this.schema.sheetName),e.n=2,t.sync();case 2:return e.a(2,n.isNullObject?t.workbook.worksheets.add(this.schema.sheetName):n)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"columnLetterToIndex",value:function(e){var t,n=0,r=l(e.toUpperCase());try{for(r.s();!(t=r.n()).done;)n=26*n+(t.value.charCodeAt(0)-64)}catch(e){r.e(e)}finally{r.f()}return n-1}}],t&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return S(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(S(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,S(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,S(f,"constructor",s),S(s,"constructor",c),c.displayName="GeneratorFunction",S(s,o,"GeneratorFunction"),S(f),S(f,o,"Generator"),S(f,r,function(){return this}),S(f,"toString",function(){return"[object Generator]"}),(w=function(){return{w:i,m:d}})()}function S(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}S=function(e,t,n,r){function i(t,n){S(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},S(e,t,n,r)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,u,"next",e)}function u(e){k(i,r,o,a,u,"throw",e)}a(void 0)})}}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function P(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}var I=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t,this.styleRenderer=n},t=[{key:"render",value:(r=j(w().m(function e(t,n){var r,o=this;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t&&Array.isArray(t)&&0!==t.length){e.n=1;break}return e.a(2);case 1:return console.log(t,n),e.p=2,e.n=3,Excel.run(function(){var e=j(w().m(function e(r){var i,a,u,c,s,l,f,d,p,m,y,h,v,b,g,S,O,k,j,z,P,I,T,x;return w().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o.getSheet(r,o.schema.sheetName);case 1:i=e.v,a=o.schema.startRow,u=o.schema.fields.reduce(function(e,t){var n,r;return Math.max(e,null!==(n=null===(r=t.merge)||void 0===r?void 0:r.rows)&&void 0!==n?n:1)},1),c=new Map,null==n||n.forEach(function(e){c.has(e.rowId)||c.set(e.rowId,new Map),c.get(e.rowId).set(String(e.field),e.styleId)}),console.log({overrideMap:c}),s=_(o.schema.fields);try{for(s.s();!(l=s.n()).done;){for(p=l.value,m=null!==(f=p.rowShift)&&void 0!==f?f:0,y=[],h=0;h<t.length;h++)for(v=t[h],b=v?v[p.name]:null,g=0;g<u;g++)g===m?y.push([null!=b?b:null]):y.push([null]);for(S=a+y.length-1,i.getRange("".concat(p.column).concat(a,":").concat(p.column).concat(S)).values=y,O=0;O<t.length;O++)j=t[O].id,z=a+O*u+m,(P=(null===(k=c.get(j))||void 0===k?void 0:k.get(String(p.name)))||p.styleId)&&(console.log("draw",P),o.styleRenderer.applyStyle(i.getRange("".concat(p.column).concat(z)),P));if(null!==(d=p.merge)&&void 0!==d&&d.rows&&p.merge.columns)for(I=0;I<t.length;I++)x=(T=a+I*u)+p.merge.rows-1,i.getRange("".concat(p.column).concat(T,":").concat(p.merge.columns).concat(x)).merge()}}catch(e){s.e(e)}finally{s.f()}return o.schema.predefined&&(o.schema.predefined.data.forEach(function(e){var t=i.getRange(e.cell);t.values=[[e.value]],e.styleId&&o.styleRenderer.applyStyle(t,e.styleId)}),o.schema.predefined.columnStyles.forEach(function(e){var t=i.getRange("".concat(e.column,":").concat(e.column));o.styleRenderer.applyColumnStyle(t,e.id)}),i.getUsedRange().format.autofitRows()),e.n=2,r.sync();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:e.n=5;break;case 4:e.p=4,r=e.v,console.log("render",r);case 5:return e.a(2)}},e,null,[[2,4]])})),function(e,t){return r.apply(this,arguments)})},{key:"renderPredefined",value:function(e){var t=this;try{if(!this.schema.predefined)return;this.schema.predefined.data.forEach(function(n){var r=e.getRange(n.cell);r.values=[[n.value]],n.styleId&&t.styleRenderer.applyStyle(r,n.styleId)}),this.schema.predefined.columnStyles.forEach(function(n){var r=e.getRange("".concat(n.column,":").concat(n.column));t.styleRenderer.applyColumnStyle(r,n.id)}),e.getUsedRange().format.autofitRows()}catch(e){console.log("renderPredefined",e)}}},{key:"getSheet",value:(n=j(w().m(function e(t,n){var r,o;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!n){e.n=2;break}return r=t.workbook.worksheets.getItemOrNullObject(n),e.n=1,t.sync();case 1:r.isNullObject&&(r=t.workbook.worksheets.add(n)),e.n=3;break;case 2:r=t.workbook.worksheets.getActiveWorksheet();case 3:return e.a(2,r);case 4:throw e.p=4,o=e.v,console.log("getSheet",o),o;case 5:return e.a(2)}},e,null,[[0,4]])})),function(e,t){return n.apply(this,arguments)})},{key:"mergeCells",value:function(e,t,n){try{if(e.merge){console.log("merge");var r=t+(e.merge.rows-1);n.getRange("".concat(e.column).concat(t,":").concat(e.merge.columns).concat(r)).merge()}}catch(e){console.log("mergeCells",e)}}}],t&&z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return A(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(A(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,A(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,A(f,"constructor",s),A(s,"constructor",c),c.displayName="GeneratorFunction",A(s,o,"GeneratorFunction"),A(f),A(f,o,"Generator"),A(f,r,function(){return this}),A(f,"toString",function(){return"[object Generator]"}),(E=function(){return{w:i,m:d}})()}function A(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}A=function(e,t,n,r){function i(t,n){A(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},A(e,t,n,r)}function R(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function N(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}var D=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"verify",value:(n=E().m(function e(t,n){var r,o,i;return E().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,console.log({data:t}),r=this.preparePayload(t,n),console.log({payload:r}),e.n=1,this.fetchVerificationData(r);case 1:return o=e.v,console.log({verificationResult:o}),e.a(2,this.verificationResultsToIssues(t,o));case 2:return e.p=2,i=e.v,console.log("RawPayrollDataVerifier.verify",i),e.a(2,new Map)}},e,this,[[0,2]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){R(i,r,o,a,u,"next",e)}function u(e){R(i,r,o,a,u,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)})},{key:"verificationResultsToIssues",value:function(e,t){var n=new Map;return t.filter(function(e){return e.errors.length>0}).forEach(function(t){var r=e.find(function(e){return e.taxPayerId===t.taxPayerId||e.fullName===t.fullName});if(r){var o=t.errors.map(function(e){return e.description}).join("; "),i=r.taxPayerId?String(r.taxPayerId):r.fullName;n.set(i,o)}}),n}},{key:"fetchVerificationData",value:function(e){return fetch("".concat("https://localhost:3000","/payroll-tables/verifyItems"),{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then(function(e){return e.json()})}},{key:"preparePayload",value:function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("."),2),r=n[0],o=n[1],i=this.toItems(e,t);return JSON.stringify({items:i,savePayments:!1,year:Number(o),month:Number(r)})}},{key:"toItems",value:function(e,t){return e.map(function(e){for(var n=[],r=[],o=[],i=[],a=1;a<31;a++){var u=e[a<10?"0".concat(a,".").concat(t):"".concat(a,".").concat(t)];30===u?n.push(a):50===u?r.push(a):70===u?o.push(a):100===u&&i.push(a)}return{fullName:e.fullName,taxPayerId:e.taxPayerId?String(e.taxPayerId):void 0,militaryRank:e.militaryRank,payments30Dates:n,payments50Dates:r,payments70Dates:o,payments100Dates:i}})}}],t&&$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function F(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return G(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){var t=e.match(/(\d{2})\.(\d{2})\.(\d{4})/);if(!t)throw new Error("Invalid date format: ".concat(e));var n=M(t.map(Number),4),r=n[1],o=n[2],i=n[3],a=new Date(i,o-1,r);if(a.getFullYear()!==i||a.getMonth()!==o-1||a.getDate()!==r)throw new Error("Invalid calendar date: ".concat(e));return a},V=function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)},B=function(e,t){for(var n=[],r=new Date(e);r<=t;){var o=new Date(r.getFullYear(),r.getMonth()+1,0),i=o<t?o:t;n.push(new L(V(r),V(i))),r=new Date(r.getFullYear(),r.getMonth()+1,1)}return n},L=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startDate=t,this.endDate=n,this.startDate=t.trim(),this.endDate=n.trim(),!this.isValidDate(this.startDate)||!this.isValidDate(this.endDate))throw new Error("Invalid date format")}return t=e,n=[{key:"isValidDate",value:function(e){return/^\d{2}\.\d{2}\.\d{4}$/.test(e)}},{key:"getMonthAndYear",value:function(){return this.startDate.trim().substring(3)}},{key:"isSingleDay",value:function(){return this.startDate===this.endDate}},{key:"toString",value:function(){return this.isSingleDay()?"за ".concat(this.startDate):"з ".concat(this.startDate," по ").concat(this.endDate)}}],r=[{key:"CreateRange",value:function(t,n,r){return new e("".concat(String(t).padStart(2,"0"),".").concat(r),"".concat(String(n).padStart(2,"0"),".").concat(r))}},{key:"FromInstructorsString",value:function(e,t){if(!e||!t)return[];if(!/^\d{2}\.\d{4}$/.test(t))throw new Error("Invalid month format. Expected MM.YYYY");var n=e.split(",").map(function(e){return e.trim()}).map(function(e){return e.replace(/\s*\(\d+\)\s*/g,"")}).map(function(e){return e.trim()}).filter(function(e){return e.length>0}).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)&&e>=1&&e<=31});if(0===n.length)return[];for(var r=Array.from(new Set(n)).sort(function(e,t){return e-t}),o=[],i=r[0],a=r[0],u=1;u<r.length;u++)r[u]===a+1||(o.push(this.CreateRange(i,a,t)),i=r[u]),a=r[u];return o.push(this.CreateRange(i,a,t)),o}},{key:"FromString",value:function(e){var t=function(e){var t=e.match(/\d{2}\.\d{2}\.\d{4}/);if(!t)throw new Error("Invalid date: ".concat(e));return t[0]};return e.replace(/;/g,",").split(",").map(function(e){return e.trim()}).filter(Boolean).flatMap(function(e){var n,r;if(/з\s+\d{2}\.\d{2}\.\d{4}\s+по\s+\d{2}\.\d{2}\.\d{4}/i.test(e)){var o=M(e.match(/\d{2}\.\d{2}\.\d{4}/g),2);n=o[0],r=o[1]}else if(/\d{2}\.\d{2}\.\d{4}\s*-\s*\d{2}\.\d{2}\.\d{4}/.test(e)){var i=M(e.split("-").map(t),2);n=i[0],r=i[1]}else{var a=t(e);n=a,r=a}var u=J(n),c=J(r);return B(u,c)})}},{key:"Combine",value:function(t){if(0===t.length)return[];for(var n=function(e){var t=M(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];return new Date(o,r-1,n)},r=function(e){return"".concat(String(e.getDate()).padStart(2,"0"),".").concat(String(e.getMonth()+1).padStart(2,"0"),".").concat(e.getFullYear())},o=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},i=function(e,t){return e.getTime()+864e5===t.getTime()},a=function(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t).sort(function(e,t){return n(e.startDate).getTime()-n(t.startDate).getTime()}),u=[],c=a[0],s=1;s<a.length;s++){var l=a[s],f=n(c.startDate),d=n(c.endDate),p=n(l.startDate),m=n(l.endDate);p>=f&&m<=d&&o(f,p)||(o(f,p)&&(i(d,p)||p<=d)?c=new e(c.startDate,r(new Date(Math.max(d.getTime(),m.getTime())))):(u.push(c),c=l))}return u.push(c),u}}],n&&C(t.prototype,n),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function q(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}var K,X=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=this.normalize(t)},t=[{key:"normalize",value:function(e){return e?e.trim().split(/\s+/).map(function(e,t){return 0===t?e.trim().toUpperCase():e[0].trim().toUpperCase()+e.trim().toLowerCase().slice(1)}).join(" "):""}},{key:"toString",value:function(){return this.value}},{key:"equals",value:function(e){return this.value===e.value}}],t&&W(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),H=new Uint8Array(16);function Q(){if(!K&&!(K="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(H)}for(var ee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,te=[],ne=0;ne<256;++ne)te.push((ne+256).toString(16).substr(1));var re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(te[e[t+0]]+te[e[t+1]]+te[e[t+2]]+te[e[t+3]]+"-"+te[e[t+4]]+te[e[t+5]]+"-"+te[e[t+6]]+te[e[t+7]]+"-"+te[e[t+8]]+te[e[t+9]]+"-"+te[e[t+10]]+te[e[t+11]]+te[e[t+12]]+te[e[t+13]]+te[e[t+14]]+te[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&ee.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},oe=function(e,t,n){var r=(e=e||{}).random||(e.rng||Q)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return re(r)};function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ue(r.key),r)}}function ue(e){var t=function(e){if("object"!=ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ie(t)?t:t+""}var ce=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.fullName=n,this.militaryRank=r,this.taxPayerId=o,this.unit=i,this.position=a}return t=e,r=[{key:"fromRaw",value:function(t){return new e(oe(),new X(t.fullName),t.militaryRank)}},{key:"FromRawExtended",value:function(t){var n=t.taxPayerId?String(t.taxPayerId):void 0;return new e(oe(),new X(t.fullName),t.militaryRank,n,t.unit,t.position)}}],(n=[{key:"equals",value:function(e){return this.fullName.equals(e.fullName)}}])&&ae(t.prototype,n),r&&ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function pe(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=function(e){if("object"!=se(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==se(t)?t:t+""}var ye=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pe(this,"payrollDays",{}),this.id=t,this.serviceman=n,this.dateRanges=r,this.value=o,this.reason=i,this.calculatePayrollDays()}return t=e,n=[{key:"getTotalDays",value:function(){return this.getDates().length}},{key:"getMonthAndYear",value:function(){var e;return null===(e=this.dateRanges[0])||void 0===e?void 0:e.getMonthAndYear()}},{key:"getRenderItem",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach(function(t){pe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({fullName:this.serviceman.fullName.toString(),militaryRank:this.serviceman.militaryRank,taxPayerId:this.serviceman.taxPayerId,unit:this.serviceman.unit,dateRange:this.dateRanges.map(function(e){return e.toString()}).join("; "),days:this.getTotalDays(),reason:this.reason},this.payrollDays)}},{key:"addDateRange",value:function(e){this.dateRanges.push(e),this.calculatePayrollDays()}},{key:"getDates",value:function(){return Object.keys(this.payrollDays)}},{key:"calculatePayrollDays",value:function(){var e=this;this.payrollDays={},this.dateRanges=L.Combine(this.dateRanges),this.dateRanges.forEach(function(t){for(var n=e.parseDate(t.startDate),r=e.parseDate(t.endDate),o=new Date(n);o<=r;){var i=e.formatDate(o);e.payrollDays[i]=e.value,o.setDate(o.getDate()+1)}})}},{key:"parseDate",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];return new Date(o,r-1,n)}},{key:"formatDate",value:function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)}}],r=[{key:"Create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3?arguments[3]:void 0;return new e(oe(),t,n,r,o)}}],n&&de(t.prototype,n),r&&de(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function be(e){var t=function(e){if("object"!=he(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==he(t)?t:t+""}var ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.status=t,this.message=n}return t=e,r=[{key:"Ok",value:function(){return new e(200,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Слава Україні!")}},{key:"UnknownError",value:function(){return new e(500,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Невідома помилка")}},{key:"ValidationError",value:function(){return new e(400,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Вхідні дані мають помилку")}}],(n=[{key:"isError",value:function(){return 200!==this.status}}])&&ve(t.prototype,n),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function we(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:a,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);const o=a.prototype,i=Object.keys(o);for(let e=0;e<i.length;e++){const t=i[e];t in n||(n[t]=o[t].bind(n))}}const o=n?.Parent??Object;class i extends o{}function a(e){var t;const o=n?.Parent?new i:this;r(o,e),(t=o._zod).deferred??(t.deferred=[]);for(const e of o._zod.deferred)e();return o}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}Object.freeze({status:"aborted"}),Symbol("zod_brand");class Se extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class _e extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Oe={};function ke(e){return e&&Object.assign(Oe,e),Oe}function je(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function ze(e,t="|"){return e.map(e=>Le(e)).join(t)}function Pe(e,t){return"bigint"==typeof t?t.toString():t}function Ie(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Te(e){return null==e}function xe(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Ee=Symbol("evaluating");function Ae(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Ee)return void 0===r&&(r=Ee,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Re(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function $e(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function Ne(e){return JSON.stringify(e)}const De="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ze(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const Ce=Ie(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function Fe(e){if(!1===Ze(e))return!1;const t=e.constructor;if(void 0===t)return!0;if("function"!=typeof t)return!0;const n=t.prototype;return!1!==Ze(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function Me(e){return Fe(e)?{...e}:Array.isArray(e)?[...e]:e}const Ue=new Set(["string","number","symbol"]),Ge=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Je(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ve(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function Be(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function Le(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}const Ye={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},We={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function qe(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function Ke(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function Xe(e){return"string"==typeof e?e:e?.message}function He(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Xe(e.inst?._zod.def?.error?.(e))??Xe(t?.error?.(e))??Xe(n.customError?.(e))??Xe(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Qe(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function et(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function tt(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}const nt=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Pe,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},rt=we("$ZodError",nt),ot=we("$ZodError",nt,{Parent:Error}),it=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Se;if(a.issues.length){const t=new(o?.Err??e)(a.issues.map(e=>He(e,i,ke())));throw De(t,o?.callee),t}return a.value},at=it(ot),ut=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const t=new(o?.Err??e)(a.issues.map(e=>He(e,i,ke())));throw De(t,o?.callee),t}return a.value},ct=ut(ot),st=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new Se;return i.issues.length?{success:!1,error:new(e??rt)(i.issues.map(e=>He(e,o,ke())))}:{success:!0,data:i.value}},lt=st(ot),ft=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(e=>He(e,o,ke())))}:{success:!0,data:i.value}},dt=ft(ot),pt=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return it(e)(t,n,o)},mt=e=>(t,n,r)=>it(e)(t,n,r),yt=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ut(e)(t,n,o)},ht=e=>async(t,n,r)=>ut(e)(t,n,r),vt=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return st(e)(t,n,o)},bt=e=>(t,n,r)=>st(e)(t,n,r),gt=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ft(e)(t,n,o)},wt=e=>async(t,n,r)=>ft(e)(t,n,r),St=/^[cC][^\s-]{8,}$/,_t=/^[0-9a-z]+$/,Ot=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,kt=/^[0-9a-vA-V]{20}$/,jt=/^[A-Za-z0-9]{27}$/,zt=/^[a-zA-Z0-9_-]{21}$/,Pt=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,It=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Tt=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,xt=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Et=xt(4),At=xt(6),Rt=xt(7),$t=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Nt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Zt=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Ct=Zt,Ft=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Ut(){return new RegExp(Mt,"u")}const Gt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Jt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Vt=e=>{const t=Je(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},Bt=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Lt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yt=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Wt=/^[A-Za-z0-9_-]*$/,qt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Kt=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Xt=/^\+[1-9]\d{6,14}$/,Ht="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Qt=new RegExp(`^${Ht}$`);function en(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tn(e){return new RegExp(`^${en(e)}$`)}function nn(e){const t=en({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Ht}T(?:${r})$`)}const rn=e=>new RegExp(`^${e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*"}$`),on=/^-?\d+n?$/,an=/^-?\d+$/,un=/^-?\d+(?:\.\d+)?$/,cn=/^(?:true|false)$/i,sn=/^null$/i,ln=/^undefined$/i,fn=/^[^A-Z]*$/,dn=/^[^a-z]*$/,pn=/^[0-9a-fA-F]*$/;function mn(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function yn(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const hn=/^[0-9a-fA-F]{32}$/,vn=mn(22,"=="),bn=yn(22),gn=/^[0-9a-fA-F]{40}$/,wn=mn(27,"="),Sn=yn(27),_n=/^[0-9a-fA-F]{64}$/,On=mn(43,"="),kn=yn(43),jn=/^[0-9a-fA-F]{96}$/,zn=mn(64,""),Pn=yn(64),In=/^[0-9a-fA-F]{128}$/,Tn=mn(86,"=="),xn=yn(86),En=we("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),An={number:"number",bigint:"bigint",object:"date"},Rn=we("$ZodCheckLessThan",(e,t)=>{En.init(e,t);const n=An[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),$n=we("$ZodCheckGreaterThan",(e,t)=>{En.init(e,t);const n=An[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Nn=we("$ZodCheckMultipleOf",(e,t)=>{En.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(0===o&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(o=Number.parseInt(e[1]))}const i=n>o?n:o;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Dn=we("$ZodCheckNumberFormat",(e,t)=>{En.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,i]=Ye[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=o,r.maximum=i,n&&(r.pattern=an)}),e._zod.check=a=>{const u=a.value;if(n){if(!Number.isInteger(u))return void a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});if(!Number.isSafeInteger(u))return void(u>0?a.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):a.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}))}u<o&&a.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&a.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),Zn=we("$ZodCheckBigIntFormat",(e,t)=>{En.init(e,t);const[n,r]=We[t.format];e._zod.onattach.push(e=>{const o=e._zod.bag;o.format=t.format,o.minimum=n,o.maximum=r}),e._zod.check=o=>{const i=o.value;i<n&&o.issues.push({origin:"bigint",input:i,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),i>r&&o.issues.push({origin:"bigint",input:i,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),Cn=we("$ZodCheckMaxSize",(e,t)=>{var n;En.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Te(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;r.size<=t.maximum||n.issues.push({origin:Qe(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Fn=we("$ZodCheckMinSize",(e,t)=>{var n;En.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Te(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;r.size>=t.minimum||n.issues.push({origin:Qe(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Mn=we("$ZodCheckSizeEquals",(e,t)=>{var n;En.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Te(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{const r=n.value,o=r.size;if(o===t.size)return;const i=o>t.size;n.issues.push({origin:Qe(r),...i?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Un=we("$ZodCheckMaxLength",(e,t)=>{var n;En.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Te(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const o=et(r);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Gn=we("$ZodCheckMinLength",(e,t)=>{var n;En.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Te(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const o=et(r);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Jn=we("$ZodCheckLengthEquals",(e,t)=>{var n;En.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Te(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,o=r.length;if(o===t.length)return;const i=et(r),a=o>t.length;n.issues.push({origin:i,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Vn=we("$ZodCheckStringFormat",(e,t)=>{var n,r;En.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Bn=we("$ZodCheckRegex",(e,t)=>{Vn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Ln=we("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=fn),Vn.init(e,t)}),Yn=we("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=dn),Vn.init(e,t)}),Wn=we("$ZodCheckIncludes",(e,t)=>{En.init(e,t);const n=Je(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),qn=we("$ZodCheckStartsWith",(e,t)=>{En.init(e,t);const n=new RegExp(`^${Je(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Kn=we("$ZodCheckEndsWith",(e,t)=>{En.init(e,t);const n=new RegExp(`.*${Je(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function Xn(e,t,n){e.issues.length&&t.issues.push(...Ke(n,e.issues))}const Hn=we("$ZodCheckProperty",(e,t)=>{En.init(e,t),e._zod.check=e=>{const n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>Xn(n,e,t.property));Xn(n,e,t.property)}}),Qn=we("$ZodCheckMimeType",(e,t)=>{En.init(e,t);const n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e,continue:!t.abort})}}),er=we("$ZodCheckOverwrite",(e,t)=>{En.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class tr{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const nr={major:4,minor:3,patch:5},rr=we("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=nr;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const t of r)for(const n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,o=qe(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(o)continue;const t=e.issues.length,a=i._zod.check(e);if(a instanceof Promise&&!1===n?.async)throw new Se;if(r||a instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(o||(o=qe(e,t)))});else{if(e.issues.length===t)continue;o||(o=qe(e,t))}}return r?r.then(()=>e):e},n=(n,o,i)=>{if(qe(n))return n.aborted=!0,n;const a=t(o,r,i);if(a instanceof Promise){if(!1===i.async)throw new Se;return a.then(t=>e._zod.parse(t,i))}return e._zod.parse(a,i)};e._zod.run=(o,i)=>{if(i.skipChecks)return e._zod.parse(o,i);if("backward"===i.direction){const t=e._zod.parse({value:o.value,issues:[]},{...i,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,o,i)):n(t,o,i)}const a=e._zod.parse(o,i);if(a instanceof Promise){if(!1===i.async)throw new Se;return a.then(e=>t(e,r,i))}return t(a,r,i)}}Ae(e,"~standard",()=>({validate:t=>{try{const n=lt(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return dt(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}))}),or=we("$ZodString",(e,t)=>{rr.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??rn(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ir=we("$ZodStringFormat",(e,t)=>{Vn.init(e,t),or.init(e,t)}),ar=we("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Tt),ir.init(e,t)}),ur=we("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=xt(e))}else t.pattern??(t.pattern=xt());ir.init(e,t)}),cr=we("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=$t),ir.init(e,t)}),sr=we("$ZodURL",(e,t)=>{ir.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=o.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),lr=we("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Ut()),ir.init(e,t)}),fr=we("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=zt),ir.init(e,t)}),dr=we("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=St),ir.init(e,t)}),pr=we("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=_t),ir.init(e,t)}),mr=we("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Ot),ir.init(e,t)}),yr=we("$ZodXID",(e,t)=>{t.pattern??(t.pattern=kt),ir.init(e,t)}),hr=we("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jt),ir.init(e,t)}),vr=we("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=nn(t)),ir.init(e,t)}),br=we("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Qt),ir.init(e,t)}),gr=we("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=tn(t)),ir.init(e,t)}),wr=we("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Pt),ir.init(e,t)}),Sr=we("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Gt),ir.init(e,t),e._zod.bag.format="ipv4"}),_r=we("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Jt),ir.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Or=we("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=Vt(t.delimiter)),ir.init(e,t),e._zod.bag.format="mac"}),kr=we("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Bt),ir.init(e,t)}),jr=we("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Lt),ir.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function zr(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const Pr=we("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Yt),ir.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{zr(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}),Ir=we("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Wt),ir.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{(function(e){if(!Wt.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return zr(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Tr=we("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Xt),ir.init(e,t)}),xr=we("$ZodJWT",(e,t)=>{ir.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&"JWT"!==o?.typ||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Er=we("$ZodCustomStringFormat",(e,t)=>{ir.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),Ar=we("$ZodNumber",(e,t)=>{rr.init(e,t),e._zod.pattern=e._zod.bag.pattern??un,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}const o=n.value;if("number"==typeof o&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i="number"==typeof o?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),Rr=we("$ZodNumberFormat",(e,t)=>{Dn.init(e,t),Ar.init(e,t)}),$r=we("$ZodBoolean",(e,t)=>{rr.init(e,t),e._zod.pattern=cn,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(e){}const o=n.value;return"boolean"==typeof o||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),Nr=we("$ZodBigInt",(e,t)=>{rr.init(e,t),e._zod.pattern=on,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(e){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),Dr=we("$ZodBigIntFormat",(e,t)=>{Zn.init(e,t),Nr.init(e,t)}),Zr=we("$ZodSymbol",(e,t)=>{rr.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),Cr=we("$ZodUndefined",(e,t)=>{rr.init(e,t),e._zod.pattern=ln,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),Fr=we("$ZodNull",(e,t)=>{rr.init(e,t),e._zod.pattern=sn,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),Mr=we("$ZodAny",(e,t)=>{rr.init(e,t),e._zod.parse=e=>e}),Ur=we("$ZodUnknown",(e,t)=>{rr.init(e,t),e._zod.parse=e=>e}),Gr=we("$ZodNever",(e,t)=>{rr.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),Jr=we("$ZodVoid",(e,t)=>{rr.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),Vr=we("$ZodDate",(e,t)=>{rr.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(e){}const o=n.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:e}),n}});function Br(e,t,n){e.issues.length&&t.issues.push(...Ke(n,e.issues)),t.value[n]=e.value}const Lr=we("$ZodArray",(e,t)=>{rr.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let e=0;e<o.length;e++){const a=o[e],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?i.push(u.then(t=>Br(t,n,e))):Br(u,n,e)}return i.length?Promise.all(i).then(()=>n):n}});function Yr(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...Ke(n,e.issues))}void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Wr(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=(r=e.shape,Object.keys(r).filter(e=>"optional"===r[e]._zod.optin&&"optional"===r[e]._zod.optout));var r;return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function qr(e,t,n,r,o,i){const a=[],u=o.keySet,c=o.catchall._zod,s=c.def.type,l="optional"===c.optout;for(const o in t){if(u.has(o))continue;if("never"===s){a.push(o);continue}const i=c.run({value:t[o],issues:[]},r);i instanceof Promise?e.push(i.then(e=>Yr(e,n,o,t,l))):Yr(i,n,o,t,l)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const Kr=we("$ZodObject",(e,t)=>{rr.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=Ie(()=>Wr(t));Ae(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const o=Ze,i=t.catchall;let a;e._zod.parse=(t,n)=>{a??(a=r.value);const u=t.value;if(!o(u))return t.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),t;t.value={};const c=[],s=a.shape;for(const e of a.keys){const r=s[e],o="optional"===r._zod.optout,i=r._zod.run({value:u[e],issues:[]},n);i instanceof Promise?c.push(i.then(n=>Yr(n,t,e,u,o))):Yr(i,t,e,u,o)}return i?qr(c,u,t,n,r.value,e):c.length?Promise.all(c).then(()=>t):t}}),Xr=we("$ZodObjectJIT",(e,t)=>{Kr.init(e,t);const n=e._zod.parse,r=Ie(()=>Wr(t));let o;const i=Ze,a=!Oe.jitless,u=a&&Ce.value,c=t.catchall;let s;e._zod.parse=(l,f)=>{s??(s=r.value);const d=l.value;return i(d)?a&&u&&!1===f?.async&&!0!==f.jitless?(o||(o=(e=>{const t=new tr(["shape","payload","ctx"]),n=r.value,o=e=>{const t=Ne(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const i=Object.create(null);let a=0;for(const e of n.keys)i[e]="key_"+a++;t.write("const newResult = {};");for(const r of n.keys){const n=i[r],a=Ne(r),u=e[r],c="optional"===u?._zod?.optout;t.write(`const ${n} = ${o(r)};`),c?t.write(`\n        if (${n}.issues.length) {\n          if (${a} in input) {\n            payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${a}, ...iss.path] : [${a}]\n            })));\n          }\n        }\n        \n        if (${n}.value === undefined) {\n          if (${a} in input) {\n            newResult[${a}] = undefined;\n          }\n        } else {\n          newResult[${a}] = ${n}.value;\n        }\n        \n      `):t.write(`\n        if (${n}.issues.length) {\n          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${a}, ...iss.path] : [${a}]\n          })));\n        }\n        \n        if (${n}.value === undefined) {\n          if (${a} in input) {\n            newResult[${a}] = undefined;\n          }\n        } else {\n          newResult[${a}] = ${n}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const u=t.compile();return(t,n)=>u(e,t,n)})(t.shape)),l=o(l,f),c?qr([],d,l,f,s,e):l):n(l,f):(l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l)}});function Hr(e,t,n,r){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;const o=e.filter(e=>!qe(e));return 1===o.length?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>He(e,r,ke())))}),t)}const Qr=we("$ZodUnion",(e,t)=>{rr.init(e,t),Ae(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),Ae(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),Ae(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Ae(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>xe(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const u=[];for(const e of t.options){const t=e._zod.run({value:o.value,issues:[]},i);if(t instanceof Promise)u.push(t),a=!0;else{if(0===t.issues.length)return t;u.push(t)}}return a?Promise.all(u).then(t=>Hr(t,o,e,i)):Hr(u,o,e,i)}});function eo(e,t,n,r){const o=e.filter(e=>0===e.issues.length);return 1===o.length?(t.value=o[0].value,t):(0===o.length?t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>He(e,r,ke())))}):t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:[],inclusive:!1}),t)}const to=we("$ZodXor",(e,t)=>{Qr.init(e,t),t.inclusive=!1;const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const u=[];for(const e of t.options){const t=e._zod.run({value:o.value,issues:[]},i);t instanceof Promise?(u.push(t),a=!0):u.push(t)}return a?Promise.all(u).then(t=>eo(t,o,e,i)):eo(u,o,e,i)}}),no=we("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Qr.init(e,t);const n=e._zod.parse;Ae(e._zod,"propValues",()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const r=Ie(()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(o,i)=>{const a=o.value;if(!Ze(a))return o.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),o;const u=r.value.get(a?.[t.discriminator]);return u?u._zod.run(o,i):t.unionFallback?n(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),o)}}),ro=we("$ZodIntersection",(e,t)=>{rr.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,o=t.left._zod.run({value:r,issues:[]},n),i=t.right._zod.run({value:r,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([t,n])=>io(e,t,n)):io(e,o,i)}});function oo(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(Fe(e)&&Fe(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),o={...e,...t};for(const n of r){const r=oo(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};o[n]=r.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=oo(e[r],t[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function io(e,t,n){const r=new Map;let o;for(const n of t.issues)if("unrecognized_keys"===n.code){o??(o=n);for(const e of n.keys)r.has(e)||r.set(e,{}),r.get(e).l=!0}else e.issues.push(n);for(const t of n.issues)if("unrecognized_keys"===t.code)for(const e of t.keys)r.has(e)||r.set(e,{}),r.get(e).r=!0;else e.issues.push(t);const i=[...r].filter(([,e])=>e.l&&e.r).map(([e])=>e);if(i.length&&o&&e.issues.push({...o,keys:i}),qe(e))return e;const a=oo(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const ao=we("$ZodTuple",(e,t)=>{rr.init(e,t);const n=t.items;e._zod.parse=(r,o)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const a=[],u=[...n].reverse().findIndex(e=>"optional"!==e._zod.optin),c=-1===u?0:n.length-u;if(!t.rest){const t=i.length>n.length,o=i.length<c-1;if(t||o)return r.issues.push({...t?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:i,inst:e,origin:"array"}),r}let s=-1;for(const e of n){if(s++,s>=i.length&&s>=c)continue;const t=e._zod.run({value:i[s],issues:[]},o);t instanceof Promise?a.push(t.then(e=>uo(e,r,s))):uo(t,r,s)}if(t.rest){const e=i.slice(n.length);for(const n of e){s++;const e=t.rest._zod.run({value:n,issues:[]},o);e instanceof Promise?a.push(e.then(e=>uo(e,r,s))):uo(e,r,s)}}return a.length?Promise.all(a).then(()=>r):r}});function uo(e,t,n){e.issues.length&&t.issues.push(...Ke(n,e.issues)),t.value[n]=e.value}const co=we("$ZodRecord",(e,t)=>{rr.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Fe(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[],a=t.keyType._zod.values;if(a){n.value={};const u=new Set;for(const e of a)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){u.add("number"==typeof e?e.toString():e);const a=t.valueType._zod.run({value:o[e],issues:[]},r);a instanceof Promise?i.push(a.then(t=>{t.issues.length&&n.issues.push(...Ke(e,t.issues)),n.value[e]=t.value})):(a.issues.length&&n.issues.push(...Ke(e,a.issues)),n.value[e]=a.value)}let c;for(const e in o)u.has(e)||(c=c??[],c.push(e));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:c})}else{n.value={};for(const a of Reflect.ownKeys(o)){if("__proto__"===a)continue;let u=t.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if("string"==typeof a&&un.test(a)&&u.issues.length&&u.issues.some(e=>"invalid_type"===e.code&&"number"===e.expected)){const e=t.keyType._zod.run({value:Number(a),issues:[]},r);if(e instanceof Promise)throw new Error("Async schemas not supported in object keys currently");0===e.issues.length&&(u=e)}if(u.issues.length){"loose"===t.mode?n.value[a]=o[a]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(e=>He(e,r,ke())),input:a,path:[a],inst:e});continue}const c=t.valueType._zod.run({value:o[a],issues:[]},r);c instanceof Promise?i.push(c.then(e=>{e.issues.length&&n.issues.push(...Ke(a,e.issues)),n.value[u.value]=e.value})):(c.issues.length&&n.issues.push(...Ke(a,c.issues)),n.value[u.value]=c.value)}}return i.length?Promise.all(i).then(()=>n):n}}),so=we("$ZodMap",(e,t)=>{rr.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!(o instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:o,inst:e}),n;const i=[];n.value=new Map;for(const[a,u]of o){const c=t.keyType._zod.run({value:a,issues:[]},r),s=t.valueType._zod.run({value:u,issues:[]},r);c instanceof Promise||s instanceof Promise?i.push(Promise.all([c,s]).then(([t,i])=>{lo(t,i,n,a,o,e,r)})):lo(c,s,n,a,o,e,r)}return i.length?Promise.all(i).then(()=>n):n}});function lo(e,t,n,r,o,i,a){e.issues.length&&(Ue.has(typeof r)?n.issues.push(...Ke(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:o,inst:i,issues:e.issues.map(e=>He(e,a,ke()))})),t.issues.length&&(Ue.has(typeof r)?n.issues.push(...Ke(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:o,inst:i,key:r,issues:t.issues.map(e=>He(e,a,ke()))})),n.value.set(e.value,t.value)}const fo=we("$ZodSet",(e,t)=>{rr.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!(o instanceof Set))return n.issues.push({input:o,inst:e,expected:"set",code:"invalid_type"}),n;const i=[];n.value=new Set;for(const e of o){const o=t.valueType._zod.run({value:e,issues:[]},r);o instanceof Promise?i.push(o.then(e=>po(e,n))):po(o,n)}return i.length?Promise.all(i).then(()=>n):n}});function po(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const mo=we("$ZodEnum",(e,t)=>{rr.init(e,t);const n=je(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>Ue.has(typeof e)).map(e=>"string"==typeof e?Je(e):e.toString()).join("|")})$`),e._zod.parse=(t,o)=>{const i=t.value;return r.has(i)||t.issues.push({code:"invalid_value",values:n,input:i,inst:e}),t}}),yo=we("$ZodLiteral",(e,t)=>{if(rr.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?Je(e):e?Je(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),ho=we("$ZodFile",(e,t)=>{rr.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),vo=we("$ZodTransform",(e,t)=>{rr.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new _e(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(e=>(n.value=e,n));if(o instanceof Promise)throw new Se;return n.value=o,n}});function bo(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const go=we("$ZodOptional",(e,t)=>{rr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ae(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ae(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${xe(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>bo(t,e.value)):bo(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),wo=we("$ZodExactOptional",(e,t)=>{go.init(e,t),Ae(e._zod,"values",()=>t.innerType._zod.values),Ae(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(e,n)=>t.innerType._zod.run(e,n)}),So=we("$ZodNullable",(e,t)=>{rr.init(e,t),Ae(e._zod,"optin",()=>t.innerType._zod.optin),Ae(e._zod,"optout",()=>t.innerType._zod.optout),Ae(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${xe(e.source)}|null)$`):void 0}),Ae(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),_o=we("$ZodDefault",(e,t)=>{rr.init(e,t),e._zod.optin="optional",Ae(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Oo(e,t)):Oo(r,t)}});function Oo(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const ko=we("$ZodPrefault",(e,t)=>{rr.init(e,t),e._zod.optin="optional",Ae(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),jo=we("$ZodNonOptional",(e,t)=>{rr.init(e,t),Ae(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(t=>zo(t,e)):zo(o,e)}});function zo(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Po=we("$ZodSuccess",(e,t)=>{rr.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new _e("ZodSuccess");const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),Io=we("$ZodCatch",(e,t)=>{rr.init(e,t),Ae(e._zod,"optin",()=>t.innerType._zod.optin),Ae(e._zod,"optout",()=>t.innerType._zod.optout),Ae(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>He(e,n,ke()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>He(e,n,ke()))},input:e.value}),e.issues=[]),e)}}),To=we("$ZodNaN",(e,t)=>{rr.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),xo=we("$ZodPipe",(e,t)=>{rr.init(e,t),Ae(e._zod,"values",()=>t.in._zod.values),Ae(e._zod,"optin",()=>t.in._zod.optin),Ae(e._zod,"optout",()=>t.out._zod.optout),Ae(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Eo(e,t.in,n)):Eo(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Eo(e,t.out,n)):Eo(r,t.out,n)}});function Eo(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Ao=we("$ZodCodec",(e,t)=>{rr.init(e,t),Ae(e._zod,"values",()=>t.in._zod.values),Ae(e._zod,"optin",()=>t.in._zod.optin),Ae(e._zod,"optout",()=>t.out._zod.optout),Ae(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Ro(e,t,n)):Ro(r,t,n)}{const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Ro(e,t,n)):Ro(r,t,n)}}});function Ro(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){const r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>$o(e,r,t.out,n)):$o(e,r,t.out,n)}{const r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>$o(e,r,t.in,n)):$o(e,r,t.in,n)}}function $o(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}const No=we("$ZodReadonly",(e,t)=>{rr.init(e,t),Ae(e._zod,"propValues",()=>t.innerType._zod.propValues),Ae(e._zod,"values",()=>t.innerType._zod.values),Ae(e._zod,"optin",()=>t.innerType?._zod?.optin),Ae(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(Do):Do(r)}});function Do(e){return e.value=Object.freeze(e.value),e}const Zo=we("$ZodTemplateLiteral",(e,t)=>{rr.init(e,t);const n=[];for(const e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);const t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw new Error(`Invalid template literal part: ${e._zod.traits}`);const r=t.startsWith("^")?1:0,o=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,o))}else{if(null!==e&&!Ge.has(typeof e))throw new Error(`Invalid template literal part: ${e}`);n.push(Je(`${e}`))}e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(n,r)=>"string"!=typeof n.value?(n.issues.push({input:n.value,inst:e,expected:"string",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),Co=we("$ZodFunction",(e,t)=>(rr.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw new Error("implement() must be called with a function");return function(...n){const r=e._def.input?at(e._def.input,n):n,o=Reflect.apply(t,this,r);return e._def.output?at(e._def.output,o):o}},e.implementAsync=t=>{if("function"!=typeof t)throw new Error("implementAsync() must be called with a function");return async function(...n){const r=e._def.input?await ct(e._def.input,n):n,o=await Reflect.apply(t,this,r);return e._def.output?await ct(e._def.output,o):o}},e._zod.parse=(t,n)=>{if("function"!=typeof t.value)return t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t;const r=e._def.output&&"promise"===e._def.output._zod.def.type;return t.value=r?e.implementAsync(t.value):e.implement(t.value),t},e.input=(...t)=>{const n=e.constructor;return Array.isArray(t[0])?new n({type:"function",input:new ao({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}):new n({type:"function",input:t[0],output:e._def.output})},e.output=t=>new(0,e.constructor)({type:"function",input:e._def.input,output:t}),e)),Fo=we("$ZodPromise",(e,t)=>{rr.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),Mo=we("$ZodLazy",(e,t)=>{rr.init(e,t),Ae(e._zod,"innerType",()=>t.getter()),Ae(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),Ae(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),Ae(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),Ae(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),Uo=we("$ZodCustom",(e,t)=>{En.init(e,t),rr.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(t=>Go(t,n,r,e));Go(o,n,r,e)}});function Go(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(tt(e))}}var Jo;Symbol("ZodOutput"),Symbol("ZodInput");(Jo=globalThis).__zod_globalRegistry??(Jo.__zod_globalRegistry=new class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];return this._map.set(e,n),n&&"object"==typeof n&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}});const Vo=globalThis.__zod_globalRegistry;function Bo(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Be(t)})}function Lo(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Be(t)})}function Yo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(t)})}function Wo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(t)})}function qo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(t)})}function Ko(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(t)})}function Xo(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Be(t)})}function Ho(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(t)})}function Qo(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(t)})}function ei(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(t)})}function ti(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(t)})}function ni(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(t)})}function ri(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Be(t)})}function oi(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(t)})}function ii(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(t)})}function ai(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(t)})}function ui(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(t)})}function ci(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(t)})}function si(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Be(t)})}function li(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(t)})}function fi(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Be(t)})}function di(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(t)})}function pi(e,t){return new Rn({check:"less_than",...Be(t),value:e,inclusive:!1})}function mi(e,t){return new Rn({check:"less_than",...Be(t),value:e,inclusive:!0})}function yi(e,t){return new $n({check:"greater_than",...Be(t),value:e,inclusive:!1})}function hi(e,t){return new $n({check:"greater_than",...Be(t),value:e,inclusive:!0})}function vi(e){return yi(0,e)}function bi(e){return pi(0,e)}function gi(e){return mi(0,e)}function wi(e){return hi(0,e)}function Si(e,t){return new Nn({check:"multiple_of",...Be(t),value:e})}function _i(e,t){return new Cn({check:"max_size",...Be(t),maximum:e})}function Oi(e,t){return new Fn({check:"min_size",...Be(t),minimum:e})}function ki(e,t){return new Mn({check:"size_equals",...Be(t),size:e})}function ji(e,t){return new Un({check:"max_length",...Be(t),maximum:e})}function zi(e,t){return new Gn({check:"min_length",...Be(t),minimum:e})}function Pi(e,t){return new Jn({check:"length_equals",...Be(t),length:e})}function Ii(e,t){return new Bn({check:"string_format",format:"regex",...Be(t),pattern:e})}function Ti(e){return new Ln({check:"string_format",format:"lowercase",...Be(e)})}function xi(e){return new Yn({check:"string_format",format:"uppercase",...Be(e)})}function Ei(e,t){return new Wn({check:"string_format",format:"includes",...Be(t),includes:e})}function Ai(e,t){return new qn({check:"string_format",format:"starts_with",...Be(t),prefix:e})}function Ri(e,t){return new Kn({check:"string_format",format:"ends_with",...Be(t),suffix:e})}function $i(e,t,n){return new Hn({check:"property",property:e,schema:t,...Be(n)})}function Ni(e,t){return new Qn({check:"mime_type",mime:e,...Be(t)})}function Di(e){return new er({check:"overwrite",tx:e})}function Zi(e){return Di(t=>t.normalize(e))}function Ci(){return Di(e=>e.trim())}function Fi(){return Di(e=>e.toLowerCase())}function Mi(){return Di(e=>e.toUpperCase())}function Ui(){return Di(e=>function(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}(e))}function Gi(e,t,n,r={}){const o=Be(r),i={...Be(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...o};return n instanceof RegExp&&(i.pattern=n),new e(i)}function Ji(e){let t=e?.target??"draft-2020-12";return"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Vo,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Vi(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const u=e._zod.toJSONSchema?.();if(u)a.schema=u;else{const r={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,r);else{const n=a.schema,i=t.processors[o.type];if(!i)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);i(e,t,n,r)}const i=e._zod.parent;i&&(a.ref||(a.ref=i),Vi(i,t,r),t.seen.get(i).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),"input"===t.io&&Yi(e)&&(delete a.schema.examples,delete a.schema.default),"input"===t.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function Bi(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const t of e.seen.entries()){const n=e.metadataRegistry.get(t[0])?.id;if(n){const e=r.get(n);if(e&&e!==t[0])throw new Error(`Duplicate schema id "${n}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(n,t[0])}}const o=t=>{if(t[1].schema.$ref)return;const r=t[1],{ref:o,defId:i}=(t=>{const r="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){const n=e.external.registry.get(t[0])?.id,o=e.external.uri??(e=>e);if(n)return{ref:o(n)};const i=t[1].defId??t[1].schema.id??"schema"+e.counter++;return t[1].defId=i,{defId:i,ref:`${o("__shared")}#/${r}/${i}`}}if(t[1]===n)return{ref:"#"};const o=`#/${r}/`,i=t[1].schema.id??"__schema"+e.counter++;return{defId:i,ref:o+i}})(t);r.def={...r.schema},i&&(r.defId=i);const a=r.schema;for(const e in a)delete a[e];a.$ref=o};if("throw"===e.cycles)for(const t of e.seen.entries()){const e=t[1];if(e.cycle)throw new Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const n of e.seen.entries()){const r=n[1];if(t===n[0]){o(n);continue}if(e.external){const r=e.external.registry.get(n[0])?.id;if(t!==n[0]&&r){o(n);continue}}const i=e.metadataRegistry.get(n[0])?.id;(i||r.cycle||r.count>1&&"ref"===e.reused)&&o(n)}}function Li(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=t=>{const n=e.seen.get(t);if(null===n.ref)return;const o=n.def??n.schema,i={...o},a=n.ref;if(n.ref=null,a){r(a);const n=e.seen.get(a),u=n.schema;if(!u.$ref||"draft-07"!==e.target&&"draft-04"!==e.target&&"openapi-3.0"!==e.target?Object.assign(o,u):(o.allOf=o.allOf??[],o.allOf.push(u)),Object.assign(o,i),t._zod.parent===a)for(const e in o)"$ref"!==e&&"allOf"!==e&&(e in i||delete o[e]);if(u.$ref)for(const e in o)"$ref"!==e&&"allOf"!==e&&e in n.def&&JSON.stringify(o[e])===JSON.stringify(n.def[e])&&delete o[e]}const u=t._zod.parent;if(u&&u!==a){r(u);const t=e.seen.get(u);if(t?.schema.$ref&&(o.$ref=t.schema.$ref,t.def))for(const e in o)"$ref"!==e&&"allOf"!==e&&e in t.def&&JSON.stringify(o[e])===JSON.stringify(t.def[e])&&delete o[e]}e.override({zodSchema:t,jsonSchema:o,path:n.path??[]})};for(const t of[...e.seen.entries()].reverse())r(t[0]);const o={};if("draft-2020-12"===e.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const n=e.external.registry.get(t)?.id;if(!n)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(n)}Object.assign(o,n.def??n.schema);const i=e.external?.defs??{};for(const t of e.seen.entries()){const e=t[1];e.def&&e.defId&&(i[e.defId]=e.def)}e.external||Object.keys(i).length>0&&("draft-2020-12"===e.target?o.$defs=i:o.definitions=i);try{const n=JSON.parse(JSON.stringify(o));return Object.defineProperty(n,"~standard",{value:{...t["~standard"],jsonSchema:{input:Wi(t,"input",e.processors),output:Wi(t,"output",e.processors)}},enumerable:!1,writable:!1}),n}catch(e){throw new Error("Error converting schema to JSON.")}}function Yi(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if("transform"===r.type)return!0;if("array"===r.type)return Yi(r.element,n);if("set"===r.type)return Yi(r.valueType,n);if("lazy"===r.type)return Yi(r.getter(),n);if("promise"===r.type||"optional"===r.type||"nonoptional"===r.type||"nullable"===r.type||"readonly"===r.type||"default"===r.type||"prefault"===r.type)return Yi(r.innerType,n);if("intersection"===r.type)return Yi(r.left,n)||Yi(r.right,n);if("record"===r.type||"map"===r.type)return Yi(r.keyType,n)||Yi(r.valueType,n);if("pipe"===r.type)return Yi(r.in,n)||Yi(r.out,n);if("object"===r.type){for(const e in r.shape)if(Yi(r.shape[e],n))return!0;return!1}if("union"===r.type){for(const e of r.options)if(Yi(e,n))return!0;return!1}if("tuple"===r.type){for(const e of r.items)if(Yi(e,n))return!0;return!(!r.rest||!Yi(r.rest,n))}return!1}const Wi=(e,t,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},a=Ji({...o??{},target:i,io:t,processors:n});return Vi(e,a),Bi(a,e),Li(a,e)},qi={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Ki=(e,t,n,r)=>{const o=e._zod.def,i=!1===o.inclusive,a=o.options.map((e,n)=>Vi(e,t,{...r,path:[...r.path,i?"oneOf":"anyOf",n]}));i?n.oneOf=a:n.anyOf=a},Xi=(e,t,n,r)=>{const o=e._zod.def;Vi(o.innerType,t,r),t.seen.get(e).ref=o.innerType},Hi=we("ZodISODateTime",(e,t)=>{vr.init(e,t),ja.init(e,t)});function Qi(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(t)})}(Hi,e)}const ea=we("ZodISODate",(e,t)=>{br.init(e,t),ja.init(e,t)});function ta(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...Be(t)})}(ea,e)}const na=we("ZodISOTime",(e,t)=>{gr.init(e,t),ja.init(e,t)});function ra(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Be(t)})}(na,e)}const oa=we("ZodISODuration",(e,t)=>{wr.init(e,t),ja.init(e,t)});function ia(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...Be(t)})}(oa,e)}const aa=(e,t)=>{rt.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t=e=>e.message){const n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>r({issues:e}));else if("invalid_key"===o.code)r({issues:o.issues});else if("invalid_element"===o.code)r({issues:o.issues});else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Pe,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Pe,2)}},isEmpty:{get(){return 0===e.issues.length}}})},ua=we("ZodError",aa),ca=we("ZodError",aa,{Parent:Error}),sa=it(ca),la=ut(ca),fa=st(ca),da=ft(ca),pa=pt(ca),ma=mt(ca),ya=yt(ca),ha=ht(ca),va=vt(ca),ba=bt(ca),ga=gt(ca),wa=wt(ca),Sa=we("ZodType",(e,t)=>(rr.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Wi(e,"input"),output:Wi(e,"output")}}),e.toJSONSchema=((e,t={})=>n=>{const r=Ji({...n,processors:t});return Vi(e,r),Bi(r,e),Li(r,e)})(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone($e(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),{parent:!0}),e.with=e.check,e.clone=(t,n)=>Ve(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>sa(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>fa(e,t,n),e.parseAsync=async(t,n)=>la(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>da(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>pa(e,t,n),e.decode=(t,n)=>ma(e,t,n),e.encodeAsync=async(t,n)=>ya(e,t,n),e.decodeAsync=async(t,n)=>ha(e,t,n),e.safeEncode=(t,n)=>va(e,t,n),e.safeDecode=(t,n)=>ba(e,t,n),e.safeEncodeAsync=async(t,n)=>ga(e,t,n),e.safeDecodeAsync=async(t,n)=>wa(e,t,n),e.refine=(t,n)=>e.check(ms(t,n)),e.superRefine=t=>e.check(ys(t)),e.overwrite=t=>e.check(Di(t)),e.optional=()=>Rc(e),e.exactOptional=()=>Nc(e),e.nullable=()=>Zc(e),e.nullish=()=>Rc(Zc(e)),e.nonoptional=t=>Vc(e,t),e.array=()=>Qu(e),e.or=t=>ac([e,t]),e.and=t=>dc(e,t),e.transform=t=>Hc(e,Ec(t)),e.default=t=>Mc(e,t),e.prefault=t=>Gc(e,t),e.catch=t=>Wc(e,t),e.pipe=t=>Hc(e,t),e.readonly=()=>ns(e),e.describe=t=>{const n=e.clone();return Vo.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){return Vo.get(e)?.description},configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Vo.get(e);const n=e.clone();return Vo.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=t=>t(e),e)),_a=we("_ZodString",(e,t)=>{or.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n;r.type="string";const{minimum:o,maximum:i,format:a,patterns:u,contentEncoding:c}=e._zod.bag;if("number"==typeof o&&(r.minLength=o),"number"==typeof i&&(r.maxLength=i),a&&(r.format=qi[a]??a,""===r.format&&delete r.format,"time"===a&&delete r.format),c&&(r.contentEncoding=c),u&&u.size>0){const e=[...u];1===e.length?r.pattern=e[0].source:e.length>1&&(r.allOf=[...e.map(e=>({..."draft-07"===t.target||"draft-04"===t.target||"openapi-3.0"===t.target?{type:"string"}:{},pattern:e.source}))])}})(e,t,n);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(Ii(...t)),e.includes=(...t)=>e.check(Ei(...t)),e.startsWith=(...t)=>e.check(Ai(...t)),e.endsWith=(...t)=>e.check(Ri(...t)),e.min=(...t)=>e.check(zi(...t)),e.max=(...t)=>e.check(ji(...t)),e.length=(...t)=>e.check(Pi(...t)),e.nonempty=(...t)=>e.check(zi(1,...t)),e.lowercase=t=>e.check(Ti(t)),e.uppercase=t=>e.check(xi(t)),e.trim=()=>e.check(Ci()),e.normalize=(...t)=>e.check(Zi(...t)),e.toLowerCase=()=>e.check(Fi()),e.toUpperCase=()=>e.check(Mi()),e.slugify=()=>e.check(Ui())}),Oa=we("ZodString",(e,t)=>{or.init(e,t),_a.init(e,t),e.email=t=>e.check(Bo(za,t)),e.url=t=>e.check(Xo(Na,t)),e.jwt=t=>e.check(di(mu,t)),e.emoji=t=>e.check(Ho(Ca,t)),e.guid=t=>e.check(Lo(Ia,t)),e.uuid=t=>e.check(Yo(xa,t)),e.uuidv4=t=>e.check(Wo(xa,t)),e.uuidv6=t=>e.check(qo(xa,t)),e.uuidv7=t=>e.check(Ko(xa,t)),e.nanoid=t=>e.check(Qo(Ma,t)),e.guid=t=>e.check(Lo(Ia,t)),e.cuid=t=>e.check(ei(Ga,t)),e.cuid2=t=>e.check(ti(Va,t)),e.ulid=t=>e.check(ni(La,t)),e.base64=t=>e.check(si(cu,t)),e.base64url=t=>e.check(li(lu,t)),e.xid=t=>e.check(ri(Wa,t)),e.ksuid=t=>e.check(oi(Ka,t)),e.ipv4=t=>e.check(ii(Ha,t)),e.ipv6=t=>e.check(ai(nu,t)),e.cidrv4=t=>e.check(ui(ou,t)),e.cidrv6=t=>e.check(ci(au,t)),e.e164=t=>e.check(fi(du,t)),e.datetime=t=>e.check(Qi(t)),e.date=t=>e.check(ta(t)),e.time=t=>e.check(ra(t)),e.duration=t=>e.check(ia(t))});function ka(e){return function(e,t){return new e({type:"string",...Be(t)})}(Oa,e)}const ja=we("ZodStringFormat",(e,t)=>{ir.init(e,t),_a.init(e,t)}),za=we("ZodEmail",(e,t)=>{cr.init(e,t),ja.init(e,t)});function Pa(e){return Bo(za,e)}const Ia=we("ZodGUID",(e,t)=>{ar.init(e,t),ja.init(e,t)});function Ta(e){return Lo(Ia,e)}const xa=we("ZodUUID",(e,t)=>{ur.init(e,t),ja.init(e,t)});function Ea(e){return Yo(xa,e)}function Aa(e){return Wo(xa,e)}function Ra(e){return qo(xa,e)}function $a(e){return Ko(xa,e)}const Na=we("ZodURL",(e,t)=>{sr.init(e,t),ja.init(e,t)});function Da(e){return Xo(Na,e)}function Za(e){return Xo(Na,{protocol:/^https?$/,hostname:Kt,...Be(e)})}const Ca=we("ZodEmoji",(e,t)=>{lr.init(e,t),ja.init(e,t)});function Fa(e){return Ho(Ca,e)}const Ma=we("ZodNanoID",(e,t)=>{fr.init(e,t),ja.init(e,t)});function Ua(e){return Qo(Ma,e)}const Ga=we("ZodCUID",(e,t)=>{dr.init(e,t),ja.init(e,t)});function Ja(e){return ei(Ga,e)}const Va=we("ZodCUID2",(e,t)=>{pr.init(e,t),ja.init(e,t)});function Ba(e){return ti(Va,e)}const La=we("ZodULID",(e,t)=>{mr.init(e,t),ja.init(e,t)});function Ya(e){return ni(La,e)}const Wa=we("ZodXID",(e,t)=>{yr.init(e,t),ja.init(e,t)});function qa(e){return ri(Wa,e)}const Ka=we("ZodKSUID",(e,t)=>{hr.init(e,t),ja.init(e,t)});function Xa(e){return oi(Ka,e)}const Ha=we("ZodIPv4",(e,t)=>{Sr.init(e,t),ja.init(e,t)});function Qa(e){return ii(Ha,e)}const eu=we("ZodMAC",(e,t)=>{Or.init(e,t),ja.init(e,t)});function tu(e){return function(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...Be(t)})}(eu,e)}const nu=we("ZodIPv6",(e,t)=>{_r.init(e,t),ja.init(e,t)});function ru(e){return ai(nu,e)}const ou=we("ZodCIDRv4",(e,t)=>{kr.init(e,t),ja.init(e,t)});function iu(e){return ui(ou,e)}const au=we("ZodCIDRv6",(e,t)=>{jr.init(e,t),ja.init(e,t)});function uu(e){return ci(au,e)}const cu=we("ZodBase64",(e,t)=>{Pr.init(e,t),ja.init(e,t)});function su(e){return si(cu,e)}const lu=we("ZodBase64URL",(e,t)=>{Ir.init(e,t),ja.init(e,t)});function fu(e){return li(lu,e)}const du=we("ZodE164",(e,t)=>{Tr.init(e,t),ja.init(e,t)});function pu(e){return fi(du,e)}const mu=we("ZodJWT",(e,t)=>{xr.init(e,t),ja.init(e,t)});function yu(e){return di(mu,e)}const hu=we("ZodCustomStringFormat",(e,t)=>{Er.init(e,t),ja.init(e,t)});function vu(e,t,n={}){return Gi(hu,e,t,n)}function bu(e){return Gi(hu,"hostname",qt,e)}function gu(e){return Gi(hu,"hex",pn,e)}function wu(t,n){const r=`${t}_${n?.enc??"hex"}`,o=e[r];if(!o)throw new Error(`Unrecognized hash format: ${r}`);return Gi(hu,r,o,n)}const Su=we("ZodNumber",(e,t)=>{Ar.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,{minimum:o,maximum:i,format:a,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:s}=e._zod.bag;"string"==typeof a&&a.includes("int")?r.type="integer":r.type="number","number"==typeof s&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.minimum=s,r.exclusiveMinimum=!0):r.exclusiveMinimum=s),"number"==typeof o&&(r.minimum=o,"number"==typeof s&&"draft-04"!==t.target&&(s>=o?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof c&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.maximum=c,r.exclusiveMaximum=!0):r.exclusiveMaximum=c),"number"==typeof i&&(r.maximum=i,"number"==typeof c&&"draft-04"!==t.target&&(c<=i?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof u&&(r.multipleOf=u)})(e,t,n),e.gt=(t,n)=>e.check(yi(t,n)),e.gte=(t,n)=>e.check(hi(t,n)),e.min=(t,n)=>e.check(hi(t,n)),e.lt=(t,n)=>e.check(pi(t,n)),e.lte=(t,n)=>e.check(mi(t,n)),e.max=(t,n)=>e.check(mi(t,n)),e.int=t=>e.check(ku(t)),e.safe=t=>e.check(ku(t)),e.positive=t=>e.check(yi(0,t)),e.nonnegative=t=>e.check(hi(0,t)),e.negative=t=>e.check(pi(0,t)),e.nonpositive=t=>e.check(mi(0,t)),e.multipleOf=(t,n)=>e.check(Si(t,n)),e.step=(t,n)=>e.check(Si(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _u(e){return function(e,t){return new e({type:"number",checks:[],...Be(t)})}(Su,e)}const Ou=we("ZodNumberFormat",(e,t)=>{Rr.init(e,t),Su.init(e,t)});function ku(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(t)})}(Ou,e)}function ju(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...Be(t)})}(Ou,e)}function zu(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...Be(t)})}(Ou,e)}function Pu(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...Be(t)})}(Ou,e)}function Iu(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...Be(t)})}(Ou,e)}const Tu=we("ZodBoolean",(e,t)=>{$r.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t)});function xu(e){return function(e,t){return new e({type:"boolean",...Be(t)})}(Tu,e)}const Eu=we("ZodBigInt",(e,t)=>{Nr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema")})(0,e),e.gte=(t,n)=>e.check(hi(t,n)),e.min=(t,n)=>e.check(hi(t,n)),e.gt=(t,n)=>e.check(yi(t,n)),e.gte=(t,n)=>e.check(hi(t,n)),e.min=(t,n)=>e.check(hi(t,n)),e.lt=(t,n)=>e.check(pi(t,n)),e.lte=(t,n)=>e.check(mi(t,n)),e.max=(t,n)=>e.check(mi(t,n)),e.positive=t=>e.check(yi(BigInt(0),t)),e.negative=t=>e.check(pi(BigInt(0),t)),e.nonpositive=t=>e.check(mi(BigInt(0),t)),e.nonnegative=t=>e.check(hi(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(Si(t,n));const n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function Au(e){return function(e,t){return new e({type:"bigint",...Be(t)})}(Eu,e)}const Ru=we("ZodBigIntFormat",(e,t)=>{Dr.init(e,t),Eu.init(e,t)});function $u(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Be(t)})}(Ru,e)}function Nu(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Be(t)})}(Ru,e)}const Du=we("ZodSymbol",(e,t)=>{Zr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema")})(0,e)});function Zu(e){return function(e,t){return new e({type:"symbol",...Be(t)})}(Du,e)}const Cu=we("ZodUndefined",(e,t)=>{Cr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema")})(0,e)});function Fu(e){return function(e,t){return new e({type:"undefined",...Be(t)})}(Cu,e)}const Mu=we("ZodNull",(e,t)=>{Fr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{"openapi-3.0"===t.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"})(0,e,t)});function Uu(e){return function(e,t){return new e({type:"null",...Be(t)})}(Mu,e)}const Gu=we("ZodAny",(e,t)=>{Mr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function Ju(){return new Gu({type:"any"})}const Vu=we("ZodUnknown",(e,t)=>{Ur.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function Bu(){return new Vu({type:"unknown"})}const Lu=we("ZodNever",(e,t)=>{Gr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.not={}})(0,0,t)});function Yu(e){return function(e,t){return new e({type:"never",...Be(t)})}(Lu,e)}const Wu=we("ZodVoid",(e,t)=>{Jr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Void cannot be represented in JSON Schema")})(0,e)});function qu(e){return function(e,t){return new e({type:"void",...Be(t)})}(Wu,e)}const Ku=we("ZodDate",(e,t)=>{Vr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Date cannot be represented in JSON Schema")})(0,e),e.min=(t,n)=>e.check(hi(t,n)),e.max=(t,n)=>e.check(mi(t,n));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function Xu(e){return function(e,t){return new e({type:"date",...Be(t)})}(Ku,e)}const Hu=we("ZodArray",(e,t)=>{Lr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def,{minimum:a,maximum:u}=e._zod.bag;"number"==typeof a&&(o.minItems=a),"number"==typeof u&&(o.maxItems=u),o.type="array",o.items=Vi(i.element,t,{...r,path:[...r.path,"items"]})})(e,t,n,r),e.element=t.element,e.min=(t,n)=>e.check(zi(t,n)),e.nonempty=t=>e.check(zi(1,t)),e.max=(t,n)=>e.check(ji(t,n)),e.length=(t,n)=>e.check(Pi(t,n)),e.unwrap=()=>e.element});function Qu(e,t){return function(e,t,n){return new e({type:"array",element:t,...Be(n)})}(Hu,e,t)}function ec(e){const t=e._zod.def.shape;return kc(Object.keys(t))}const tc=we("ZodObject",(e,t)=>{Xr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object",o.properties={};const a=i.shape;for(const e in a)o.properties[e]=Vi(a[e],t,{...r,path:[...r.path,"properties",e]});const u=new Set(Object.keys(a)),c=new Set([...u].filter(e=>{const n=i.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));c.size>0&&(o.required=Array.from(c)),"never"===i.catchall?._zod.def.type?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=Vi(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):"output"===t.io&&(o.additionalProperties=!1)})(e,t,n,r),Ae(e,"shape",()=>t.shape),e.keyof=()=>kc(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Bu()}),e.loose=()=>e.clone({...e._zod.def,catchall:Bu()}),e.strict=()=>e.clone({...e._zod.def,catchall:Yu()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!Fe(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const n=e._zod.def.shape;for(const e in t)if(void 0!==Object.getOwnPropertyDescriptor(n,e))throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=$e(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Re(this,"shape",n),n}});return Ve(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!Fe(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=$e(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Re(this,"shape",n),n}});return Ve(e,n)}(e,t),e.merge=t=>function(e,t){const n=$e(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Re(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Ve(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");return Ve(e,$e(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return Re(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=$e(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return Re(this,"shape",r),r},checks:[]});return Ve(e,o)}(e,t),e.partial=(...t)=>function(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=$e(t._zod.def,{get shape(){const r=t._zod.def.shape,o={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(o[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)o[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return Re(this,"shape",o),o},checks:[]});return Ve(t,o)}(Ac,e,t[0]),e.required=(...t)=>function(e,t,n){const r=$e(t._zod.def,{get shape(){const r=t._zod.def.shape,o={...r};if(n)for(const t in n){if(!(t in o))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(o[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)o[t]=new e({type:"nonoptional",innerType:r[t]});return Re(this,"shape",o),o}});return Ve(t,r)}(Jc,e,t[0])});function nc(e,t){const n={type:"object",shape:e??{},...Be(t)};return new tc(n)}function rc(e,t){return new tc({type:"object",shape:e,catchall:Yu(),...Be(t)})}function oc(e,t){return new tc({type:"object",shape:e,catchall:Bu(),...Be(t)})}const ic=we("ZodUnion",(e,t)=>{Qr.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Ki(e,t,n,r),e.options=t.options});function ac(e,t){return new ic({type:"union",options:e,...Be(t)})}const uc=we("ZodXor",(e,t)=>{ic.init(e,t),to.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Ki(e,t,n,r),e.options=t.options});function cc(e,t){return new uc({type:"union",options:e,inclusive:!1,...Be(t)})}const sc=we("ZodDiscriminatedUnion",(e,t)=>{ic.init(e,t),no.init(e,t)});function lc(e,t,n){return new sc({type:"union",options:t,discriminator:e,...Be(n)})}const fc=we("ZodIntersection",(e,t)=>{ro.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i=Vi(o.left,t,{...r,path:[...r.path,"allOf",0]}),a=Vi(o.right,t,{...r,path:[...r.path,"allOf",1]}),u=e=>"allOf"in e&&1===Object.keys(e).length,c=[...u(i)?i.allOf:[i],...u(a)?a.allOf:[a]];n.allOf=c})(e,t,n,r)});function dc(e,t){return new fc({type:"intersection",left:e,right:t})}const pc=we("ZodTuple",(e,t)=>{ao.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="array";const a="draft-2020-12"===t.target?"prefixItems":"items",u="draft-2020-12"===t.target||"openapi-3.0"===t.target?"items":"additionalItems",c=i.items.map((e,n)=>Vi(e,t,{...r,path:[...r.path,a,n]})),s=i.rest?Vi(i.rest,t,{...r,path:[...r.path,u,..."openapi-3.0"===t.target?[i.items.length]:[]]}):null;"draft-2020-12"===t.target?(o.prefixItems=c,s&&(o.items=s)):"openapi-3.0"===t.target?(o.items={anyOf:c},s&&o.items.anyOf.push(s),o.minItems=c.length,s||(o.maxItems=c.length)):(o.items=c,s&&(o.additionalItems=s));const{minimum:l,maximum:f}=e._zod.bag;"number"==typeof l&&(o.minItems=l),"number"==typeof f&&(o.maxItems=f)})(e,t,n,r),e.rest=t=>e.clone({...e._zod.def,rest:t})});function mc(e,t,n){const r=t instanceof rr;return new pc({type:"tuple",items:e,rest:r?t:null,...Be(r?n:t)})}const yc=we("ZodRecord",(e,t)=>{co.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object";const a=i.keyType,u=a._zod.bag,c=u?.patterns;if("loose"===i.mode&&c&&c.size>0){const e=Vi(i.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const t of c)o.patternProperties[t.source]=e}else"draft-07"!==t.target&&"draft-2020-12"!==t.target||(o.propertyNames=Vi(i.keyType,t,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=Vi(i.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const s=a._zod.values;if(s){const e=[...s].filter(e=>"string"==typeof e||"number"==typeof e);e.length>0&&(o.required=e)}})(e,t,n,r),e.keyType=t.keyType,e.valueType=t.valueType});function hc(e,t,n){return new yc({type:"record",keyType:e,valueType:t,...Be(n)})}function vc(e,t,n){const r=Ve(e);return r._zod.values=void 0,new yc({type:"record",keyType:r,valueType:t,...Be(n)})}function bc(e,t,n){return new yc({type:"record",keyType:e,valueType:t,mode:"loose",...Be(n)})}const gc=we("ZodMap",(e,t)=>{so.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Map cannot be represented in JSON Schema")})(0,e),e.keyType=t.keyType,e.valueType=t.valueType,e.min=(...t)=>e.check(Oi(...t)),e.nonempty=t=>e.check(Oi(1,t)),e.max=(...t)=>e.check(_i(...t)),e.size=(...t)=>e.check(ki(...t))});function wc(e,t,n){return new gc({type:"map",keyType:e,valueType:t,...Be(n)})}const Sc=we("ZodSet",(e,t)=>{fo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Set cannot be represented in JSON Schema")})(0,e),e.min=(...t)=>e.check(Oi(...t)),e.nonempty=t=>e.check(Oi(1,t)),e.max=(...t)=>e.check(_i(...t)),e.size=(...t)=>e.check(ki(...t))});function _c(e,t){return new Sc({type:"set",valueType:e,...Be(t)})}const Oc=we("ZodEnum",(e,t)=>{mo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=je(e._zod.def.entries);r.every(e=>"number"==typeof e)&&(n.type="number"),r.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=r})(e,0,n),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const o={};for(const r of e){if(!n.has(r))throw new Error(`Key ${r} not found in enum`);o[r]=t.entries[r]}return new Oc({...t,checks:[],...Be(r),entries:o})},e.exclude=(e,r)=>{const o={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete o[t]}return new Oc({...t,checks:[],...Be(r),entries:o})}});function kc(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new Oc({type:"enum",entries:n,...Be(t)})}function jc(e,t){return new Oc({type:"enum",entries:e,...Be(t)})}const zc=we("ZodLiteral",(e,t)=>{yo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=e._zod.def,o=[];for(const e of r.values)if(void 0===e){if("throw"===t.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===t.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(e))}else o.push(e);if(0===o.length);else if(1===o.length){const e=o[0];n.type=null===e?"null":typeof e,"draft-04"===t.target||"openapi-3.0"===t.target?n.enum=[e]:n.const=e}else o.every(e=>"number"==typeof e)&&(n.type="number"),o.every(e=>"string"==typeof e)&&(n.type="string"),o.every(e=>"boolean"==typeof e)&&(n.type="boolean"),o.every(e=>null===e)&&(n.type="null"),n.enum=o})(e,t,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Pc(e,t){return new zc({type:"literal",values:Array.isArray(e)?e:[e],...Be(t)})}const Ic=we("ZodFile",(e,t)=>{ho.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:a,mime:u}=e._zod.bag;void 0!==i&&(o.minLength=i),void 0!==a&&(o.maxLength=a),u?1===u.length?(o.contentMediaType=u[0],Object.assign(r,o)):(Object.assign(r,o),r.anyOf=u.map(e=>({contentMediaType:e}))):Object.assign(r,o)})(e,0,n),e.min=(t,n)=>e.check(Oi(t,n)),e.max=(t,n)=>e.check(_i(t,n)),e.mime=(t,n)=>e.check(Ni(Array.isArray(t)?t:[t],n))});function Tc(e){return function(e,t){return new e({type:"file",...Be(t)})}(Ic,e)}const xc=we("ZodTransform",(e,t)=>{vo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema")})(0,e),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new _e(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(tt(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(tt(t))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(e=>(n.value=e,n)):(n.value=o,n)}});function Ec(e){return new xc({type:"transform",transform:e})}const Ac=we("ZodOptional",(e,t)=>{go.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Xi(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function Rc(e){return new Ac({type:"optional",innerType:e})}const $c=we("ZodExactOptional",(e,t)=>{wo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Xi(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function Nc(e){return new $c({type:"optional",innerType:e})}const Dc=we("ZodNullable",(e,t)=>{So.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i=Vi(o.innerType,t,r),a=t.seen.get(e);"openapi-3.0"===t.target?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function Zc(e){return new Dc({type:"nullable",innerType:e})}function Cc(e){return Rc(Zc(e))}const Fc=we("ZodDefault",(e,t)=>{_o.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;Vi(o.innerType,t,r),t.seen.get(e).ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Mc(e,t){return new Fc({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():Me(t)}})}const Uc=we("ZodPrefault",(e,t)=>{ko.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;Vi(o.innerType,t,r),t.seen.get(e).ref=o.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function Gc(e,t){return new Uc({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():Me(t)}})}const Jc=we("ZodNonOptional",(e,t)=>{jo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;Vi(o.innerType,t,r),t.seen.get(e).ref=o.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function Vc(e,t){return new Jc({type:"nonoptional",innerType:e,...Be(t)})}const Bc=we("ZodSuccess",(e,t)=>{Po.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t),e.unwrap=()=>e._zod.def.innerType});function Lc(e){return new Bc({type:"success",innerType:e})}const Yc=we("ZodCatch",(e,t)=>{Io.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;let i;Vi(o.innerType,t,r),t.seen.get(e).ref=o.innerType;try{i=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=i})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Wc(e,t){return new Yc({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}const qc=we("ZodNaN",(e,t)=>{To.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema")})(0,e)});function Kc(e){return function(e,t){return new e({type:"nan",...Be(t)})}(qc,e)}const Xc=we("ZodPipe",(e,t)=>{xo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i="input"===t.io?"transform"===o.in._zod.def.type?o.out:o.in:o.out;Vi(i,t,r),t.seen.get(e).ref=i})(e,t,0,r),e.in=t.in,e.out=t.out});function Hc(e,t){return new Xc({type:"pipe",in:e,out:t})}const Qc=we("ZodCodec",(e,t)=>{Xc.init(e,t),Ao.init(e,t)});function es(e,t,n){return new Qc({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}const ts=we("ZodReadonly",(e,t)=>{No.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;Vi(o.innerType,t,r),t.seen.get(e).ref=o.innerType,n.readOnly=!0})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function ns(e){return new ts({type:"readonly",innerType:e})}const rs=we("ZodTemplateLiteral",(e,t)=>{Zo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,o=e._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");r.type="string",r.pattern=o.source})(e,0,n)});function os(e,t){return new rs({type:"template_literal",parts:e,...Be(t)})}const is=we("ZodLazy",(e,t)=>{Mo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.innerType;Vi(o,t,r),t.seen.get(e).ref=o})(e,t,0,r),e.unwrap=()=>e._zod.def.getter()});function as(e){return new is({type:"lazy",getter:e})}const us=we("ZodPromise",(e,t)=>{Fo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;Vi(o.innerType,t,r),t.seen.get(e).ref=o.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function cs(e){return new us({type:"promise",innerType:e})}const ss=we("ZodFunction",(e,t)=>{Co.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")})(0,e)});function ls(e){return new ss({type:"function",input:Array.isArray(e?.input)?mc(e?.input):e?.input??Qu(Bu()),output:e?.output??Bu()})}const fs=we("ZodCustom",(e,t)=>{Uo.init(e,t),Sa.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")})(0,e)});function ds(e){const t=new En({check:"custom"});return t._zod.check=e,t}function ps(e,t){return function(e,t,n){const r=Be(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}(fs,e??(()=>!0),t)}function ms(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Be(n)})}(fs,e,t)}function ys(e){return function(e){const t=function(e){const t=new En({check:"custom",...Be(void 0)});return t._zod.check=e,t}(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(tt(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(tt(r))}},e(n.value,n)));return t}(e)}const hs=function(e){const t=new En({check:"describe"});return t._zod.onattach=[t=>{const n=Vo.get(t)??{};Vo.add(t,{...n,description:e})}],t._zod.check=()=>{},t},vs=function(e){const t=new En({check:"meta"});return t._zod.onattach=[t=>{const n=Vo.get(t)??{};Vo.add(t,{...n,...e})}],t._zod.check=()=>{},t};function bs(e,t={}){const n=new fs({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...Be(t)});return n._zod.bag.Class=e,n._zod.check=t=>{t.value instanceof e||t.issues.push({code:"invalid_type",expected:e.name,input:t.value,inst:n,path:[...n._zod.def.path??[]]})},n}const gs=(...e)=>function(e,t){const n=Be(t);let r=n.truthy??["true","1","yes","on","y","enabled"],o=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),o=o.map(e=>"string"==typeof e?e.toLowerCase():e));const i=new Set(r),a=new Set(o),u=e.Codec??Ao,c=e.Boolean??$r,s=new u({type:"pipe",in:new(e.String??or)({type:"string",error:n.error}),out:new c({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!i.has(r)||!a.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...a],input:t.value,inst:s,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":o[0]||"false",error:n.error});return s}({Codec:Qc,Boolean:Tu,String:Oa},...e);function ws(e){const t=as(()=>ac([ka(e),_u(),xu(),Uu(),Qu(t),hc(ka(),t)]));return t}function Ss(e,t){return Hc(Ec(e),t)}var _s;_s||(_s={}),new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]),ke({localeError:(()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return e=>{switch(e.code){case"invalid_type":{const t=r[e.expected]??e.expected,n=function(e){const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"nan":"number";case"object":{if(null===e)return"null";if(Array.isArray(e))return"array";const t=e;if(t&&Object.getPrototypeOf(t)!==Object.prototype&&"constructor"in t&&t.constructor)return t.constructor.name}}return t}(e.input);return`Invalid input: expected ${t}, received ${r[n]??n}`}case"invalid_value":return 1===e.values.length?`Invalid input: expected ${Le(e.values[0])}`:`Invalid option: expected one of ${ze(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Too big: expected ${e.origin??"value"} to have ${n}${e.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Too small: expected ${e.origin} to have ${n}${e.minimum.toString()} ${r.unit}`:`Too small: expected ${e.origin} to be ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Invalid string: must start with "${t.prefix}"`:"ends_with"===t.format?`Invalid string: must end with "${t.suffix}"`:"includes"===t.format?`Invalid string: must include "${t.includes}"`:"regex"===t.format?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${ze(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}})()});var Os=Qu(nc({fullName:ka().optional(),militaryRank:ka().optional(),dates:ka().min(1)}));function ks(e){return ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(e)}function js(e){var t="function"==typeof Map?new Map:void 0;return js=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(zs())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&Ps(o,n.prototype),o}(e,arguments,Is(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ps(n,e)},js(e)}function zs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zs=function(){return!!e})()}function Ps(e,t){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ps(e,t)}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Is(e)}var Ts=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Is(t),function(e,t){if(t&&("object"==ks(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zs()?Reflect.construct(t,n||[],Is(e).constructor):t.apply(e,n))}(this,t,["Invalid payroll value: ".concat(e)])).message=e,n.name="PayrollValueValidationError",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ps(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(js(Error));function xs(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Es(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Es(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Es(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Es(f,"constructor",s),Es(s,"constructor",c),c.displayName="GeneratorFunction",Es(s,o,"GeneratorFunction"),Es(f),Es(f,o,"Generator"),Es(f,r,function(){return this}),Es(f,"toString",function(){return"[object Generator]"}),(xs=function(){return{w:i,m:d}})()}function Es(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Es=function(e,t,n,r){function i(t,n){Es(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Es(e,t,n,r)}function As(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Rs=function(){var e,t=(e=xs().m(function e(t){var n,r,o;return xs().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t();case 1:return n=e.v,e.a(2,n);case 2:if(e.p=2,!((o=e.v)instanceof ua)){e.n=3;break}return console.log(o.issues),r=o.issues.map(function(e){var t=e.message,n=e.path;return"".concat(t," в рядку ").concat((null==n?void 0:n[0])+2)}).join("\n"),e.a(2,ge.ValidationError(r));case 3:if(!(o instanceof Ts)){e.n=4;break}return console.log(o),e.a(2,ge.ValidationError(o.message));case 4:return console.log(o),e.a(2,ge.UnknownError())}},e,null,[[0,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){As(i,r,o,a,u,"next",e)}function u(e){As(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();function $s(e){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(e)}function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach(function(t){Zs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zs(e,t,n){return(t=Js(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Fs(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Fs(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Fs(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Fs(f,"constructor",s),Fs(s,"constructor",c),c.displayName="GeneratorFunction",Fs(s,o,"GeneratorFunction"),Fs(f),Fs(f,o,"Generator"),Fs(f,r,function(){return this}),Fs(f,"toString",function(){return"[object Generator]"}),(Cs=function(){return{w:i,m:d}})()}function Fs(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Fs=function(e,t,n,r){function i(t,n){Fs(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Fs(e,t,n,r)}function Ms(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Us(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ms(i,r,o,a,u,"next",e)}function u(e){Ms(i,r,o,a,u,"throw",e)}a(void 0)})}}function Gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Js(r.key),r)}}function Js(e){var t=function(e){if("object"!=$s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$s(t)?t:t+""}var Vs=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t,this.tableRenderer=n},t=[{key:"execute",value:(n=Us(Cs().m(function e(){var t=this;return Cs().w(function(e){for(;;)if(0===e.n)return e.a(2,Rs(Us(Cs().m(function e(){var n,r,o,i,a;return Cs().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.tableReader.read();case 1:return n=e.v,r=t.filterValidRecords(n),o=t.fillMissingInfo(r),i=t.parseDateRanges(o),a=i.map(function(e){return e.getRenderItem()}),e.n=2,t.tableRenderer.render(a);case 2:return e.a(2,ge.Ok())}},e)}))))},e)})),function(){return n.apply(this,arguments)})},{key:"filterValidRecords",value:function(e){return Os.parse(e.filter(function(e){return!e.dates||null==e||!e.fullName||null!=e&&e.militaryRank||console.log("Missing military rank:",e),!!e.dates||!(null==e||!e.fullName)||!(null==e||!e.militaryRank)}))}},{key:"fillMissingInfo",value:function(e){return e.map(function(t,n){if(t.fullName)return t;for(var r=n-1;r>=0&&!e[r].fullName;)r--;if(r<0)throw new Error("No serviceman found for record at index ".concat(n));return Ds(Ds({},e[r]),{},{dates:t.dates})})}},{key:"parseDateRanges",value:function(e){return e.flatMap(function(e){return L.FromString(e.dates).map(function(t){return{serviceman:ce.fromRaw({fullName:e.fullName,militaryRank:e.militaryRank}),dateRange:t}})}).reduce(function(e,t){var n=e.find(function(e){return e.serviceman.equals(t.serviceman)&&t.dateRange.getMonthAndYear()===e.getMonthAndYear()});return n?n.addDateRange(t.dateRange):e.push(ye.Create(t.serviceman,[t.dateRange])),e},[]).sort(function(e,t){return e.serviceman.fullName.toString().localeCompare(t.serviceman.fullName.toString())})}}],t&&Gs(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Bs=Qu(nc({fullName:ka().min(5),militaryRank:ka().min(1),dates:ka().min(1)})),Ls=ka().regex(/^(0[1-9]|1[0-2])\.\d{4}$/,"Неправильний місяць (MM.YYYY)");function Ys(e){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(e)}function Ws(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return qs(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(qs(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,qs(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,qs(f,"constructor",s),qs(s,"constructor",c),c.displayName="GeneratorFunction",qs(s,o,"GeneratorFunction"),qs(f),qs(f,o,"Generator"),qs(f,r,function(){return this}),qs(f,"toString",function(){return"[object Generator]"}),(Ws=function(){return{w:i,m:d}})()}function qs(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}qs=function(e,t,n,r){function i(t,n){qs(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},qs(e,t,n,r)}function Ks(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Xs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ks(i,r,o,a,u,"next",e)}function u(e){Ks(i,r,o,a,u,"throw",e)}a(void 0)})}}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qs(r.key),r)}}function Qs(e){var t=function(e){if("object"!=Ys(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ys(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ys(t)?t:t+""}var el=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t,this.tableRenderer=n},t=[{key:"execute",value:(n=Xs(Ws().m(function e(t){var n=this;return Ws().w(function(e){for(;;)if(0===e.n)return e.a(2,Rs(Xs(Ws().m(function e(){var r,o,i,a;return Ws().w(function(e){for(;;)switch(e.n){case 0:return Ls.parse(t),e.n=1,n.tableReader.read();case 1:return r=e.v,o=Bs.parse(r),i=n.parseDateRanges(o,t),a=i.map(function(e){return e.getRenderItem()}),e.n=2,n.tableRenderer.render(a);case 2:return e.a(2,ge.Ok())}},e)}))))},e)})),function(e){return n.apply(this,arguments)})},{key:"parseDateRanges",value:function(e,t){return e.map(function(e){return ye.Create(ce.fromRaw(e),L.FromInstructorsString(e.dates,t),30)})}}],t&&Hs(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),tl=function(e){return 30===e||50===e||70===e||100===e};function nl(e){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(e)}function rl(e){return function(e){if(Array.isArray(e))return al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||il(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||il(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(e,t){if(e){if("string"==typeof e)return al(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?al(e,t):void 0}}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cl(r.key),r)}}function cl(e){var t=function(e){if("object"!=nl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nl(t)?t:t+""}var sl=function(e){return e<10?"0".concat(e):e},ll=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"resolve",value:function(e,t){var n=this,r=ol(t.split("."),2),o=r[0],i=r[1],a=new Date(Number(i),Number(o),0).getDate(),u=new Map,c=new Map;return e.forEach(function(e){var r=n.extractRangesFromRawPayrollItem(e,a,t);n.groupPayrollItems(e,r,c,u)}),{payrolls:c,payrollsByServiceman:u}}},{key:"extractRangesFromRawPayrollItem",value:function(e,t,n){for(var r=new Map,o=null,i=null,a=1;a<=t;a++){var u="".concat(sl(a),".").concat(n),c=e[u]?Number(e[u]):null,s=a===t;if(null===o&&c)o=u,i=Number(c);else if(null!==o&&c!==i){var l="".concat(sl(a-1),".").concat(n);i&&this.addRangeWithSplit(r,i,o,l),c?(o=u,i=Number(c)):(o=null,i=null)}s&&o&&i&&this.addRangeWithSplit(r,i,o,u)}return r}},{key:"groupPayrollItems",value:function(e,t,n,r){var o,i=String(e.taxPayerId||e.fullName),a=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=il(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t);try{for(a.s();!(o=a.n()).done;){var u=ol(o.value,2),c=u[0],s=u[1];if(tl(c)){var l=ye.Create(ce.FromRawExtended(e),s,c,e.reason),f=r.get(i)||[];r.set(i,[].concat(rl(f),[l]));var d=n.get(c)||[];n.set(c,[].concat(rl(d),[l]))}}}catch(e){a.e(e)}finally{a.f()}}},{key:"addRangeWithSplit",value:function(e,t,n,r){var o=new L(n,r);if(170===t){var i=e.get(100)||[];e.set(100,[].concat(rl(i),[o]));var a=e.get(70)||[];e.set(70,[].concat(rl(a),[o]))}else{var u=e.get(t)||[];e.set(t,[].concat(rl(u),[o]))}}}],t&&ul(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pl(r.key),r)}}function pl(e){var t=function(e){if("object"!=fl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fl(t)?t:t+""}var ml=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"parseDateRanges",value:function(e,t){return e.flatMap(function(e){return L.FromString(e.dates).map(function(t){return{serviceman:ce.fromRaw({fullName:e.fullName,militaryRank:e.militaryRank}),dateRange:t}})}).reduce(function(e,n){var r=e.find(function(e){return e.serviceman.equals(n.serviceman)&&n.dateRange.getMonthAndYear()===e.getMonthAndYear()});return r?r.addDateRange(n.dateRange):e.push(ye.Create(n.serviceman,[n.dateRange],t)),e},[]).sort(function(e,t){return e.serviceman.fullName.toString().localeCompare(t.serviceman.fullName.toString())})}}],null&&dl(e.prototype,null),t&&dl(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function yl(e){return yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(e)}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vl(r.key),r)}}function vl(e){var t=function(e){if("object"!=yl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=yl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yl(t)?t:t+""}var bl=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.taxPayerId=n,this.servicemanFullName=r,this.details=o}return t=e,n=[{key:"MissingServiceman",value:function(t,n){return new e("missing_serviceman",t,n)}},{key:"ExtraServiceman",value:function(t,n){return new e("extra_serviceman",t,n)}},{key:"DifferentRanges",value:function(t,n,r,o){return new e("different_ranges",t,n,{missingInFirst:r,missingInSecond:o})}}],null&&hl(t.prototype,null),n&&hl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||_l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function _l(e,t){if(e){if("string"==typeof e)return Ol(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ol(e,t):void 0}}function Ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jl(r.key),r)}}function jl(e){var t=function(e){if("object"!=gl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gl(t)?t:t+""}var zl=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"DetectOverlaps",value:function(e){var t,n=[],r=Sl(e);try{for(r.s();!(t=r.n()).done;){var o=wl(t.value,2),i=(o[0],o[1]);if(0!==i.length){var a=i[0].serviceman,u=this.collectDateOccurrences(i),c=this.findOverlappingDates(u);c.length>0&&n.push({serviceman:a,overlaps:c})}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"ComparePayrolls",value:function(e,t){var n,r=this.payrollsToMap(e),o=this.payrollsToMap(t),i=[],a=Sl(r);try{var u=function(){var e,t=wl(n.value,2),r=t[0],a=t[1],u=o.get(r),c=null==a||null===(e=a[0])||void 0===e||null===(e=e.serviceman)||void 0===e?void 0:e.taxPayerId;if(!u)return i.push(bl.MissingServiceman(c,r)),1;var s=a.flatMap(function(e){return e.getDates()}),l=u.flatMap(function(e){return e.getDates()}),f=new Set(s),d=new Set(l),p=l.filter(function(e){return!f.has(e)}),m=s.filter(function(e){return!d.has(e)});(p.length||m.length)&&i.push(bl.DifferentRanges(c,r,p,m)),o.delete(r)};for(a.s();!(n=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}var c,s=Sl(o);try{for(s.s();!(c=s.n()).done;){var l,f=wl(c.value,2),d=f[0],p=f[1],m=null==p||null===(l=p[0])||void 0===l||null===(l=l.serviceman)||void 0===l?void 0:l.taxPayerId;i.push(bl.ExtraServiceman(m,d))}}catch(e){s.e(e)}finally{s.f()}return{areEqual:0===i.length,differences:i}}},{key:"payrollsToMap",value:function(e){var t=new Map;return e.forEach(function(e){var n=e.serviceman.fullName.toString(),r=t.get(n)||[];t.set(n,[].concat(function(e){return function(e){if(Array.isArray(e))return Ol(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r),[e]))}),t}},{key:"collectDateOccurrences",value:function(e){var t,n=new Map,r=Sl(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(70!==o.value){var i,a=Sl(o.getDates());try{for(a.s();!(i=a.n()).done;){var u=i.value,c=n.get(u)||0;n.set(u,c+1)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findOverlappingDates",value:function(e){var t,n=[],r=Sl(e);try{for(r.s();!(t=r.n()).done;){var o=wl(t.value,2),i=o[0];o[1]>1&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n.sort(function(e,t){return e.localeCompare(t)})}}],null&&kl(e.prototype,null),t&&kl(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Pl(e){return Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(e)}function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach(function(t){Nl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xl(e){return function(e){if(Array.isArray(e))return Rl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Al(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Al(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){if(e){if("string"==typeof e)return Rl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rl(e,t):void 0}}function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dl(r.key),r)}}function Nl(e,t,n){return(t=Dl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e){var t=function(e){if("object"!=Pl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pl(t)?t:t+""}var Zl=Qu(nc({fullName:ka().min(1,"Full name is required"),militaryRank:ka().min(1,"Military rank is required"),unit:ac([ka().min(1,"Unit is required"),_u()]).optional(),taxPayerId:ac([ka(),_u()]).optional(),reason:Ju().optional()}).passthrough()),Cl=/^\d{2}\.\d{2}\.\d{4}$/,Fl=[30,50,70,100,170],Ml=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Nl(this,"knownFields",["fullName","militaryRank","unit","taxPayerId","reason"])},t=[{key:"validateDynamicFields",value:function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=El(r[n],2),i=o[0],a=o[1];if(!this.knownFields.includes(i))if(this.isValidDateKey(i)){var u=this.validatePayrollValue(i,a);u.isValid||t.push.apply(t,xl(u.errors))}else t.push({field:i,message:"Invalid date format. Expected DD.MM.YYYY, got: ".concat(i),value:i})}return{isValid:0===t.length,errors:t}}},{key:"validate",value:function(e){var t=this,n=[];if(Zl.parse(e),e.forEach(function(e,r){var o=t.validateDynamicFields(e);o.isValid||o.errors.forEach(function(t){n.push(Tl(Tl({},t),{},{field:"[".concat(e.fullName,"] ").concat(t.field)}))})}),n.length>0)throw new Ts(n.map(function(e){return e.message}).join(";"));return{isValid:0===n.length,errors:n}}},{key:"isValidDateKey",value:function(e){if(!Cl.test(e))return!1;var t=El(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];if(o<2e3||o>2100)return!1;if(r<1||r>12)return!1;if(n<1||n>31)return!1;var i=new Date(o,r-1,n);return i.getDate()===n&&i.getMonth()===r-1&&i.getFullYear()===o}},{key:"validatePayrollValue",value:function(e,t){var n=[];return""===t||null==t||Fl.includes(Number(t))?{isValid:!0,errors:[]}:(n.push({field:e,message:"Invalid payroll value. Allowed values: ".concat(Fl.join(", "),". Got: ").concat(t),value:t}),{isValid:!1,errors:n})}},{key:"extractDateFields",value:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var o=El(r[n],2),i=o[0],a=o[1];!this.knownFields.includes(i)&&Cl.test(i)&&(t[i]=a)}return t}}],t&&$l(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Ul(e){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(e)}function Gl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ll(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Jl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Vl(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Vl(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Vl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Vl(f,"constructor",s),Vl(s,"constructor",c),c.displayName="GeneratorFunction",Vl(s,o,"GeneratorFunction"),Vl(f),Vl(f,o,"Generator"),Vl(f,r,function(){return this}),Vl(f,"toString",function(){return"[object Generator]"}),(Jl=function(){return{w:i,m:d}})()}function Vl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Vl=function(e,t,n,r){function i(t,n){Vl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Vl(e,t,n,r)}function Bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Ll(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ll(e,t){if(e){if("string"==typeof e)return Yl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yl(e,t):void 0}}function Yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Wl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ql(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Wl(i,r,o,a,u,"next",e)}function u(e){Wl(i,r,o,a,u,"throw",e)}a(void 0)})}}function Kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xl(r.key),r)}}function Xl(e){var t=function(e){if("object"!=Ul(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ul(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ul(t)?t:t+""}var Hl=function(){return e=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.payrollTableReader=t,this.report30TableReader=n,this.report50TableReader=r,this.report70TableReader=o,this.report100TableReader=i,this.payrollTableRenderer=a,this.rawPayrollDataVerifier=u},t=[{key:"checkUnitPayroll",value:(o=ql(Jl().m(function e(t){var n=this;return Jl().w(function(e){for(;;)if(0===e.n)return e.a(2,Rs(ql(Jl().m(function e(){var r,o,i,a,u,c,s,l,f;return Jl().w(function(e){for(;;)switch(e.n){case 0:return Ls.parse(t),e.n=1,Promise.all([n.payrollTableReader.read(),n.reportItemsToPayrolls()]);case 1:return r=e.v,o=Bl(r,2),i=o[0],a=o[1],e.n=2,n.rawPayrollDataVerifier.verify(i,t);case 2:return u=e.v,console.log({issuesFromTracker:u}),(new Ml).validate(i),c=new ll,s=c.resolve(i,t),l=s.payrolls,f=n.comparePayrolls(l,a,u),console.log({issuesFromTracker:u}),e.n=3,n.renderIssues(f,i);case 3:return e.a(2,ge.Ok())}},e)}))))},e)})),function(e){return o.apply(this,arguments)})},{key:"reportItemsToPayrolls",value:(r=ql(Jl().m(function e(){var t,n,r,o,i,a,u;return Jl().w(function(e){for(;;)switch(e.n){case 0:return t=new Map,e.n=1,Promise.all([this.report30TableReader.read(),this.report50TableReader.read(),this.report70TableReader.read(),this.report100TableReader.read()]);case 1:return n=e.v,r=Bl(n,4),o=r[0],i=r[1],a=r[2],u=r[3],console.log({report100RawData:u}),t.set(30,ml.parseDateRanges(o)),t.set(50,ml.parseDateRanges(i)),t.set(70,ml.parseDateRanges(a)),t.set(100,ml.parseDateRanges(u)),e.a(2,t)}},e,this)})),function(){return r.apply(this,arguments)})},{key:"comparePayrolls",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,o=Gl(e);try{for(o.s();!(n=o.n()).done;){var i,a=Bl(n.value,2),u=a[0],c=a[1],s=t.get(u)||[],l=Gl(zl.ComparePayrolls(c,s).differences);try{for(l.s();!(i=l.n()).done;){var f=i.value,d=this.differenceToMessage(f,u),p=r.has(f.taxPayerId)?"".concat(r.get(f.taxPayerId),"; ").concat(d):d;r.set(f.taxPayerId,p)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"differenceToMessage",value:function(e,t){switch(e.type){case"missing_serviceman":return"У рапорті ".concat(t," відсутній військовослужбовець: ").concat(e.servicemanFullName);case"extra_serviceman":return"У рапорті ".concat(t," зайвий військовослужбовець: ").concat(e.servicemanFullName);case"different_ranges":var n=e.details,r=n.missingInFirst,o=n.missingInSecond;return[r.length?"Відсутні дати ".concat(t," у відомості: ").concat(r.join(", ")):"",o.length?"Відсутні дати у рапорті ".concat(t,": ").concat(o.join(", ")):""].filter(Boolean).join(" ")}}},{key:"renderIssues",value:(n=ql(Jl().m(function e(t,n){var r;return Jl().w(function(e){for(;;)switch(e.n){case 0:if(0!==(r=n.map(function(e){var n=e.taxPayerId?String(e.taxPayerId):null==e?void 0:e.fullName;return{comment:t.get(n)||""}})).length){e.n=1;break}return e.a(2);case 1:return e.a(2,this.payrollTableRenderer.render(r))}},e,this)})),function(e,t){return n.apply(this,arguments)})}],t&&Kl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}();function Ql(e){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(e)}function ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tf(r.key),r)}}function tf(e){var t=function(e){if("object"!=Ql(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ql(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ql(t)?t:t+""}var nf=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"generate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(new Date).getFullYear();return n.map(function(n,o){var i,a,u,c,s,l,f,d,p,m,y,h,v,b,g,w,S,_,O,k,j,z,P,I,T,x=e.get(n.servicemanId),E=null!==(i=t.get(n.servicemanId))&&void 0!==i?i:[],A={};E.forEach(function(e){var t,n,r,o=e.getMonthAndYear(),i=(null===(t=A[o])||void 0===t?void 0:t.days)||0,a=null!==(n=A[o])&&void 0!==n&&n.reason?[null===(r=A[o])||void 0===r?void 0:r.reason]:[];A[o]={days:i+e.getTotalDays(),reason:[].concat(a,[e.reason]).join("; ")}});var R=n.paymentsOrders.length,$=n.paymentsOrders.map(function(e){return e.name}).join("; "),N=n.paymentsOrders.filter(function(e){return e.year===r}).length;return{index:o+1,fullName:null==x?void 0:x.fullName.toString(),militaryRank:null==x?void 0:x.militaryRank,taxPayerId:null==x?void 0:x.taxPayerId,position:null==x?void 0:x.position,unit:null==x?void 0:x.unit,remainingDays:n.getRemainingDays(),totalEligibleDays:n.totalEligibleDays,initialAmountOfDays:n.initialAmountOfDays,numberOfPaymentOrdersInTheYear:N,numberOfPaymentOrders:R,paymentOrders:$,januaryDays:null===(a=A["01.".concat(r)])||void 0===a?void 0:a.days,januaryReason:null===(u=A["01.".concat(r)])||void 0===u?void 0:u.reason,februaryDays:null===(c=A["02.".concat(r)])||void 0===c?void 0:c.days,februaryReason:null===(s=A["02.".concat(r)])||void 0===s?void 0:s.reason,marchDays:null===(l=A["03.".concat(r)])||void 0===l?void 0:l.days,marchReason:null===(f=A["03.".concat(r)])||void 0===f?void 0:f.reason,aprilDays:null===(d=A["04.".concat(r)])||void 0===d?void 0:d.days,aprilReason:null===(p=A["04.".concat(r)])||void 0===p?void 0:p.reason,mayDays:null===(m=A["05.".concat(r)])||void 0===m?void 0:m.days,mayReason:null===(y=A["05.".concat(r)])||void 0===y?void 0:y.reason,juneDays:null===(h=A["06.".concat(r)])||void 0===h?void 0:h.days,juneReason:null===(v=A["06.".concat(r)])||void 0===v?void 0:v.reason,julyDays:null===(b=A["07.".concat(r)])||void 0===b?void 0:b.days,julyReason:null===(g=A["07.".concat(r)])||void 0===g?void 0:g.reason,augustDays:null===(w=A["08.".concat(r)])||void 0===w?void 0:w.days,augustReason:null===(S=A["08.".concat(r)])||void 0===S?void 0:S.reason,septemberDays:null===(_=A["09.".concat(r)])||void 0===_?void 0:_.days,septemberReason:null===(O=A["09.".concat(r)])||void 0===O?void 0:O.reason,octoberDays:null===(k=A["10.".concat(r)])||void 0===k?void 0:k.days,octoberReason:null===(j=A["10.".concat(r)])||void 0===j?void 0:j.reason,novemberDays:null===(z=A["11.".concat(r)])||void 0===z?void 0:z.days,novemberReason:null===(P=A["11.".concat(r)])||void 0===P?void 0:P.reason,decemberDays:null===(I=A["12.".concat(r)])||void 0===I?void 0:I.days,decemberReason:null===(T=A["12.".concat(r)])||void 0===T?void 0:T.reason}})}},{key:"generatePayrollRenderItems",value:function(e,t,n,r){var o=n.filter(function(e){return e.getRemainingPeriods()>0});return console.log({filteredAccurals:o}),o.map(function(n){var o,i=e.get(n.servicemanId),a=null!==(o=t.get(n.servicemanId))&&void 0!==o?o:[],u=a.filter(function(e){return e.getMonthAndYear()===r}).map(function(e){return e.reason}).join("; "),c=a.flatMap(function(e){return e.getDates()}).join("; ");return{fullName:null==i?void 0:i.fullName.toString(),militaryRank:null==i?void 0:i.militaryRank,taxPayerId:null==i?void 0:i.taxPayerId,unit:null==i?void 0:i.unit,days:n.getRemainingPeriods(),reason:u,dateRange:c}})}}],null&&ef(e.prototype,null),t&&ef(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function rf(e){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(e)}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,af(r.key),r)}}function af(e){var t=function(e){if("object"!=rf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rf(t)?t:t+""}var uf=function(){function e(t,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.servicemanId=n,this.payrollItems=r,this.totalEligibleDays=o,this.paymentsOrders=i,this.initialAmountOfDays=a}return t=e,n=[{key:"getRemainingDays",value:function(){return this.totalEligibleDays-30*this.getPaidPeriodsInTheYear()}},{key:"getPaidPeriodsInTheYear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2026;return this.paymentsOrders.filter(function(t){return t.year===e}).length}},{key:"getRemainingPeriods",value:function(){return Math.floor(this.getRemainingDays()/30)}}],r=[{key:"Create",value:function(t,n,r,o){var i=0,a=n.map(function(e){return i+=e.getTotalDays(),e.id}),u=function(e){return e.split(";").map(function(t){if(t){var n=t.match(/(\d{2})\.(\d{2})\.(\d{4})/);(!n||n.length<1)&&console.log("orders with error",{orders:e});var r=Number(n[2]),o=Number(n[3]);return 1===r&&(o-=1),{name:t.trim(),year:Number(o)}}}).filter(function(e){return e})}(r);return new e(oe(),t,a,i+o,u,o)}}],n&&of(t.prototype,n),r&&of(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}(),cf=Qu(nc({fullName:ka(),militaryRank:ka(),position:ka(),unit:ka(),taxPayerId:ac([ka(),_u()]).optional(),remainingDaysFromPreviousYear:_u().optional(),paymentsOrders:ka().optional()})),sf=Qu(nc({fullName:ka(),militaryRank:ka(),unit:ka(),taxPayerId:ac([ka(),_u()]).optional(),dates:ka(),reason:ka().optional()}));function lf(e){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(e)}function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach(function(t){pf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pf(e,t,n){return(t=_f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return yf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(yf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,yf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,yf(f,"constructor",s),yf(s,"constructor",c),c.displayName="GeneratorFunction",yf(s,o,"GeneratorFunction"),yf(f),yf(f,o,"Generator"),yf(f,r,function(){return this}),yf(f,"toString",function(){return"[object Generator]"}),(mf=function(){return{w:i,m:d}})()}function yf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}yf=function(e,t,n,r){function i(t,n){yf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},yf(e,t,n,r)}function hf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||vf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){if(e){if("string"==typeof e)return bf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bf(e,t):void 0}}function bf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function wf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){gf(i,r,o,a,u,"next",e)}function u(e){gf(i,r,o,a,u,"throw",e)}a(void 0)})}}function Sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_f(r.key),r)}}function _f(e){var t=function(e){if("object"!=lf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=lf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lf(t)?t:t+""}var Of=function(){return e=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialTableReader=t,this.payrollsTableReader=n,this.orderTableReader=r,this.rewardAccrualTableRenderer=o,this.payrollTableRenderer=i,this.newServicemansTableRenderer=a,this.initialTableRenderer=u},t=[{key:"createOrderAnnex",value:(o=wf(mf().m(function e(t){var n=this;return mf().w(function(e){for(;;)if(0===e.n)return e.a(2,Rs(wf(mf().m(function e(){var r,o,i,a,u,c,s,l,f,d;return mf().w(function(e){for(;;)switch(e.n){case 0:return Ls.parse(t),e.n=1,Promise.all([n.initialTableReader.read(),n.payrollsTableReader.read()]);case 1:return r=e.v,o=hf(r,2),i=o[0],a=o[1],console.log(i,a),n.validate(i,a),u=n.parseInputData(i,a),c=u.servicemans,s=u.payrolls,l=u.accruals,console.log({servicemans:c,payrolls:s,accruals:l}),f=nf.generate(c,s,l),d=nf.generatePayrollRenderItems(c,s,l,t),console.log({rewardAccrualRenderItems:f,payroll70RenderItems:d}),e.n=2,Promise.all([n.payrollTableRenderer.render(d),n.rewardAccrualTableRenderer.render(f)]);case 2:return e.a(2,ge.Ok())}},e)}))))},e)})),function(e){return o.apply(this,arguments)})},{key:"addNotExisting",value:(r=wf(mf().m(function e(){var t,n,r,o,i,a;return mf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.initialTableReader.read(),this.payrollsTableReader.read()]);case 1:return t=e.v,n=hf(t,2),r=n[0],o=n[1],i=new Map,r.forEach(function(e){return e.taxPayerId&&i.set(String(e.taxPayerId),1)}),a=o.filter(function(e){return!i.get(String(e.taxPayerId))}).map(function(e){return df(df({},e),{},{position:"",remainingDaysFromPreviousYear:0})}),e.n=2,this.newServicemansTableRenderer.render(a);case 2:return e.a(2,ge.Ok())}},e,this)})),function(){return r.apply(this,arguments)})},{key:"addOrder",value:(n=wf(mf().m(function e(t){var n,r,o,i,a;return mf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.initialTableReader.read(),this.orderTableReader.read()]);case 1:return n=e.v,r=hf(n,2),o=r[0],i=r[1],a=this.fillInitialData(o,i,t),e.n=2,this.initialTableRenderer.render(a);case 2:return e.a(2,ge.Ok())}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"validate",value:function(e,t){cf.parse(e),sf.parse(t)}},{key:"parseInputData",value:function(e,t){var n=new Map,r=new Map,o=new Map;return e.forEach(function(e){var t=ce.FromRawExtended(e);n.set(t.id,t),r.set(t.taxPayerId,t.id)}),t.forEach(function(e){var t=r.get(String(e.taxPayerId));t||console.error("Serviceman id not found, need to create serviceman");var i=n.get(t),a=ye.Create(i,L.FromString(e.dates),70,e.reason),u=o.get(t)||[];o.set(t,[].concat(function(e){return function(e){if(Array.isArray(e))return bf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u),[a]))}),{accruals:e.map(function(e){var t=r.get(String(e.taxPayerId));return uf.Create(t,o.get(t)||[],e.paymentsOrders,e.remainingDaysFromPreviousYear)}),servicemans:n,payrolls:o}}},{key:"fillInitialData",value:function(e,t,n){var r=new Map;return t.forEach(function(e){var t=e.taxPayerId,n=e.days;r.set(String(t).trim(),n)}),e.map(function(e){var t=r.get(String(e.taxPayerId).trim()),o=Array(t||0).fill(n).join("; ").trim();return o&&(e.paymentsOrders=e.paymentsOrders?"".concat(e.paymentsOrders,"; ").concat(o).trim():o),e})}}],t&&Sf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}();function kf(e){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(e)}function jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jf(Object(n),!0).forEach(function(t){$f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return If(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(If(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,If(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,If(f,"constructor",s),If(s,"constructor",c),c.displayName="GeneratorFunction",If(s,o,"GeneratorFunction"),If(f),If(f,o,"Generator"),If(f,r,function(){return this}),If(f,"toString",function(){return"[object Generator]"}),(Pf=function(){return{w:i,m:d}})()}function If(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}If=function(e,t,n,r){function i(t,n){If(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},If(e,t,n,r)}function Tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ef(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Af(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ef(i,r,o,a,u,"next",e)}function u(e){Ef(i,r,o,a,u,"throw",e)}a(void 0)})}}function Rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nf(r.key),r)}}function $f(e,t,n){return(t=Nf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nf(e){var t=function(e){if("object"!=kf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kf(t)?t:t+""}var Df=function(){return t=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$f(this,"reasonsMap",new Map),this.tableReader=t,this.reasonsMapReader=n,this.overlapsTableRenderer=r,this.table30Renderer=o,this.table50Renderer=i,this.table70Renderer=a,this.table100Renderer=u},n=[{key:"generateSummary",value:(a=Af(Pf().m(function e(t){var n=this;return Pf().w(function(e){for(;;)if(0===e.n)return e.a(2,Rs(Af(Pf().m(function e(){var r,o,i,a,u,c,s,l;return Pf().w(function(e){for(;;)switch(e.n){case 0:return Ls.parse(t),e.n=1,Promise.all([n.tableReader.read(),n.readReasons()]);case 1:if(r=e.v,o=Tf(r,1),i=o[0],(new Ml).validate(i),a=new ll,u=a.resolve(i,t),c=u.payrolls,s=u.payrollsByServiceman,!((l=zl.DetectOverlaps(s)).length>0)){e.n=3;break}return e.n=2,n.renderOverlaps(l);case 2:return e.a(2,ge.ValidationError("Задвоєних періодів: ".concat(l.length)));case 3:return e.n=4,n.renderSummary(c);case 4:return e.a(2,ge.Ok())}},e)}))))},e)})),function(e){return a.apply(this,arguments)})},{key:"check",value:(e=Af(Pf().m(function e(t){var n,r,o;return Pf().w(function(e){for(;;)switch(e.n){case 0:return Ls.parse(t),e.n=1,this.tableReader.read();case 1:n=e.v,(new Ml).validate(n),r=new ll,(o=r.resolve(n,t)).payrolls,o.payrollsByServiceman;case 2:return e.a(2)}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"renderOverlaps",value:(i=Af(Pf().m(function e(t){return Pf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.overlapsTableRenderer.render(t.map(function(e){var t=e.serviceman,n=e.overlaps;return{fullName:t.fullName.toString(),militaryRank:null==t?void 0:t.militaryRank,taxPayerId:String(null==t?void 0:t.taxPayerId),dates:null==n?void 0:n.join(", ")}}));case 1:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readReasons",value:(o=Af(Pf().m(function e(){var t=this;return Pf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.reasonsMapReader.read();case 1:e.v.forEach(function(e){var n=e.id,r=e.description;return t.reasonsMap.set(n,r)});case 2:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"renderSummary",value:(r=Af(Pf().m(function e(t){return Pf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.table30Renderer.render(this.getPayrollsRenderItems(t,30)),this.table50Renderer.render(this.getPayrollsRenderItems(t,50)),this.table70Renderer.render(this.getPayrollsRenderItems(t,70)),this.table100Renderer.render(this.getPayrollsRenderItems(t,100))]);case 1:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getPayrollsRenderItems",value:function(e,t){var n,r=this;return(null===(n=e.get(t))||void 0===n?void 0:n.map(function(e){return zf(zf({},e.getRenderItem()),{},{reason:r.reasonsMap.get(e.reason)})}))||[]}}],n&&Rf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var e,t,n,r,o,i,a}();function Zf(e){return Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(e)}function Cf(e){return function(e){if(Array.isArray(e))return Lf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(n),!0).forEach(function(t){Uf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uf(e,t,n){return(t=Kf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Jf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Jf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Jf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Jf(f,"constructor",s),Jf(s,"constructor",c),c.displayName="GeneratorFunction",Jf(s,o,"GeneratorFunction"),Jf(f),Jf(f,o,"Generator"),Jf(f,r,function(){return this}),Jf(f,"toString",function(){return"[object Generator]"}),(Gf=function(){return{w:i,m:d}})()}function Jf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Jf=function(e,t,n,r){function i(t,n){Jf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Jf(e,t,n,r)}function Vf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Bf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bf(e,t){if(e){if("string"==typeof e)return Lf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lf(e,t):void 0}}function Lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Wf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Yf(i,r,o,a,u,"next",e)}function u(e){Yf(i,r,o,a,u,"throw",e)}a(void 0)})}}function qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kf(r.key),r)}}function Kf(e){var t=function(e){if("object"!=Zf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zf(t)?t:t+""}var Xf=function(e){return e<10?"0".concat(e):e},Hf=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.payrollTableReader=t,this.visitorsTableReader=n,this.payrollTableRenderer=r},t=[{key:"validateVisitors",value:(i=Wf(Gf().m(function e(t){var n=this;return Gf().w(function(e){for(;;)if(0===e.n)return e.a(2,Rs(Wf(Gf().m(function e(){var r,o,i,a,u,c,s,l,f,d,p,m;return Gf().w(function(e){for(;;)switch(e.n){case 0:return Ls.parse(t),e.n=1,Promise.all([n.fetchRawPayroll(),n.fetchRawVisitors(t)]);case 1:return r=e.v,o=Vf(r,2),i=o[0],a=o[1],u=new ll,c=u.resolve(i,t),s=c.payrolls,l=c.payrollsByServiceman,f=u.resolve(a,t),d=f.payrolls,p=f.payrollsByServiceman,m=n.comparePayrolls(s,d,l),console.log({payrolls:s,visitorsPayroll:d,issues:m}),e.n=2,n.renderIssues(m,i,p);case 2:return e.a(2,ge.Ok())}},e)}))))},e)})),function(e){return i.apply(this,arguments)})},{key:"fetchRawPayroll",value:(o=Wf(Gf().m(function e(){var t;return Gf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.payrollTableReader.read();case 1:return t=e.v,(new Ml).validate(t),e.a(2,t.map(function(e){return Mf(Mf({},e),{},{taxPayerId:void 0})}))}},e,this)})),function(){return o.apply(this,arguments)})},{key:"fetchRawVisitors",value:(r=Wf(Gf().m(function e(t){var n;return Gf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.visitorsTableReader.read();case 1:return n=e.v,e.a(2,n.map(function(e){for(var n=Vf(t.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(Xf(a),".").concat(t);e[u]&&(e[u]=100)}return e}))}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"comparePayrolls",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=e.get(100),a=t.get(100)||[],u=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Bf(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(zl.ComparePayrolls(i,a).differences);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(n.has(c.servicemanFullName)){var s=this.differenceToMessage(c),l=o.has(c.servicemanFullName)?"".concat(o.get(c.servicemanFullName),"; ").concat(s):s;o.set(c.servicemanFullName,l)}}}catch(e){u.e(e)}finally{u.f()}return o}},{key:"differenceToMessage",value:function(e){switch(e.type){case"missing_serviceman":return"Ніхто не вказав у відомості відвідування: ".concat(e.servicemanFullName);case"extra_serviceman":return"Не проставили 100: ".concat(e.servicemanFullName);case"different_ranges":var t=e.details,n=t.missingInFirst,r=t.missingInSecond;return[n.length?"Не проставили 100 у відомості: ".concat(n.join(", ")):"",r.length?"Відсутні дати у відомостях відвідування: ".concat(r.join(", ")):""].filter(Boolean).join(" ")}}},{key:"renderIssues",value:(n=Wf(Gf().m(function e(t,n,r){var o,i;return Gf().w(function(e){for(;;)switch(e.n){case 0:if(o=[],0!==(i=n.map(function(e){var n=new X(e.fullName).toString(),i=r.get(n)||[],a=i.map(function(e){return e.getRenderItem().dateRange}).join("; "),u="".concat(a," ").concat(t.get(n)||"").trim(),c=i.flatMap(function(e){return e.getDates()}).map(function(e){return{rowId:n,field:e,styleId:"visitors"}});return o=[].concat(Cf(o),Cf(c)),{id:n,comment:u}})).length){e.n=1;break}return e.a(2);case 1:return console.log({overrides:o}),e.a(2,this.payrollTableRenderer.render(i,o))}},e,this)})),function(e,t,r){return n.apply(this,arguments)})}],t&&qf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o,i}();function Qf(e){return Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(e)}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function td(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return nd(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(nd(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,nd(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,nd(f,"constructor",s),nd(s,"constructor",c),c.displayName="GeneratorFunction",nd(s,o,"GeneratorFunction"),nd(f),nd(f,o,"Generator"),nd(f,r,function(){return this}),nd(f,"toString",function(){return"[object Generator]"}),(td=function(){return{w:i,m:d}})()}function nd(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}nd=function(e,t,n,r){function i(t,n){nd(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},nd(e,t,n,r)}function rd(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function od(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){rd(i,r,o,a,u,"next",e)}function u(e){rd(i,r,o,a,u,"throw",e)}a(void 0)})}}function id(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ad(r.key),r)}}function ad(e){var t=function(e){if("object"!=Qf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qf(t)?t:t+""}var ud=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t},t=[{key:"calculatePeriod",value:(n=od(td().m(function e(){var t=this;return td().w(function(e){for(;;)if(0===e.n)return e.a(2,Rs(od(td().m(function e(){var n,r;return td().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.tableReader.getSelected();case 1:return n=e.v,r=t.calculateSum(n),e.a(2,ge.Ok(r.toFixed(2)))}},e)}))))},e)})),function(){return n.apply(this,arguments)})},{key:"calculateSum",value:function(e){var t=e.values,n=e.header;return t.reduce(function(e,t,r){if(!t)return Number(e);var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ed(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(String(n[r]).split("."),3),i=(o[0],o[1]),a=o[2],u=new Date(Number(a),Number(i),0).getDate(),c=1e3*Number(t)/u;return Number(e)+c},0)}}],t&&id(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sd=function(e,t){return function(e){for(var t="";e>0;)e--,t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26);return t}(function(e){var t,n=0,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.toUpperCase());try{for(r.s();!(t=r.n()).done;)n=26*n+(t.value.charCodeAt(0)-64)}catch(e){r.e(e)}finally{r.f()}return n}(e)+t)},ld=function(e){return e<10?"0".concat(e):e};function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function dd(e){return dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(e)}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yd(e,t,n){return(t=function(e){var t=function(e){if("object"!=dd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hd=function(e){for(var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach(function(t){yd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:2,fields:[{name:"reason",column:"A"},{name:"unit",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"}]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{startRow:2}),n=(s=e.split("."),l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(s,l)||function(e,t){if(e){if("string"==typeof e)return pd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pd(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c})}var s,l;return t};function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bd={startRow:2,sheetName:"Задвоєні періоди",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"taxPayerId",column:"C",styleId:"default"},{name:"dates",column:"D",styleId:"dateRange"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"ІПН",styleId:"header"},{cell:"D1",value:"Задвоєні дати",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"autofit"},{column:"D",id:"wide"}]}},gd=function(e){return{startRow:2,sheetName:e,fields:[{name:"unit",column:"A",styleId:"default"},{name:"militaryRank",column:"B",styleId:"default"},{name:"fullName",column:"C",styleId:"default"},{name:"dateRange",column:"D",styleId:"dateRange"},{name:"days",column:"E",styleId:"default"},{name:"taxPayerId",column:"F",styleId:"default"},{name:"reason",column:"G",styleId:"default"}],predefined:{data:[{cell:"A1",value:"Підрозділ",styleId:"header"},{cell:"B1",value:"Звання",styleId:"header"},{cell:"C1",value:"ПІБ",styleId:"header"},{cell:"D1",value:"Період",styleId:"header"},{cell:"E1",value:"Днів",styleId:"header"},{cell:"F1",value:"ІПН",styleId:"header"},{cell:"G1",value:"Рапорт",styleId:"header"}],columnStyles:[{column:"C",id:"autofit"},{column:"D",id:"wide"},{column:"E",id:"autofit"},{column:"F",id:"autofit"},{column:"G",id:"wide"}]}}},wd={startRow:1,sheetName:"Довідка",fields:[{name:"id",column:"A"},{name:"description",column:"B"}]},Sd={startRow:2,sheetName:"70",fields:[{name:"unit",column:"A"},{name:"position",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"},{name:"remainingDaysFromPreviousYear",column:"F"},{name:"paymentsOrders",column:"G"}]},_d={startRow:2,sheetName:"70 в новий наказ",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"taxPayerId",column:"C",styleId:"default"},{name:"days",column:"D",styleId:"default"},{name:"reason",column:"E",styleId:"dateRange"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Військове звання",styleId:"header"},{cell:"C1",value:"ІПН",styleId:"header"},{cell:"D1",value:"Кількість виплат",styleId:"header"},{cell:"E1",value:"Підстава",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"autofit"},{column:"D",id:"autofit"},{column:"E",id:"wide"}]}},Od={startRow:2,sheetName:"70 з відомостей",fields:[{name:"unit",column:"A"},{name:"militaryRank",column:"B"},{name:"fullName",column:"C"},{name:"dates",column:"D"},{name:"taxPayerId",column:"F"},{name:"reason",column:"G"}]},kd={startRow:15,sheetName:"Відомість загальна",fields:[{name:"index",column:"A",styleId:"default",merge:{rows:2,columns:"A"}},{name:"unit",column:"B",styleId:"default",merge:{rows:2,columns:"B"}},{name:"position",column:"C",styleId:"default",merge:{rows:2,columns:"C"}},{name:"militaryRank",column:"D",styleId:"default",merge:{rows:2,columns:"D"}},{name:"fullName",column:"E",styleId:"default",merge:{rows:2,columns:"E"}},{name:"taxPayerId",column:"F",styleId:"default",merge:{rows:2,columns:"F"}},{name:"initialAmountOfDays",column:"H",styleId:"default"},{name:"januaryDays",column:"I",styleId:"default"},{name:"januaryReason",column:"I",styleId:"default",rowShift:1},{name:"februaryDays",column:"J",styleId:"default"},{name:"februaryReason",column:"J",styleId:"default",rowShift:1},{name:"marchDays",column:"K",styleId:"default"},{name:"marchReason",column:"K",styleId:"default",rowShift:1},{name:"aprilDays",column:"L",styleId:"default"},{name:"aprilReason",column:"L",styleId:"default",rowShift:1},{name:"mayDays",column:"M",styleId:"default"},{name:"mayReason",column:"M",styleId:"default",rowShift:1},{name:"juneDays",column:"N",styleId:"default"},{name:"juneReason",column:"N",styleId:"default",rowShift:1},{name:"julyDays",column:"O",styleId:"default"},{name:"julyReason",column:"O",styleId:"default",rowShift:1},{name:"augustDays",column:"P",styleId:"default"},{name:"augustReason",column:"P",styleId:"default",rowShift:1},{name:"septemberDays",column:"Q",styleId:"default"},{name:"septemberReason",column:"Q",styleId:"default",rowShift:1},{name:"octoberDays",column:"R",styleId:"default"},{name:"octoberReason",column:"R",styleId:"default",rowShift:1},{name:"novemberDays",column:"S",styleId:"default"},{name:"novemberReason",column:"S",styleId:"default",rowShift:1},{name:"decemberDays",column:"T",styleId:"default"},{name:"decemberReason",column:"T",styleId:"default",rowShift:1},{name:"totalEligibleDays",column:"U",styleId:"default"},{name:"numberOfPaymentOrdersInTheYear",column:"V",styleId:"default"},{name:"numberOfPaymentOrders",column:"W",styleId:"default"},{name:"paymentOrders",column:"W",styleId:"default",rowShift:1},{name:"remainingDays",column:"X",styleId:"default"}]};function jd(e){return jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(e)}function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pd(e,t,n){return(t=function(e){var t=function(e){if("object"!=jd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Id=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach(function(t){Pd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:2,sheetName:"70 нові",fields:[{name:"unit",column:"A"},{name:"position",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"},{name:"remainingDaysFromPreviousYear",column:"F"},{name:"paymentsOrders",column:"G"}],predefined:{data:[{cell:"A1",value:"Підрозділ",styleId:"header"},{cell:"B1",value:"Посада",styleId:"header"},{cell:"C1",value:"Звання",styleId:"header"},{cell:"D1",value:"ПІБ",styleId:"header"},{cell:"E1",value:"ІПН",styleId:"header"},{cell:"F1",value:"Кількість днів",styleId:"header"},{cell:"G1",value:"Накази",styleId:"header"}],columnStyles:[{column:"C",id:"autofit"},{column:"D",id:"wide"},{column:"E",id:"autofit"},{column:"F",id:"autofit"},{column:"G",id:"wide"}]}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})};function Td(e){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(e)}function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ed(e,t,n){return(t=function(e){var t=function(e){if("object"!=Td(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Td(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Td(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ad=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach(function(t){Ed(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:1,fields:[{name:"militaryRank",column:"A"},{name:"fullName",column:"B"},{name:"dates",column:"C"}]},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})};function Rd(e){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(e)}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dd(e,t,n){return(t=function(e){var t=function(e){if("object"!=Rd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zd=function(e){for(var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(t){Dd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:1,fields:[{name:"comment",column:"AL",styleId:"default"}]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=(s=e.split("."),l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(s,l)||function(e,t){if(e){if("string"==typeof e)return $d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$d(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c})}var s,l;return t};function Cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Fd={header:{horizontalAlignment:"Center",verticalAlignment:"Center",bold:!0},dateRange:{wrapText:!0},payrollDate:{textOrientation:90,bold:!0},default:{},visitors:{fillColor:"#f0b840"}},Md={autofit:{width:-1},wide:{width:250}};function Ud(e){return Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(e)}function Gd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jd(r.key),r)}}function Jd(e){var t=function(e){if("object"!=Ud(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ud(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ud(t)?t:t+""}var Vd=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"createMedicalPayrollUseCase",value:function(e){var t=new c(Fd,Md),n=new b(Ad()),r=function(e){for(var t={startRow:2,sheetName:"Медична відомість",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"dateRange",column:"C",styleId:"dateRange"},{name:"days",column:"D",styleId:"default"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"Період",styleId:"header"},{cell:"D1",value:"Днів",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"wide"},{column:"D",id:"autofit"}]}},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c,styleId:"default"}),t.predefined.data.push({value:u,cell:"".concat(c,"1"),styleId:"payrollDate"}),t.predefined.columnStyles.push({column:c,id:"autofit"})}return t}(e),o=new I(r,t);return new Vs(n,o)}},{key:"createInstructorsPayrollUseCase",value:function(e){var t=new c(Fd,Md),n=new b(Ad()),r=function(e){for(var t={startRow:2,sheetName:"Відомість інструкторів",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"dateRange",column:"C",styleId:"dateRange"},{name:"days",column:"D",styleId:"default"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"Період",styleId:"header"},{cell:"D1",value:"Днів",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"wide"},{column:"D",id:"autofit"}]}},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c,styleId:"default"}),t.predefined.data.push({value:u,cell:"".concat(c,"1"),styleId:"payrollDate"}),t.predefined.columnStyles.push({column:c,id:"autofit"})}return t}(e),o=new I(r,t);return new el(n,o)}},{key:"createCheckPayrollUseCase",value:function(e,t){var n=new c(Fd,Md),r=hd(e,{startRow:t}),o=new b(r),i=new b(Ad({sheetName:"30"})),a=new b(Ad({sheetName:"50"})),u=new b(Ad({sheetName:"70"})),s=new b(Ad({sheetName:"100"})),l=new I(Zd(e,{startRow:t}),n),f=new D;return new Hl(o,i,a,u,s,l,f)}},{key:"createVisitorsValidationUseCase",value:function(e,t){var n=new c(Fd,Md),r=hd(e,{startRow:t}),o=new b(r),i=new b(function(e){for(var t={startRow:arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,sheetName:"Відвідування",fields:[{name:"unit",column:"A"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"}]},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("D",a);t.fields.push({name:u,column:c})}return t}(e)),a=new I(Zd(e,{startRow:t}),n);return new Hf(o,i,a)}},{key:"create70PayrollUseCase",value:function(){var e=new c(Fd,Md),t=new b(Sd),n=new b(Od),r=new b(_d),o=new I(kd,e),i=new I(_d,e),a=new I(Id({sheetName:"70"}),e),u=new I(Id({sheetName:"70 нові"}),e);return new Of(t,n,r,o,i,u,a)}},{key:"createSummaryPayrollUseCase",value:function(e){var t=new c(Fd,Md),n=hd(e),r=new b(n),o=new b(wd),i=new I(bd,t),a=new I(gd("30"),t),u=new I(gd("50"),t),s=new I(gd("70"),t),l=new I(gd("100"),t);return new Df(r,o,i,a,u,s,l)}},{key:"createAuditUseCase",value:function(){var e=new b(hd("01.2026"));return new ud(e)}}],t&&Gd(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Bd(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Ld(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Ld(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ld(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Ld(f,"constructor",s),Ld(s,"constructor",c),c.displayName="GeneratorFunction",Ld(s,o,"GeneratorFunction"),Ld(f),Ld(f,o,"Generator"),Ld(f,r,function(){return this}),Ld(f,"toString",function(){return"[object Generator]"}),(Bd=function(){return{w:i,m:d}})()}function Ld(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ld=function(e,t,n,r){function i(t,n){Ld(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ld(e,t,n,r)}function Yd(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Wd=function(e){var t=document.getElementById("status"),n="orange",r="Опрацьовується";e&&(n=e.isError()?"red":"green",r=e.message),t.textContent=r,t.style.display="block",t.style.color=n},qd=function(){var e,t=(e=Bd().m(function e(t){var n,r;return Bd().w(function(e){for(;;)switch(e.n){case 0:return t.preventDefault(),Wd(),n=(new Vd).createAuditUseCase(),e.n=1,n.calculatePeriod();case 1:r=e.v,Wd(r);case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Yd(i,r,o,a,u,"next",e)}function u(e){Yd(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();Office.onReady(function(e){if(e.host===Office.HostType.Excel){var t=document.getElementById("auditForm");document.getElementById("app-body").style.display="block",t.addEventListener("submit",qd)}})}(),new URL(n(19233),n.b)}();
//# sourceMappingURL=audit.js.map