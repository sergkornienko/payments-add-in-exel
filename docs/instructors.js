/*! For license information please see instructors.js.LICENSE.txt */
!function(){"use strict";var e={55805:function(e,t,n){e.exports=n.p+"1fda685b81e1123773f6.css"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,function(){var e={};n.r(e),n.d(e,{base64:function(){return yt},base64url:function(){return ht},bigint:function(){return zt},boolean:function(){return Tt},browserEmail:function(){return ut},cidrv4:function(){return pt},cidrv6:function(){return mt},cuid:function(){return Je},cuid2:function(){return Ve},date:function(){return St},datetime:function(){return kt},domain:function(){return bt},duration:function(){return qe},e164:function(){return gt},email:function(){return nt},emoji:function(){return st},extendedDuration:function(){return Ke},guid:function(){return Xe},hex:function(){return $t},hostname:function(){return vt},html5Email:function(){return rt},idnEmail:function(){return at},integer:function(){return Pt},ipv4:function(){return lt},ipv6:function(){return ft},ksuid:function(){return Ye},lowercase:function(){return At},mac:function(){return dt},md5_base64:function(){return Ct},md5_base64url:function(){return Ft},md5_hex:function(){return Zt},nanoid:function(){return We},null:function(){return xt},number:function(){return It},rfc5322Email:function(){return ot},sha1_base64:function(){return Ut},sha1_base64url:function(){return Gt},sha1_hex:function(){return Mt},sha256_base64:function(){return Vt},sha256_base64url:function(){return Bt},sha256_hex:function(){return Jt},sha384_base64:function(){return Yt},sha384_base64url:function(){return Wt},sha384_hex:function(){return Lt},sha512_base64:function(){return Kt},sha512_base64url:function(){return Xt},sha512_hex:function(){return qt},string:function(){return jt},time:function(){return Ot},ulid:function(){return Be},undefined:function(){return Et},unicodeEmail:function(){return it},uppercase:function(){return Rt},uuid:function(){return He},uuid4:function(){return Qe},uuid6:function(){return et},uuid7:function(){return tt},xid:function(){return Le}});var t={};n.r(t),n.d(t,{endsWith:function(){return ti},gt:function(){return Zo},gte:function(){return Co},includes:function(){return Qo},length:function(){return qo},lowercase:function(){return Xo},lt:function(){return No},lte:function(){return Do},maxLength:function(){return Yo},maxSize:function(){return Vo},mime:function(){return ri},minLength:function(){return Wo},minSize:function(){return Bo},multipleOf:function(){return Jo},negative:function(){return Mo},nonnegative:function(){return Go},nonpositive:function(){return Uo},normalize:function(){return ii},overwrite:function(){return oi},positive:function(){return Fo},property:function(){return ni},regex:function(){return Ko},size:function(){return Lo},slugify:function(){return si},startsWith:function(){return ei},toLowerCase:function(){return ui},toUpperCase:function(){return ci},trim:function(){return ai},uppercase:function(){return Ho}});var r={};n.r(r),n.d(r,{ZodISODate:function(){return _i},ZodISODateTime:function(){return wi},ZodISODuration:function(){return zi},ZodISOTime:function(){return ki},date:function(){return Oi},datetime:function(){return Si},duration:function(){return Pi},time:function(){return ji}});var o={};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.r(o),n.d(o,{ZodAny:function(){return lu},ZodArray:function(){return wu},ZodBase64:function(){return xa},ZodBase64URL:function(){return Aa},ZodBigInt:function(){return Qa},ZodBigIntFormat:function(){return tu},ZodBoolean:function(){return Xa},ZodCIDRv4:function(){return za},ZodCIDRv6:function(){return Ia},ZodCUID:function(){return la},ZodCUID2:function(){return da},ZodCatch:function(){return yc},ZodCodec:function(){return Sc},ZodCustom:function(){return Rc},ZodCustomStringFormat:function(){return Ca},ZodDate:function(){return bu},ZodDefault:function(){return uc},ZodDiscriminatedUnion:function(){return Eu},ZodE164:function(){return $a},ZodEmail:function(){return Wi},ZodEmoji:function(){return aa},ZodEnum:function(){return Bu},ZodExactOptional:function(){return nc},ZodFile:function(){return Ku},ZodFunction:function(){return Ec},ZodGUID:function(){return Ki},ZodIPv4:function(){return wa},ZodIPv6:function(){return ka},ZodIntersection:function(){return Ru},ZodJWT:function(){return Da},ZodKSUID:function(){return ba},ZodLazy:function(){return Pc},ZodLiteral:function(){return Wu},ZodMAC:function(){return _a},ZodMap:function(){return Uu},ZodNaN:function(){return vc},ZodNanoID:function(){return ca},ZodNever:function(){return mu},ZodNonOptional:function(){return fc},ZodNull:function(){return cu},ZodNullable:function(){return oc},ZodNumber:function(){return Ja},ZodNumberFormat:function(){return Ba},ZodObject:function(){return Ou},ZodOptional:function(){return ec},ZodPipe:function(){return gc},ZodPrefault:function(){return sc},ZodPromise:function(){return Tc},ZodReadonly:function(){return Oc},ZodRecord:function(){return Zu},ZodSet:function(){return Ju},ZodString:function(){return Bi},ZodStringFormat:function(){return Yi},ZodSuccess:function(){return pc},ZodSymbol:function(){return ou},ZodTemplateLiteral:function(){return jc},ZodTransform:function(){return Hu},ZodTuple:function(){return Nu},ZodType:function(){return Ji},ZodULID:function(){return ma},ZodURL:function(){return ra},ZodUUID:function(){return Hi},ZodUndefined:function(){return au},ZodUnion:function(){return Pu},ZodUnknown:function(){return du},ZodVoid:function(){return hu},ZodXID:function(){return ha},ZodXor:function(){return Tu},_ZodString:function(){return Vi},_default:function(){return cc},_function:function(){return Ac},any:function(){return fu},array:function(){return Su},base64:function(){return Ea},base64url:function(){return Ra},bigint:function(){return eu},boolean:function(){return Ha},catch:function(){return hc},check:function(){return $c},cidrv4:function(){return Pa},cidrv6:function(){return Ta},codec:function(){return _c},cuid:function(){return fa},cuid2:function(){return pa},custom:function(){return Nc},date:function(){return gu},describe:function(){return Cc},discriminatedUnion:function(){return Au},e164:function(){return Na},email:function(){return qi},emoji:function(){return ua},enum:function(){return Lu},exactOptional:function(){return rc},file:function(){return Xu},float32:function(){return Ya},float64:function(){return Wa},function:function(){return Ac},guid:function(){return Xi},hash:function(){return Ga},hex:function(){return Ua},hostname:function(){return Ma},httpUrl:function(){return ia},instanceof:function(){return Mc},int:function(){return La},int32:function(){return qa},int64:function(){return nu},intersection:function(){return $u},ipv4:function(){return Sa},ipv6:function(){return ja},json:function(){return Gc},jwt:function(){return Za},keyof:function(){return _u},ksuid:function(){return ga},lazy:function(){return Ic},literal:function(){return qu},looseObject:function(){return zu},looseRecord:function(){return Mu},mac:function(){return Oa},map:function(){return Gu},meta:function(){return Fc},nan:function(){return bc},nanoid:function(){return sa},nativeEnum:function(){return Yu},never:function(){return yu},nonoptional:function(){return dc},null:function(){return su},nullable:function(){return ic},nullish:function(){return ac},number:function(){return Va},object:function(){return ku},optional:function(){return tc},partialRecord:function(){return Fu},pipe:function(){return wc},prefault:function(){return lc},preprocess:function(){return Jc},promise:function(){return xc},readonly:function(){return kc},record:function(){return Cu},refine:function(){return Dc},set:function(){return Vu},strictObject:function(){return ju},string:function(){return Li},stringFormat:function(){return Fa},stringbool:function(){return Uc},success:function(){return mc},superRefine:function(){return Zc},symbol:function(){return iu},templateLiteral:function(){return zc},transform:function(){return Qu},tuple:function(){return Du},uint32:function(){return Ka},uint64:function(){return ru},ulid:function(){return ya},undefined:function(){return uu},union:function(){return Iu},unknown:function(){return pu},url:function(){return oa},uuid:function(){return Qi},uuidv4:function(){return ea},uuidv6:function(){return ta},uuidv7:function(){return na},void:function(){return vu},xid:function(){return va},xor:function(){return xu}});var f=function(e){var t=e.match(/(\d{2})\.(\d{2})\.(\d{4})/);if(!t)throw new Error("Invalid date format: ".concat(e));var n=c(t.map(Number),4),r=n[1],o=n[2],i=n[3],a=new Date(i,o-1,r);if(a.getFullYear()!==i||a.getMonth()!==o-1||a.getDate()!==r)throw new Error("Invalid calendar date: ".concat(e));return a},d=function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)},p=function(e,t){for(var n=[],r=new Date(e);r<=t;){var o=new Date(r.getFullYear(),r.getMonth()+1,0),i=o<t?o:t;n.push(new m(d(r),d(i))),r=new Date(r.getFullYear(),r.getMonth()+1,1)}return n},m=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startDate=t,this.endDate=n,this.startDate=t.trim(),this.endDate=n.trim(),!this.isValidDate(this.startDate)||!this.isValidDate(this.endDate))throw new Error("Invalid date format")}return t=e,n=[{key:"isValidDate",value:function(e){return/^\d{2}\.\d{2}\.\d{4}$/.test(e)}},{key:"getMonthAndYear",value:function(){return this.startDate.trim().substring(3)}},{key:"isSingleDay",value:function(){return this.startDate===this.endDate}},{key:"toString",value:function(){return this.isSingleDay()?"за ".concat(this.startDate):"з ".concat(this.startDate," по ").concat(this.endDate)}}],r=[{key:"CreateRange",value:function(t,n,r){return new e("".concat(String(t).padStart(2,"0"),".").concat(r),"".concat(String(n).padStart(2,"0"),".").concat(r))}},{key:"FromInstructorsString",value:function(e,t){if(!e||!t)return[];if(!/^\d{2}\.\d{4}$/.test(t))throw new Error("Invalid month format. Expected MM.YYYY");var n=e.split(",").map(function(e){return e.trim()}).map(function(e){return e.replace(/\s*\(\d+\)\s*/g,"")}).map(function(e){return e.trim()}).filter(function(e){return e.length>0}).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)&&e>=1&&e<=31});if(0===n.length)return[];for(var r=Array.from(new Set(n)).sort(function(e,t){return e-t}),o=[],i=r[0],a=r[0],u=1;u<r.length;u++)r[u]===a+1||(o.push(this.CreateRange(i,a,t)),i=r[u]),a=r[u];return o.push(this.CreateRange(i,a,t)),o}},{key:"FromString",value:function(e){var t=function(e){var t=e.match(/\d{2}\.\d{2}\.\d{4}/);if(!t)throw new Error("Invalid date: ".concat(e));return t[0]};return e.replace(/;/g,",").split(",").map(function(e){return e.trim()}).filter(Boolean).flatMap(function(e){var n,r;if(/з\s+\d{2}\.\d{2}\.\d{4}\s+по\s+\d{2}\.\d{2}\.\d{4}/i.test(e)){var o=c(e.match(/\d{2}\.\d{2}\.\d{4}/g),2);n=o[0],r=o[1]}else if(/\d{2}\.\d{2}\.\d{4}\s*-\s*\d{2}\.\d{2}\.\d{4}/.test(e)){var i=c(e.split("-").map(t),2);n=i[0],r=i[1]}else{var a=t(e);n=a,r=a}var u=f(n),s=f(r);return p(u,s)})}},{key:"Combine",value:function(t){if(0===t.length)return[];for(var n=function(e){var t=c(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];return new Date(o,r-1,n)},r=function(e){return"".concat(String(e.getDate()).padStart(2,"0"),".").concat(String(e.getMonth()+1).padStart(2,"0"),".").concat(e.getFullYear())},o=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},i=function(e,t){return e.getTime()+864e5===t.getTime()},a=function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t).sort(function(e,t){return n(e.startDate).getTime()-n(t.startDate).getTime()}),u=[],f=a[0],d=1;d<a.length;d++){var p=a[d],m=n(f.startDate),y=n(f.endDate),h=n(p.startDate),v=n(p.endDate);h>=m&&v<=y&&o(m,h)||(o(m,h)&&(i(y,h)||h<=y)?f=new e(f.startDate,r(new Date(Math.max(y.getTime(),v.getTime())))):(u.push(f),f=p))}return u.push(f),u}}],n&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var b,g=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=this.normalize(t)},t=[{key:"normalize",value:function(e){return e?e.trim().split(/\s+/).map(function(e,t){return 0===t?e.trim().toUpperCase():e[0].trim().toUpperCase()+e.trim().toLowerCase().slice(1)}).join(" "):""}},{key:"toString",value:function(){return this.value}},{key:"equals",value:function(e){return this.value===e.value}}],t&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),w=new Uint8Array(16);function S(){if(!b&&!(b="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(w)}for(var _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,O=[],k=0;k<256;++k)O.push((k+256).toString(16).substr(1));var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(O[e[t+0]]+O[e[t+1]]+O[e[t+2]]+O[e[t+3]]+"-"+O[e[t+4]]+O[e[t+5]]+"-"+O[e[t+6]]+O[e[t+7]]+"-"+O[e[t+8]]+O[e[t+9]]+"-"+O[e[t+10]]+O[e[t+11]]+O[e[t+12]]+O[e[t+13]]+O[e[t+14]]+O[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&_.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},z=function(e,t,n){var r=(e=e||{}).random||(e.rng||S)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return j(r)};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function T(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}var x=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.fullName=n,this.militaryRank=r,this.taxPayerId=o,this.unit=i,this.position=a}return t=e,r=[{key:"fromRaw",value:function(t){return new e(z(),new g(t.fullName),t.militaryRank)}},{key:"FromRawExtended",value:function(t){var n=t.taxPayerId?String(t.taxPayerId):void 0;return new e(z(),new g(t.fullName),t.militaryRank,n,t.unit,t.position)}}],(n=[{key:"equals",value:function(e){return this.fullName.equals(e.fullName)}}])&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function N(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}var Z=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,"payrollDays",{}),this.id=t,this.serviceman=n,this.dateRanges=r,this.value=o,this.reason=i,this.calculatePayrollDays()}return t=e,n=[{key:"getTotalDays",value:function(){return this.getDates().length}},{key:"getMonthAndYear",value:function(){var e;return null===(e=this.dateRanges[0])||void 0===e?void 0:e.getMonthAndYear()}},{key:"getRenderItem",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({fullName:this.serviceman.fullName.toString(),militaryRank:this.serviceman.militaryRank,taxPayerId:this.serviceman.taxPayerId,unit:this.serviceman.unit,dateRange:this.dateRanges.map(function(e){return e.toString()}).join("; "),days:this.getTotalDays(),reason:this.reason},this.payrollDays)}},{key:"addDateRange",value:function(e){this.dateRanges.push(e),this.calculatePayrollDays()}},{key:"getDates",value:function(){return Object.keys(this.payrollDays)}},{key:"calculatePayrollDays",value:function(){var e=this;this.payrollDays={},this.dateRanges=m.Combine(this.dateRanges),this.dateRanges.forEach(function(t){for(var n=e.parseDate(t.startDate),r=e.parseDate(t.endDate),o=new Date(n);o<=r;){var i=e.formatDate(o);e.payrollDays[i]=e.value,o.setDate(o.getDate()+1)}})}},{key:"parseDate",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];return new Date(o,r-1,n)}},{key:"formatDate",value:function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)}}],r=[{key:"Create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3?arguments[3]:void 0;return new e(z(),t,n,r,o)}}],n&&$(t.prototype,n),r&&$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function M(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}var U=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.status=t,this.message=n}return t=e,r=[{key:"Ok",value:function(){return new e(200,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Слава Україні!")}},{key:"UnknownError",value:function(){return new e(500,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Невідома помилка")}},{key:"ValidationError",value:function(){return new e(400,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Вхідні дані мають помилку")}}],(n=[{key:"isError",value:function(){return 200!==this.status}}])&&F(t.prototype,n),r&&F(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function G(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:a,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);const o=a.prototype,i=Object.keys(o);for(let e=0;e<i.length;e++){const t=i[e];t in n||(n[t]=o[t].bind(n))}}const o=n?.Parent??Object;class i extends o{}function a(e){var t;const o=n?.Parent?new i:this;r(o,e),(t=o._zod).deferred??(t.deferred=[]);for(const e of o._zod.deferred)e();return o}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}Object.freeze({status:"aborted"}),Symbol("zod_brand");class J extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class V extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const B={};function L(e){return e&&Object.assign(B,e),B}function Y(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function W(e,t="|"){return e.map(e=>me(e)).join(t)}function q(e,t){return"bigint"==typeof t?t.toString():t}function K(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function X(e){return null==e}function H(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Q=Symbol("evaluating");function ee(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Q)return void 0===r&&(r=Q,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function te(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ne(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function re(e){return JSON.stringify(e)}const oe="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ie(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const ae=K(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function ue(e){if(!1===ie(e))return!1;const t=e.constructor;if(void 0===t)return!0;if("function"!=typeof t)return!0;const n=t.prototype;return!1!==ie(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function ce(e){return ue(e)?{...e}:Array.isArray(e)?[...e]:e}const se=new Set(["string","number","symbol"]),le=new Set(["string","number","bigint","boolean","symbol","undefined"]);function fe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function de(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function pe(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function me(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}const ye={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},he={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ve(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function be(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function ge(e){return"string"==typeof e?e:e?.message}function we(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=ge(e.inst?._zod.def?.error?.(e))??ge(t?.error?.(e))??ge(n.customError?.(e))??ge(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Se(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function _e(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function Oe(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}const ke=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,q,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},je=G("$ZodError",ke),ze=G("$ZodError",ke,{Parent:Error}),Pe=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new J;if(a.issues.length){const t=new(o?.Err??e)(a.issues.map(e=>we(e,i,L())));throw oe(t,o?.callee),t}return a.value},Ie=Pe(ze),Te=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const t=new(o?.Err??e)(a.issues.map(e=>we(e,i,L())));throw oe(t,o?.callee),t}return a.value},xe=Te(ze),Ee=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new J;return i.issues.length?{success:!1,error:new(e??je)(i.issues.map(e=>we(e,o,L())))}:{success:!0,data:i.value}},Ae=Ee(ze),Re=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(e=>we(e,o,L())))}:{success:!0,data:i.value}},$e=Re(ze),Ne=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Pe(e)(t,n,o)},De=e=>(t,n,r)=>Pe(e)(t,n,r),Ze=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Te(e)(t,n,o)},Ce=e=>async(t,n,r)=>Te(e)(t,n,r),Fe=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ee(e)(t,n,o)},Me=e=>(t,n,r)=>Ee(e)(t,n,r),Ue=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Re(e)(t,n,o)},Ge=e=>async(t,n,r)=>Re(e)(t,n,r),Je=/^[cC][^\s-]{8,}$/,Ve=/^[0-9a-z]+$/,Be=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Le=/^[0-9a-vA-V]{20}$/,Ye=/^[A-Za-z0-9]{27}$/,We=/^[a-zA-Z0-9_-]{21}$/,qe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ke=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,He=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Qe=He(4),et=He(6),tt=He(7),nt=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,rt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ot=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,it=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,at=it,ut=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ct="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function st(){return new RegExp(ct,"u")}const lt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ft=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dt=e=>{const t=fe(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},pt=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,mt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yt=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ht=/^[A-Za-z0-9_-]*$/,vt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,bt=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,gt=/^\+[1-9]\d{6,14}$/,wt="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",St=new RegExp(`^${wt}$`);function _t(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Ot(e){return new RegExp(`^${_t(e)}$`)}function kt(e){const t=_t({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${wt}T(?:${r})$`)}const jt=e=>new RegExp(`^${e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*"}$`),zt=/^-?\d+n?$/,Pt=/^-?\d+$/,It=/^-?\d+(?:\.\d+)?$/,Tt=/^(?:true|false)$/i,xt=/^null$/i,Et=/^undefined$/i,At=/^[^A-Z]*$/,Rt=/^[^a-z]*$/,$t=/^[0-9a-fA-F]*$/;function Nt(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function Dt(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const Zt=/^[0-9a-fA-F]{32}$/,Ct=Nt(22,"=="),Ft=Dt(22),Mt=/^[0-9a-fA-F]{40}$/,Ut=Nt(27,"="),Gt=Dt(27),Jt=/^[0-9a-fA-F]{64}$/,Vt=Nt(43,"="),Bt=Dt(43),Lt=/^[0-9a-fA-F]{96}$/,Yt=Nt(64,""),Wt=Dt(64),qt=/^[0-9a-fA-F]{128}$/,Kt=Nt(86,"=="),Xt=Dt(86),Ht=G("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Qt={number:"number",bigint:"bigint",object:"date"},en=G("$ZodCheckLessThan",(e,t)=>{Ht.init(e,t);const n=Qt[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tn=G("$ZodCheckGreaterThan",(e,t)=>{Ht.init(e,t);const n=Qt[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nn=G("$ZodCheckMultipleOf",(e,t)=>{Ht.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(0===o&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(o=Number.parseInt(e[1]))}const i=n>o?n:o;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),rn=G("$ZodCheckNumberFormat",(e,t)=>{Ht.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,i]=ye[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=o,r.maximum=i,n&&(r.pattern=Pt)}),e._zod.check=a=>{const u=a.value;if(n){if(!Number.isInteger(u))return void a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});if(!Number.isSafeInteger(u))return void(u>0?a.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):a.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}))}u<o&&a.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&a.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),on=G("$ZodCheckBigIntFormat",(e,t)=>{Ht.init(e,t);const[n,r]=he[t.format];e._zod.onattach.push(e=>{const o=e._zod.bag;o.format=t.format,o.minimum=n,o.maximum=r}),e._zod.check=o=>{const i=o.value;i<n&&o.issues.push({origin:"bigint",input:i,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),i>r&&o.issues.push({origin:"bigint",input:i,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),an=G("$ZodCheckMaxSize",(e,t)=>{var n;Ht.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!X(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;r.size<=t.maximum||n.issues.push({origin:Se(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),un=G("$ZodCheckMinSize",(e,t)=>{var n;Ht.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!X(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;r.size>=t.minimum||n.issues.push({origin:Se(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),cn=G("$ZodCheckSizeEquals",(e,t)=>{var n;Ht.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!X(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{const r=n.value,o=r.size;if(o===t.size)return;const i=o>t.size;n.issues.push({origin:Se(r),...i?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),sn=G("$ZodCheckMaxLength",(e,t)=>{var n;Ht.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!X(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const o=_e(r);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),ln=G("$ZodCheckMinLength",(e,t)=>{var n;Ht.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!X(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const o=_e(r);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),fn=G("$ZodCheckLengthEquals",(e,t)=>{var n;Ht.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!X(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,o=r.length;if(o===t.length)return;const i=_e(r),a=o>t.length;n.issues.push({origin:i,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),dn=G("$ZodCheckStringFormat",(e,t)=>{var n,r;Ht.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),pn=G("$ZodCheckRegex",(e,t)=>{dn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),mn=G("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=At),dn.init(e,t)}),yn=G("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Rt),dn.init(e,t)}),hn=G("$ZodCheckIncludes",(e,t)=>{Ht.init(e,t);const n=fe(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),vn=G("$ZodCheckStartsWith",(e,t)=>{Ht.init(e,t);const n=new RegExp(`^${fe(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),bn=G("$ZodCheckEndsWith",(e,t)=>{Ht.init(e,t);const n=new RegExp(`.*${fe(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function gn(e,t,n){e.issues.length&&t.issues.push(...be(n,e.issues))}const wn=G("$ZodCheckProperty",(e,t)=>{Ht.init(e,t),e._zod.check=e=>{const n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>gn(n,e,t.property));gn(n,e,t.property)}}),Sn=G("$ZodCheckMimeType",(e,t)=>{Ht.init(e,t);const n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e,continue:!t.abort})}}),_n=G("$ZodCheckOverwrite",(e,t)=>{Ht.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class On{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const kn={major:4,minor:3,patch:5},jn=G("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=kn;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const t of r)for(const n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,o=ve(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(o)continue;const t=e.issues.length,a=i._zod.check(e);if(a instanceof Promise&&!1===n?.async)throw new J;if(r||a instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(o||(o=ve(e,t)))});else{if(e.issues.length===t)continue;o||(o=ve(e,t))}}return r?r.then(()=>e):e},n=(n,o,i)=>{if(ve(n))return n.aborted=!0,n;const a=t(o,r,i);if(a instanceof Promise){if(!1===i.async)throw new J;return a.then(t=>e._zod.parse(t,i))}return e._zod.parse(a,i)};e._zod.run=(o,i)=>{if(i.skipChecks)return e._zod.parse(o,i);if("backward"===i.direction){const t=e._zod.parse({value:o.value,issues:[]},{...i,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,o,i)):n(t,o,i)}const a=e._zod.parse(o,i);if(a instanceof Promise){if(!1===i.async)throw new J;return a.then(e=>t(e,r,i))}return t(a,r,i)}}ee(e,"~standard",()=>({validate:t=>{try{const n=Ae(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return $e(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}))}),zn=G("$ZodString",(e,t)=>{jn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??jt(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Pn=G("$ZodStringFormat",(e,t)=>{dn.init(e,t),zn.init(e,t)}),In=G("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Xe),Pn.init(e,t)}),Tn=G("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=He(e))}else t.pattern??(t.pattern=He());Pn.init(e,t)}),xn=G("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=nt),Pn.init(e,t)}),En=G("$ZodURL",(e,t)=>{Pn.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=o.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),An=G("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=st()),Pn.init(e,t)}),Rn=G("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=We),Pn.init(e,t)}),$n=G("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Je),Pn.init(e,t)}),Nn=G("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Ve),Pn.init(e,t)}),Dn=G("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Be),Pn.init(e,t)}),Zn=G("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Le),Pn.init(e,t)}),Cn=G("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Ye),Pn.init(e,t)}),Fn=G("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=kt(t)),Pn.init(e,t)}),Mn=G("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=St),Pn.init(e,t)}),Un=G("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Ot(t)),Pn.init(e,t)}),Gn=G("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=qe),Pn.init(e,t)}),Jn=G("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=lt),Pn.init(e,t),e._zod.bag.format="ipv4"}),Vn=G("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ft),Pn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Bn=G("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=dt(t.delimiter)),Pn.init(e,t),e._zod.bag.format="mac"}),Ln=G("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=pt),Pn.init(e,t)}),Yn=G("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=mt),Pn.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Wn(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const qn=G("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=yt),Pn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Wn(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}),Kn=G("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=ht),Pn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{(function(e){if(!ht.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return Wn(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Xn=G("$ZodE164",(e,t)=>{t.pattern??(t.pattern=gt),Pn.init(e,t)}),Hn=G("$ZodJWT",(e,t)=>{Pn.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&"JWT"!==o?.typ||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Qn=G("$ZodCustomStringFormat",(e,t)=>{Pn.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),er=G("$ZodNumber",(e,t)=>{jn.init(e,t),e._zod.pattern=e._zod.bag.pattern??It,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}const o=n.value;if("number"==typeof o&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i="number"==typeof o?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),tr=G("$ZodNumberFormat",(e,t)=>{rn.init(e,t),er.init(e,t)}),nr=G("$ZodBoolean",(e,t)=>{jn.init(e,t),e._zod.pattern=Tt,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(e){}const o=n.value;return"boolean"==typeof o||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),rr=G("$ZodBigInt",(e,t)=>{jn.init(e,t),e._zod.pattern=zt,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(e){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),or=G("$ZodBigIntFormat",(e,t)=>{on.init(e,t),rr.init(e,t)}),ir=G("$ZodSymbol",(e,t)=>{jn.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),ar=G("$ZodUndefined",(e,t)=>{jn.init(e,t),e._zod.pattern=Et,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),ur=G("$ZodNull",(e,t)=>{jn.init(e,t),e._zod.pattern=xt,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),cr=G("$ZodAny",(e,t)=>{jn.init(e,t),e._zod.parse=e=>e}),sr=G("$ZodUnknown",(e,t)=>{jn.init(e,t),e._zod.parse=e=>e}),lr=G("$ZodNever",(e,t)=>{jn.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),fr=G("$ZodVoid",(e,t)=>{jn.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),dr=G("$ZodDate",(e,t)=>{jn.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(e){}const o=n.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:e}),n}});function pr(e,t,n){e.issues.length&&t.issues.push(...be(n,e.issues)),t.value[n]=e.value}const mr=G("$ZodArray",(e,t)=>{jn.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let e=0;e<o.length;e++){const a=o[e],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?i.push(u.then(t=>pr(t,n,e))):pr(u,n,e)}return i.length?Promise.all(i).then(()=>n):n}});function yr(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...be(n,e.issues))}void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function hr(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=(r=e.shape,Object.keys(r).filter(e=>"optional"===r[e]._zod.optin&&"optional"===r[e]._zod.optout));var r;return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function vr(e,t,n,r,o,i){const a=[],u=o.keySet,c=o.catchall._zod,s=c.def.type,l="optional"===c.optout;for(const o in t){if(u.has(o))continue;if("never"===s){a.push(o);continue}const i=c.run({value:t[o],issues:[]},r);i instanceof Promise?e.push(i.then(e=>yr(e,n,o,t,l))):yr(i,n,o,t,l)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const br=G("$ZodObject",(e,t)=>{jn.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=K(()=>hr(t));ee(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const o=ie,i=t.catchall;let a;e._zod.parse=(t,n)=>{a??(a=r.value);const u=t.value;if(!o(u))return t.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),t;t.value={};const c=[],s=a.shape;for(const e of a.keys){const r=s[e],o="optional"===r._zod.optout,i=r._zod.run({value:u[e],issues:[]},n);i instanceof Promise?c.push(i.then(n=>yr(n,t,e,u,o))):yr(i,t,e,u,o)}return i?vr(c,u,t,n,r.value,e):c.length?Promise.all(c).then(()=>t):t}}),gr=G("$ZodObjectJIT",(e,t)=>{br.init(e,t);const n=e._zod.parse,r=K(()=>hr(t));let o;const i=ie,a=!B.jitless,u=a&&ae.value,c=t.catchall;let s;e._zod.parse=(l,f)=>{s??(s=r.value);const d=l.value;return i(d)?a&&u&&!1===f?.async&&!0!==f.jitless?(o||(o=(e=>{const t=new On(["shape","payload","ctx"]),n=r.value,o=e=>{const t=re(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const i=Object.create(null);let a=0;for(const e of n.keys)i[e]="key_"+a++;t.write("const newResult = {};");for(const r of n.keys){const n=i[r],a=re(r),u=e[r],c="optional"===u?._zod?.optout;t.write(`const ${n} = ${o(r)};`),c?t.write(`\n        if (${n}.issues.length) {\n          if (${a} in input) {\n            payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${a}, ...iss.path] : [${a}]\n            })));\n          }\n        }\n        \n        if (${n}.value === undefined) {\n          if (${a} in input) {\n            newResult[${a}] = undefined;\n          }\n        } else {\n          newResult[${a}] = ${n}.value;\n        }\n        \n      `):t.write(`\n        if (${n}.issues.length) {\n          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${a}, ...iss.path] : [${a}]\n          })));\n        }\n        \n        if (${n}.value === undefined) {\n          if (${a} in input) {\n            newResult[${a}] = undefined;\n          }\n        } else {\n          newResult[${a}] = ${n}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const u=t.compile();return(t,n)=>u(e,t,n)})(t.shape)),l=o(l,f),c?vr([],d,l,f,s,e):l):n(l,f):(l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l)}});function wr(e,t,n,r){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;const o=e.filter(e=>!ve(e));return 1===o.length?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>we(e,r,L())))}),t)}const Sr=G("$ZodUnion",(e,t)=>{jn.init(e,t),ee(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),ee(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),ee(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),ee(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>H(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const u=[];for(const e of t.options){const t=e._zod.run({value:o.value,issues:[]},i);if(t instanceof Promise)u.push(t),a=!0;else{if(0===t.issues.length)return t;u.push(t)}}return a?Promise.all(u).then(t=>wr(t,o,e,i)):wr(u,o,e,i)}});function _r(e,t,n,r){const o=e.filter(e=>0===e.issues.length);return 1===o.length?(t.value=o[0].value,t):(0===o.length?t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>we(e,r,L())))}):t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:[],inclusive:!1}),t)}const Or=G("$ZodXor",(e,t)=>{Sr.init(e,t),t.inclusive=!1;const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const u=[];for(const e of t.options){const t=e._zod.run({value:o.value,issues:[]},i);t instanceof Promise?(u.push(t),a=!0):u.push(t)}return a?Promise.all(u).then(t=>_r(t,o,e,i)):_r(u,o,e,i)}}),kr=G("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Sr.init(e,t);const n=e._zod.parse;ee(e._zod,"propValues",()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const r=K(()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(o,i)=>{const a=o.value;if(!ie(a))return o.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),o;const u=r.value.get(a?.[t.discriminator]);return u?u._zod.run(o,i):t.unionFallback?n(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),o)}}),jr=G("$ZodIntersection",(e,t)=>{jn.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,o=t.left._zod.run({value:r,issues:[]},n),i=t.right._zod.run({value:r,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([t,n])=>Pr(e,t,n)):Pr(e,o,i)}});function zr(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(ue(e)&&ue(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),o={...e,...t};for(const n of r){const r=zr(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};o[n]=r.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=zr(e[r],t[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Pr(e,t,n){const r=new Map;let o;for(const n of t.issues)if("unrecognized_keys"===n.code){o??(o=n);for(const e of n.keys)r.has(e)||r.set(e,{}),r.get(e).l=!0}else e.issues.push(n);for(const t of n.issues)if("unrecognized_keys"===t.code)for(const e of t.keys)r.has(e)||r.set(e,{}),r.get(e).r=!0;else e.issues.push(t);const i=[...r].filter(([,e])=>e.l&&e.r).map(([e])=>e);if(i.length&&o&&e.issues.push({...o,keys:i}),ve(e))return e;const a=zr(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const Ir=G("$ZodTuple",(e,t)=>{jn.init(e,t);const n=t.items;e._zod.parse=(r,o)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const a=[],u=[...n].reverse().findIndex(e=>"optional"!==e._zod.optin),c=-1===u?0:n.length-u;if(!t.rest){const t=i.length>n.length,o=i.length<c-1;if(t||o)return r.issues.push({...t?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:i,inst:e,origin:"array"}),r}let s=-1;for(const e of n){if(s++,s>=i.length&&s>=c)continue;const t=e._zod.run({value:i[s],issues:[]},o);t instanceof Promise?a.push(t.then(e=>Tr(e,r,s))):Tr(t,r,s)}if(t.rest){const e=i.slice(n.length);for(const n of e){s++;const e=t.rest._zod.run({value:n,issues:[]},o);e instanceof Promise?a.push(e.then(e=>Tr(e,r,s))):Tr(e,r,s)}}return a.length?Promise.all(a).then(()=>r):r}});function Tr(e,t,n){e.issues.length&&t.issues.push(...be(n,e.issues)),t.value[n]=e.value}const xr=G("$ZodRecord",(e,t)=>{jn.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!ue(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[],a=t.keyType._zod.values;if(a){n.value={};const u=new Set;for(const e of a)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){u.add("number"==typeof e?e.toString():e);const a=t.valueType._zod.run({value:o[e],issues:[]},r);a instanceof Promise?i.push(a.then(t=>{t.issues.length&&n.issues.push(...be(e,t.issues)),n.value[e]=t.value})):(a.issues.length&&n.issues.push(...be(e,a.issues)),n.value[e]=a.value)}let c;for(const e in o)u.has(e)||(c=c??[],c.push(e));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:c})}else{n.value={};for(const a of Reflect.ownKeys(o)){if("__proto__"===a)continue;let u=t.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if("string"==typeof a&&It.test(a)&&u.issues.length&&u.issues.some(e=>"invalid_type"===e.code&&"number"===e.expected)){const e=t.keyType._zod.run({value:Number(a),issues:[]},r);if(e instanceof Promise)throw new Error("Async schemas not supported in object keys currently");0===e.issues.length&&(u=e)}if(u.issues.length){"loose"===t.mode?n.value[a]=o[a]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(e=>we(e,r,L())),input:a,path:[a],inst:e});continue}const c=t.valueType._zod.run({value:o[a],issues:[]},r);c instanceof Promise?i.push(c.then(e=>{e.issues.length&&n.issues.push(...be(a,e.issues)),n.value[u.value]=e.value})):(c.issues.length&&n.issues.push(...be(a,c.issues)),n.value[u.value]=c.value)}}return i.length?Promise.all(i).then(()=>n):n}}),Er=G("$ZodMap",(e,t)=>{jn.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!(o instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:o,inst:e}),n;const i=[];n.value=new Map;for(const[a,u]of o){const c=t.keyType._zod.run({value:a,issues:[]},r),s=t.valueType._zod.run({value:u,issues:[]},r);c instanceof Promise||s instanceof Promise?i.push(Promise.all([c,s]).then(([t,i])=>{Ar(t,i,n,a,o,e,r)})):Ar(c,s,n,a,o,e,r)}return i.length?Promise.all(i).then(()=>n):n}});function Ar(e,t,n,r,o,i,a){e.issues.length&&(se.has(typeof r)?n.issues.push(...be(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:o,inst:i,issues:e.issues.map(e=>we(e,a,L()))})),t.issues.length&&(se.has(typeof r)?n.issues.push(...be(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:o,inst:i,key:r,issues:t.issues.map(e=>we(e,a,L()))})),n.value.set(e.value,t.value)}const Rr=G("$ZodSet",(e,t)=>{jn.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!(o instanceof Set))return n.issues.push({input:o,inst:e,expected:"set",code:"invalid_type"}),n;const i=[];n.value=new Set;for(const e of o){const o=t.valueType._zod.run({value:e,issues:[]},r);o instanceof Promise?i.push(o.then(e=>$r(e,n))):$r(o,n)}return i.length?Promise.all(i).then(()=>n):n}});function $r(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const Nr=G("$ZodEnum",(e,t)=>{jn.init(e,t);const n=Y(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>se.has(typeof e)).map(e=>"string"==typeof e?fe(e):e.toString()).join("|")})$`),e._zod.parse=(t,o)=>{const i=t.value;return r.has(i)||t.issues.push({code:"invalid_value",values:n,input:i,inst:e}),t}}),Dr=G("$ZodLiteral",(e,t)=>{if(jn.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?fe(e):e?fe(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),Zr=G("$ZodFile",(e,t)=>{jn.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),Cr=G("$ZodTransform",(e,t)=>{jn.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new V(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(e=>(n.value=e,n));if(o instanceof Promise)throw new J;return n.value=o,n}});function Fr(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Mr=G("$ZodOptional",(e,t)=>{jn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ee(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ee(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${H(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Fr(t,e.value)):Fr(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),Ur=G("$ZodExactOptional",(e,t)=>{Mr.init(e,t),ee(e._zod,"values",()=>t.innerType._zod.values),ee(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(e,n)=>t.innerType._zod.run(e,n)}),Gr=G("$ZodNullable",(e,t)=>{jn.init(e,t),ee(e._zod,"optin",()=>t.innerType._zod.optin),ee(e._zod,"optout",()=>t.innerType._zod.optout),ee(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${H(e.source)}|null)$`):void 0}),ee(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),Jr=G("$ZodDefault",(e,t)=>{jn.init(e,t),e._zod.optin="optional",ee(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Vr(e,t)):Vr(r,t)}});function Vr(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Br=G("$ZodPrefault",(e,t)=>{jn.init(e,t),e._zod.optin="optional",ee(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Lr=G("$ZodNonOptional",(e,t)=>{jn.init(e,t),ee(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(t=>Yr(t,e)):Yr(o,e)}});function Yr(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Wr=G("$ZodSuccess",(e,t)=>{jn.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new V("ZodSuccess");const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),qr=G("$ZodCatch",(e,t)=>{jn.init(e,t),ee(e._zod,"optin",()=>t.innerType._zod.optin),ee(e._zod,"optout",()=>t.innerType._zod.optout),ee(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>we(e,n,L()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>we(e,n,L()))},input:e.value}),e.issues=[]),e)}}),Kr=G("$ZodNaN",(e,t)=>{jn.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),Xr=G("$ZodPipe",(e,t)=>{jn.init(e,t),ee(e._zod,"values",()=>t.in._zod.values),ee(e._zod,"optin",()=>t.in._zod.optin),ee(e._zod,"optout",()=>t.out._zod.optout),ee(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Hr(e,t.in,n)):Hr(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Hr(e,t.out,n)):Hr(r,t.out,n)}});function Hr(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Qr=G("$ZodCodec",(e,t)=>{jn.init(e,t),ee(e._zod,"values",()=>t.in._zod.values),ee(e._zod,"optin",()=>t.in._zod.optin),ee(e._zod,"optout",()=>t.out._zod.optout),ee(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>eo(e,t,n)):eo(r,t,n)}{const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>eo(e,t,n)):eo(r,t,n)}}});function eo(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){const r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>to(e,r,t.out,n)):to(e,r,t.out,n)}{const r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>to(e,r,t.in,n)):to(e,r,t.in,n)}}function to(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}const no=G("$ZodReadonly",(e,t)=>{jn.init(e,t),ee(e._zod,"propValues",()=>t.innerType._zod.propValues),ee(e._zod,"values",()=>t.innerType._zod.values),ee(e._zod,"optin",()=>t.innerType?._zod?.optin),ee(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(ro):ro(r)}});function ro(e){return e.value=Object.freeze(e.value),e}const oo=G("$ZodTemplateLiteral",(e,t)=>{jn.init(e,t);const n=[];for(const e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);const t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw new Error(`Invalid template literal part: ${e._zod.traits}`);const r=t.startsWith("^")?1:0,o=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,o))}else{if(null!==e&&!le.has(typeof e))throw new Error(`Invalid template literal part: ${e}`);n.push(fe(`${e}`))}e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(n,r)=>"string"!=typeof n.value?(n.issues.push({input:n.value,inst:e,expected:"string",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),io=G("$ZodFunction",(e,t)=>(jn.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw new Error("implement() must be called with a function");return function(...n){const r=e._def.input?Ie(e._def.input,n):n,o=Reflect.apply(t,this,r);return e._def.output?Ie(e._def.output,o):o}},e.implementAsync=t=>{if("function"!=typeof t)throw new Error("implementAsync() must be called with a function");return async function(...n){const r=e._def.input?await xe(e._def.input,n):n,o=await Reflect.apply(t,this,r);return e._def.output?await xe(e._def.output,o):o}},e._zod.parse=(t,n)=>{if("function"!=typeof t.value)return t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t;const r=e._def.output&&"promise"===e._def.output._zod.def.type;return t.value=r?e.implementAsync(t.value):e.implement(t.value),t},e.input=(...t)=>{const n=e.constructor;return Array.isArray(t[0])?new n({type:"function",input:new Ir({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}):new n({type:"function",input:t[0],output:e._def.output})},e.output=t=>new(0,e.constructor)({type:"function",input:e._def.input,output:t}),e)),ao=G("$ZodPromise",(e,t)=>{jn.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),uo=G("$ZodLazy",(e,t)=>{jn.init(e,t),ee(e._zod,"innerType",()=>t.getter()),ee(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),ee(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),ee(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),ee(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),co=G("$ZodCustom",(e,t)=>{Ht.init(e,t),jn.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(t=>so(t,n,r,e));so(o,n,r,e)}});function so(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(Oe(e))}}var lo;Symbol("ZodOutput"),Symbol("ZodInput");(lo=globalThis).__zod_globalRegistry??(lo.__zod_globalRegistry=new class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];return this._map.set(e,n),n&&"object"==typeof n&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}});const fo=globalThis.__zod_globalRegistry;function po(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...pe(t)})}function mo(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...pe(t)})}function yo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...pe(t)})}function ho(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...pe(t)})}function vo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...pe(t)})}function bo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...pe(t)})}function go(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...pe(t)})}function wo(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...pe(t)})}function So(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...pe(t)})}function _o(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...pe(t)})}function Oo(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...pe(t)})}function ko(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...pe(t)})}function jo(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...pe(t)})}function zo(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...pe(t)})}function Po(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...pe(t)})}function Io(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...pe(t)})}function To(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...pe(t)})}function xo(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...pe(t)})}function Eo(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...pe(t)})}function Ao(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...pe(t)})}function Ro(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...pe(t)})}function $o(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...pe(t)})}function No(e,t){return new en({check:"less_than",...pe(t),value:e,inclusive:!1})}function Do(e,t){return new en({check:"less_than",...pe(t),value:e,inclusive:!0})}function Zo(e,t){return new tn({check:"greater_than",...pe(t),value:e,inclusive:!1})}function Co(e,t){return new tn({check:"greater_than",...pe(t),value:e,inclusive:!0})}function Fo(e){return Zo(0,e)}function Mo(e){return No(0,e)}function Uo(e){return Do(0,e)}function Go(e){return Co(0,e)}function Jo(e,t){return new nn({check:"multiple_of",...pe(t),value:e})}function Vo(e,t){return new an({check:"max_size",...pe(t),maximum:e})}function Bo(e,t){return new un({check:"min_size",...pe(t),minimum:e})}function Lo(e,t){return new cn({check:"size_equals",...pe(t),size:e})}function Yo(e,t){return new sn({check:"max_length",...pe(t),maximum:e})}function Wo(e,t){return new ln({check:"min_length",...pe(t),minimum:e})}function qo(e,t){return new fn({check:"length_equals",...pe(t),length:e})}function Ko(e,t){return new pn({check:"string_format",format:"regex",...pe(t),pattern:e})}function Xo(e){return new mn({check:"string_format",format:"lowercase",...pe(e)})}function Ho(e){return new yn({check:"string_format",format:"uppercase",...pe(e)})}function Qo(e,t){return new hn({check:"string_format",format:"includes",...pe(t),includes:e})}function ei(e,t){return new vn({check:"string_format",format:"starts_with",...pe(t),prefix:e})}function ti(e,t){return new bn({check:"string_format",format:"ends_with",...pe(t),suffix:e})}function ni(e,t,n){return new wn({check:"property",property:e,schema:t,...pe(n)})}function ri(e,t){return new Sn({check:"mime_type",mime:e,...pe(t)})}function oi(e){return new _n({check:"overwrite",tx:e})}function ii(e){return oi(t=>t.normalize(e))}function ai(){return oi(e=>e.trim())}function ui(){return oi(e=>e.toLowerCase())}function ci(){return oi(e=>e.toUpperCase())}function si(){return oi(e=>function(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}(e))}function li(e,t,n,r={}){const o=pe(r),i={...pe(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...o};return n instanceof RegExp&&(i.pattern=n),new e(i)}function fi(e){let t=e?.target??"draft-2020-12";return"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??fo,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function di(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const u=e._zod.toJSONSchema?.();if(u)a.schema=u;else{const r={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,r);else{const n=a.schema,i=t.processors[o.type];if(!i)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);i(e,t,n,r)}const i=e._zod.parent;i&&(a.ref||(a.ref=i),di(i,t,r),t.seen.get(i).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),"input"===t.io&&yi(e)&&(delete a.schema.examples,delete a.schema.default),"input"===t.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function pi(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const t of e.seen.entries()){const n=e.metadataRegistry.get(t[0])?.id;if(n){const e=r.get(n);if(e&&e!==t[0])throw new Error(`Duplicate schema id "${n}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(n,t[0])}}const o=t=>{if(t[1].schema.$ref)return;const r=t[1],{ref:o,defId:i}=(t=>{const r="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){const n=e.external.registry.get(t[0])?.id,o=e.external.uri??(e=>e);if(n)return{ref:o(n)};const i=t[1].defId??t[1].schema.id??"schema"+e.counter++;return t[1].defId=i,{defId:i,ref:`${o("__shared")}#/${r}/${i}`}}if(t[1]===n)return{ref:"#"};const o=`#/${r}/`,i=t[1].schema.id??"__schema"+e.counter++;return{defId:i,ref:o+i}})(t);r.def={...r.schema},i&&(r.defId=i);const a=r.schema;for(const e in a)delete a[e];a.$ref=o};if("throw"===e.cycles)for(const t of e.seen.entries()){const e=t[1];if(e.cycle)throw new Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const n of e.seen.entries()){const r=n[1];if(t===n[0]){o(n);continue}if(e.external){const r=e.external.registry.get(n[0])?.id;if(t!==n[0]&&r){o(n);continue}}const i=e.metadataRegistry.get(n[0])?.id;(i||r.cycle||r.count>1&&"ref"===e.reused)&&o(n)}}function mi(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=t=>{const n=e.seen.get(t);if(null===n.ref)return;const o=n.def??n.schema,i={...o},a=n.ref;if(n.ref=null,a){r(a);const n=e.seen.get(a),u=n.schema;if(!u.$ref||"draft-07"!==e.target&&"draft-04"!==e.target&&"openapi-3.0"!==e.target?Object.assign(o,u):(o.allOf=o.allOf??[],o.allOf.push(u)),Object.assign(o,i),t._zod.parent===a)for(const e in o)"$ref"!==e&&"allOf"!==e&&(e in i||delete o[e]);if(u.$ref)for(const e in o)"$ref"!==e&&"allOf"!==e&&e in n.def&&JSON.stringify(o[e])===JSON.stringify(n.def[e])&&delete o[e]}const u=t._zod.parent;if(u&&u!==a){r(u);const t=e.seen.get(u);if(t?.schema.$ref&&(o.$ref=t.schema.$ref,t.def))for(const e in o)"$ref"!==e&&"allOf"!==e&&e in t.def&&JSON.stringify(o[e])===JSON.stringify(t.def[e])&&delete o[e]}e.override({zodSchema:t,jsonSchema:o,path:n.path??[]})};for(const t of[...e.seen.entries()].reverse())r(t[0]);const o={};if("draft-2020-12"===e.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const n=e.external.registry.get(t)?.id;if(!n)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(n)}Object.assign(o,n.def??n.schema);const i=e.external?.defs??{};for(const t of e.seen.entries()){const e=t[1];e.def&&e.defId&&(i[e.defId]=e.def)}e.external||Object.keys(i).length>0&&("draft-2020-12"===e.target?o.$defs=i:o.definitions=i);try{const n=JSON.parse(JSON.stringify(o));return Object.defineProperty(n,"~standard",{value:{...t["~standard"],jsonSchema:{input:hi(t,"input",e.processors),output:hi(t,"output",e.processors)}},enumerable:!1,writable:!1}),n}catch(e){throw new Error("Error converting schema to JSON.")}}function yi(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if("transform"===r.type)return!0;if("array"===r.type)return yi(r.element,n);if("set"===r.type)return yi(r.valueType,n);if("lazy"===r.type)return yi(r.getter(),n);if("promise"===r.type||"optional"===r.type||"nonoptional"===r.type||"nullable"===r.type||"readonly"===r.type||"default"===r.type||"prefault"===r.type)return yi(r.innerType,n);if("intersection"===r.type)return yi(r.left,n)||yi(r.right,n);if("record"===r.type||"map"===r.type)return yi(r.keyType,n)||yi(r.valueType,n);if("pipe"===r.type)return yi(r.in,n)||yi(r.out,n);if("object"===r.type){for(const e in r.shape)if(yi(r.shape[e],n))return!0;return!1}if("union"===r.type){for(const e of r.options)if(yi(e,n))return!0;return!1}if("tuple"===r.type){for(const e of r.items)if(yi(e,n))return!0;return!(!r.rest||!yi(r.rest,n))}return!1}const hi=(e,t,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},a=fi({...o??{},target:i,io:t,processors:n});return di(e,a),pi(a,e),mi(a,e)},vi={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},bi=(e,t,n,r)=>{const o=e._zod.def,i=!1===o.inclusive,a=o.options.map((e,n)=>di(e,t,{...r,path:[...r.path,i?"oneOf":"anyOf",n]}));i?n.oneOf=a:n.anyOf=a},gi=(e,t,n,r)=>{const o=e._zod.def;di(o.innerType,t,r),t.seen.get(e).ref=o.innerType},wi=G("ZodISODateTime",(e,t)=>{Fn.init(e,t),Yi.init(e,t)});function Si(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...pe(t)})}(wi,e)}const _i=G("ZodISODate",(e,t)=>{Mn.init(e,t),Yi.init(e,t)});function Oi(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...pe(t)})}(_i,e)}const ki=G("ZodISOTime",(e,t)=>{Un.init(e,t),Yi.init(e,t)});function ji(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...pe(t)})}(ki,e)}const zi=G("ZodISODuration",(e,t)=>{Gn.init(e,t),Yi.init(e,t)});function Pi(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...pe(t)})}(zi,e)}const Ii=(e,t)=>{je.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t=e=>e.message){const n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>r({issues:e}));else if("invalid_key"===o.code)r({issues:o.issues});else if("invalid_element"===o.code)r({issues:o.issues});else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,q,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,q,2)}},isEmpty:{get(){return 0===e.issues.length}}})},Ti=G("ZodError",Ii),xi=G("ZodError",Ii,{Parent:Error}),Ei=Pe(xi),Ai=Te(xi),Ri=Ee(xi),$i=Re(xi),Ni=Ne(xi),Di=De(xi),Zi=Ze(xi),Ci=Ce(xi),Fi=Fe(xi),Mi=Me(xi),Ui=Ue(xi),Gi=Ge(xi),Ji=G("ZodType",(e,t)=>(jn.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:hi(e,"input"),output:hi(e,"output")}}),e.toJSONSchema=((e,t={})=>n=>{const r=fi({...n,processors:t});return di(e,r),pi(r,e),mi(r,e)})(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ne(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),{parent:!0}),e.with=e.check,e.clone=(t,n)=>de(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>Ei(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Ri(e,t,n),e.parseAsync=async(t,n)=>Ai(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>$i(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>Ni(e,t,n),e.decode=(t,n)=>Di(e,t,n),e.encodeAsync=async(t,n)=>Zi(e,t,n),e.decodeAsync=async(t,n)=>Ci(e,t,n),e.safeEncode=(t,n)=>Fi(e,t,n),e.safeDecode=(t,n)=>Mi(e,t,n),e.safeEncodeAsync=async(t,n)=>Ui(e,t,n),e.safeDecodeAsync=async(t,n)=>Gi(e,t,n),e.refine=(t,n)=>e.check(Dc(t,n)),e.superRefine=t=>e.check(Zc(t)),e.overwrite=t=>e.check(oi(t)),e.optional=()=>tc(e),e.exactOptional=()=>rc(e),e.nullable=()=>ic(e),e.nullish=()=>tc(ic(e)),e.nonoptional=t=>dc(e,t),e.array=()=>Su(e),e.or=t=>Iu([e,t]),e.and=t=>$u(e,t),e.transform=t=>wc(e,Qu(t)),e.default=t=>cc(e,t),e.prefault=t=>lc(e,t),e.catch=t=>hc(e,t),e.pipe=t=>wc(e,t),e.readonly=()=>kc(e),e.describe=t=>{const n=e.clone();return fo.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){return fo.get(e)?.description},configurable:!0}),e.meta=(...t)=>{if(0===t.length)return fo.get(e);const n=e.clone();return fo.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=t=>t(e),e)),Vi=G("_ZodString",(e,t)=>{zn.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n;r.type="string";const{minimum:o,maximum:i,format:a,patterns:u,contentEncoding:c}=e._zod.bag;if("number"==typeof o&&(r.minLength=o),"number"==typeof i&&(r.maxLength=i),a&&(r.format=vi[a]??a,""===r.format&&delete r.format,"time"===a&&delete r.format),c&&(r.contentEncoding=c),u&&u.size>0){const e=[...u];1===e.length?r.pattern=e[0].source:e.length>1&&(r.allOf=[...e.map(e=>({..."draft-07"===t.target||"draft-04"===t.target||"openapi-3.0"===t.target?{type:"string"}:{},pattern:e.source}))])}})(e,t,n);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(Ko(...t)),e.includes=(...t)=>e.check(Qo(...t)),e.startsWith=(...t)=>e.check(ei(...t)),e.endsWith=(...t)=>e.check(ti(...t)),e.min=(...t)=>e.check(Wo(...t)),e.max=(...t)=>e.check(Yo(...t)),e.length=(...t)=>e.check(qo(...t)),e.nonempty=(...t)=>e.check(Wo(1,...t)),e.lowercase=t=>e.check(Xo(t)),e.uppercase=t=>e.check(Ho(t)),e.trim=()=>e.check(ai()),e.normalize=(...t)=>e.check(ii(...t)),e.toLowerCase=()=>e.check(ui()),e.toUpperCase=()=>e.check(ci()),e.slugify=()=>e.check(si())}),Bi=G("ZodString",(e,t)=>{zn.init(e,t),Vi.init(e,t),e.email=t=>e.check(po(Wi,t)),e.url=t=>e.check(go(ra,t)),e.jwt=t=>e.check($o(Da,t)),e.emoji=t=>e.check(wo(aa,t)),e.guid=t=>e.check(mo(Ki,t)),e.uuid=t=>e.check(yo(Hi,t)),e.uuidv4=t=>e.check(ho(Hi,t)),e.uuidv6=t=>e.check(vo(Hi,t)),e.uuidv7=t=>e.check(bo(Hi,t)),e.nanoid=t=>e.check(So(ca,t)),e.guid=t=>e.check(mo(Ki,t)),e.cuid=t=>e.check(_o(la,t)),e.cuid2=t=>e.check(Oo(da,t)),e.ulid=t=>e.check(ko(ma,t)),e.base64=t=>e.check(Eo(xa,t)),e.base64url=t=>e.check(Ao(Aa,t)),e.xid=t=>e.check(jo(ha,t)),e.ksuid=t=>e.check(zo(ba,t)),e.ipv4=t=>e.check(Po(wa,t)),e.ipv6=t=>e.check(Io(ka,t)),e.cidrv4=t=>e.check(To(za,t)),e.cidrv6=t=>e.check(xo(Ia,t)),e.e164=t=>e.check(Ro($a,t)),e.datetime=t=>e.check(Si(t)),e.date=t=>e.check(Oi(t)),e.time=t=>e.check(ji(t)),e.duration=t=>e.check(Pi(t))});function Li(e){return function(e,t){return new e({type:"string",...pe(t)})}(Bi,e)}const Yi=G("ZodStringFormat",(e,t)=>{Pn.init(e,t),Vi.init(e,t)}),Wi=G("ZodEmail",(e,t)=>{xn.init(e,t),Yi.init(e,t)});function qi(e){return po(Wi,e)}const Ki=G("ZodGUID",(e,t)=>{In.init(e,t),Yi.init(e,t)});function Xi(e){return mo(Ki,e)}const Hi=G("ZodUUID",(e,t)=>{Tn.init(e,t),Yi.init(e,t)});function Qi(e){return yo(Hi,e)}function ea(e){return ho(Hi,e)}function ta(e){return vo(Hi,e)}function na(e){return bo(Hi,e)}const ra=G("ZodURL",(e,t)=>{En.init(e,t),Yi.init(e,t)});function oa(e){return go(ra,e)}function ia(e){return go(ra,{protocol:/^https?$/,hostname:bt,...pe(e)})}const aa=G("ZodEmoji",(e,t)=>{An.init(e,t),Yi.init(e,t)});function ua(e){return wo(aa,e)}const ca=G("ZodNanoID",(e,t)=>{Rn.init(e,t),Yi.init(e,t)});function sa(e){return So(ca,e)}const la=G("ZodCUID",(e,t)=>{$n.init(e,t),Yi.init(e,t)});function fa(e){return _o(la,e)}const da=G("ZodCUID2",(e,t)=>{Nn.init(e,t),Yi.init(e,t)});function pa(e){return Oo(da,e)}const ma=G("ZodULID",(e,t)=>{Dn.init(e,t),Yi.init(e,t)});function ya(e){return ko(ma,e)}const ha=G("ZodXID",(e,t)=>{Zn.init(e,t),Yi.init(e,t)});function va(e){return jo(ha,e)}const ba=G("ZodKSUID",(e,t)=>{Cn.init(e,t),Yi.init(e,t)});function ga(e){return zo(ba,e)}const wa=G("ZodIPv4",(e,t)=>{Jn.init(e,t),Yi.init(e,t)});function Sa(e){return Po(wa,e)}const _a=G("ZodMAC",(e,t)=>{Bn.init(e,t),Yi.init(e,t)});function Oa(e){return function(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...pe(t)})}(_a,e)}const ka=G("ZodIPv6",(e,t)=>{Vn.init(e,t),Yi.init(e,t)});function ja(e){return Io(ka,e)}const za=G("ZodCIDRv4",(e,t)=>{Ln.init(e,t),Yi.init(e,t)});function Pa(e){return To(za,e)}const Ia=G("ZodCIDRv6",(e,t)=>{Yn.init(e,t),Yi.init(e,t)});function Ta(e){return xo(Ia,e)}const xa=G("ZodBase64",(e,t)=>{qn.init(e,t),Yi.init(e,t)});function Ea(e){return Eo(xa,e)}const Aa=G("ZodBase64URL",(e,t)=>{Kn.init(e,t),Yi.init(e,t)});function Ra(e){return Ao(Aa,e)}const $a=G("ZodE164",(e,t)=>{Xn.init(e,t),Yi.init(e,t)});function Na(e){return Ro($a,e)}const Da=G("ZodJWT",(e,t)=>{Hn.init(e,t),Yi.init(e,t)});function Za(e){return $o(Da,e)}const Ca=G("ZodCustomStringFormat",(e,t)=>{Qn.init(e,t),Yi.init(e,t)});function Fa(e,t,n={}){return li(Ca,e,t,n)}function Ma(e){return li(Ca,"hostname",vt,e)}function Ua(e){return li(Ca,"hex",$t,e)}function Ga(t,n){const r=`${t}_${n?.enc??"hex"}`,o=e[r];if(!o)throw new Error(`Unrecognized hash format: ${r}`);return li(Ca,r,o,n)}const Ja=G("ZodNumber",(e,t)=>{er.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,{minimum:o,maximum:i,format:a,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:s}=e._zod.bag;"string"==typeof a&&a.includes("int")?r.type="integer":r.type="number","number"==typeof s&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.minimum=s,r.exclusiveMinimum=!0):r.exclusiveMinimum=s),"number"==typeof o&&(r.minimum=o,"number"==typeof s&&"draft-04"!==t.target&&(s>=o?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof c&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.maximum=c,r.exclusiveMaximum=!0):r.exclusiveMaximum=c),"number"==typeof i&&(r.maximum=i,"number"==typeof c&&"draft-04"!==t.target&&(c<=i?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof u&&(r.multipleOf=u)})(e,t,n),e.gt=(t,n)=>e.check(Zo(t,n)),e.gte=(t,n)=>e.check(Co(t,n)),e.min=(t,n)=>e.check(Co(t,n)),e.lt=(t,n)=>e.check(No(t,n)),e.lte=(t,n)=>e.check(Do(t,n)),e.max=(t,n)=>e.check(Do(t,n)),e.int=t=>e.check(La(t)),e.safe=t=>e.check(La(t)),e.positive=t=>e.check(Zo(0,t)),e.nonnegative=t=>e.check(Co(0,t)),e.negative=t=>e.check(No(0,t)),e.nonpositive=t=>e.check(Do(0,t)),e.multipleOf=(t,n)=>e.check(Jo(t,n)),e.step=(t,n)=>e.check(Jo(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Va(e){return function(e,t){return new e({type:"number",checks:[],...pe(t)})}(Ja,e)}const Ba=G("ZodNumberFormat",(e,t)=>{tr.init(e,t),Ja.init(e,t)});function La(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...pe(t)})}(Ba,e)}function Ya(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...pe(t)})}(Ba,e)}function Wa(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...pe(t)})}(Ba,e)}function qa(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...pe(t)})}(Ba,e)}function Ka(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...pe(t)})}(Ba,e)}const Xa=G("ZodBoolean",(e,t)=>{nr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t)});function Ha(e){return function(e,t){return new e({type:"boolean",...pe(t)})}(Xa,e)}const Qa=G("ZodBigInt",(e,t)=>{rr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema")})(0,e),e.gte=(t,n)=>e.check(Co(t,n)),e.min=(t,n)=>e.check(Co(t,n)),e.gt=(t,n)=>e.check(Zo(t,n)),e.gte=(t,n)=>e.check(Co(t,n)),e.min=(t,n)=>e.check(Co(t,n)),e.lt=(t,n)=>e.check(No(t,n)),e.lte=(t,n)=>e.check(Do(t,n)),e.max=(t,n)=>e.check(Do(t,n)),e.positive=t=>e.check(Zo(BigInt(0),t)),e.negative=t=>e.check(No(BigInt(0),t)),e.nonpositive=t=>e.check(Do(BigInt(0),t)),e.nonnegative=t=>e.check(Co(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(Jo(t,n));const n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function eu(e){return function(e,t){return new e({type:"bigint",...pe(t)})}(Qa,e)}const tu=G("ZodBigIntFormat",(e,t)=>{or.init(e,t),Qa.init(e,t)});function nu(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...pe(t)})}(tu,e)}function ru(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...pe(t)})}(tu,e)}const ou=G("ZodSymbol",(e,t)=>{ir.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema")})(0,e)});function iu(e){return function(e,t){return new e({type:"symbol",...pe(t)})}(ou,e)}const au=G("ZodUndefined",(e,t)=>{ar.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema")})(0,e)});function uu(e){return function(e,t){return new e({type:"undefined",...pe(t)})}(au,e)}const cu=G("ZodNull",(e,t)=>{ur.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{"openapi-3.0"===t.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"})(0,e,t)});function su(e){return function(e,t){return new e({type:"null",...pe(t)})}(cu,e)}const lu=G("ZodAny",(e,t)=>{cr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function fu(){return new lu({type:"any"})}const du=G("ZodUnknown",(e,t)=>{sr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function pu(){return new du({type:"unknown"})}const mu=G("ZodNever",(e,t)=>{lr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.not={}})(0,0,t)});function yu(e){return function(e,t){return new e({type:"never",...pe(t)})}(mu,e)}const hu=G("ZodVoid",(e,t)=>{fr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Void cannot be represented in JSON Schema")})(0,e)});function vu(e){return function(e,t){return new e({type:"void",...pe(t)})}(hu,e)}const bu=G("ZodDate",(e,t)=>{dr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Date cannot be represented in JSON Schema")})(0,e),e.min=(t,n)=>e.check(Co(t,n)),e.max=(t,n)=>e.check(Do(t,n));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function gu(e){return function(e,t){return new e({type:"date",...pe(t)})}(bu,e)}const wu=G("ZodArray",(e,t)=>{mr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def,{minimum:a,maximum:u}=e._zod.bag;"number"==typeof a&&(o.minItems=a),"number"==typeof u&&(o.maxItems=u),o.type="array",o.items=di(i.element,t,{...r,path:[...r.path,"items"]})})(e,t,n,r),e.element=t.element,e.min=(t,n)=>e.check(Wo(t,n)),e.nonempty=t=>e.check(Wo(1,t)),e.max=(t,n)=>e.check(Yo(t,n)),e.length=(t,n)=>e.check(qo(t,n)),e.unwrap=()=>e.element});function Su(e,t){return function(e,t,n){return new e({type:"array",element:t,...pe(n)})}(wu,e,t)}function _u(e){const t=e._zod.def.shape;return Lu(Object.keys(t))}const Ou=G("ZodObject",(e,t)=>{gr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object",o.properties={};const a=i.shape;for(const e in a)o.properties[e]=di(a[e],t,{...r,path:[...r.path,"properties",e]});const u=new Set(Object.keys(a)),c=new Set([...u].filter(e=>{const n=i.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));c.size>0&&(o.required=Array.from(c)),"never"===i.catchall?._zod.def.type?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=di(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):"output"===t.io&&(o.additionalProperties=!1)})(e,t,n,r),ee(e,"shape",()=>t.shape),e.keyof=()=>Lu(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:pu()}),e.loose=()=>e.clone({...e._zod.def,catchall:pu()}),e.strict=()=>e.clone({...e._zod.def,catchall:yu()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!ue(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const n=e._zod.def.shape;for(const e in t)if(void 0!==Object.getOwnPropertyDescriptor(n,e))throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=ne(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return te(this,"shape",n),n}});return de(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!ue(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ne(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return te(this,"shape",n),n}});return de(e,n)}(e,t),e.merge=t=>function(e,t){const n=ne(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return te(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return de(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");return de(e,ne(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return te(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=ne(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return te(this,"shape",r),r},checks:[]});return de(e,o)}(e,t),e.partial=(...t)=>function(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=ne(t._zod.def,{get shape(){const r=t._zod.def.shape,o={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(o[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)o[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return te(this,"shape",o),o},checks:[]});return de(t,o)}(ec,e,t[0]),e.required=(...t)=>function(e,t,n){const r=ne(t._zod.def,{get shape(){const r=t._zod.def.shape,o={...r};if(n)for(const t in n){if(!(t in o))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(o[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)o[t]=new e({type:"nonoptional",innerType:r[t]});return te(this,"shape",o),o}});return de(t,r)}(fc,e,t[0])});function ku(e,t){const n={type:"object",shape:e??{},...pe(t)};return new Ou(n)}function ju(e,t){return new Ou({type:"object",shape:e,catchall:yu(),...pe(t)})}function zu(e,t){return new Ou({type:"object",shape:e,catchall:pu(),...pe(t)})}const Pu=G("ZodUnion",(e,t)=>{Sr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>bi(e,t,n,r),e.options=t.options});function Iu(e,t){return new Pu({type:"union",options:e,...pe(t)})}const Tu=G("ZodXor",(e,t)=>{Pu.init(e,t),Or.init(e,t),e._zod.processJSONSchema=(t,n,r)=>bi(e,t,n,r),e.options=t.options});function xu(e,t){return new Tu({type:"union",options:e,inclusive:!1,...pe(t)})}const Eu=G("ZodDiscriminatedUnion",(e,t)=>{Pu.init(e,t),kr.init(e,t)});function Au(e,t,n){return new Eu({type:"union",options:t,discriminator:e,...pe(n)})}const Ru=G("ZodIntersection",(e,t)=>{jr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i=di(o.left,t,{...r,path:[...r.path,"allOf",0]}),a=di(o.right,t,{...r,path:[...r.path,"allOf",1]}),u=e=>"allOf"in e&&1===Object.keys(e).length,c=[...u(i)?i.allOf:[i],...u(a)?a.allOf:[a]];n.allOf=c})(e,t,n,r)});function $u(e,t){return new Ru({type:"intersection",left:e,right:t})}const Nu=G("ZodTuple",(e,t)=>{Ir.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="array";const a="draft-2020-12"===t.target?"prefixItems":"items",u="draft-2020-12"===t.target||"openapi-3.0"===t.target?"items":"additionalItems",c=i.items.map((e,n)=>di(e,t,{...r,path:[...r.path,a,n]})),s=i.rest?di(i.rest,t,{...r,path:[...r.path,u,..."openapi-3.0"===t.target?[i.items.length]:[]]}):null;"draft-2020-12"===t.target?(o.prefixItems=c,s&&(o.items=s)):"openapi-3.0"===t.target?(o.items={anyOf:c},s&&o.items.anyOf.push(s),o.minItems=c.length,s||(o.maxItems=c.length)):(o.items=c,s&&(o.additionalItems=s));const{minimum:l,maximum:f}=e._zod.bag;"number"==typeof l&&(o.minItems=l),"number"==typeof f&&(o.maxItems=f)})(e,t,n,r),e.rest=t=>e.clone({...e._zod.def,rest:t})});function Du(e,t,n){const r=t instanceof jn;return new Nu({type:"tuple",items:e,rest:r?t:null,...pe(r?n:t)})}const Zu=G("ZodRecord",(e,t)=>{xr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object";const a=i.keyType,u=a._zod.bag,c=u?.patterns;if("loose"===i.mode&&c&&c.size>0){const e=di(i.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const t of c)o.patternProperties[t.source]=e}else"draft-07"!==t.target&&"draft-2020-12"!==t.target||(o.propertyNames=di(i.keyType,t,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=di(i.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const s=a._zod.values;if(s){const e=[...s].filter(e=>"string"==typeof e||"number"==typeof e);e.length>0&&(o.required=e)}})(e,t,n,r),e.keyType=t.keyType,e.valueType=t.valueType});function Cu(e,t,n){return new Zu({type:"record",keyType:e,valueType:t,...pe(n)})}function Fu(e,t,n){const r=de(e);return r._zod.values=void 0,new Zu({type:"record",keyType:r,valueType:t,...pe(n)})}function Mu(e,t,n){return new Zu({type:"record",keyType:e,valueType:t,mode:"loose",...pe(n)})}const Uu=G("ZodMap",(e,t)=>{Er.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Map cannot be represented in JSON Schema")})(0,e),e.keyType=t.keyType,e.valueType=t.valueType,e.min=(...t)=>e.check(Bo(...t)),e.nonempty=t=>e.check(Bo(1,t)),e.max=(...t)=>e.check(Vo(...t)),e.size=(...t)=>e.check(Lo(...t))});function Gu(e,t,n){return new Uu({type:"map",keyType:e,valueType:t,...pe(n)})}const Ju=G("ZodSet",(e,t)=>{Rr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Set cannot be represented in JSON Schema")})(0,e),e.min=(...t)=>e.check(Bo(...t)),e.nonempty=t=>e.check(Bo(1,t)),e.max=(...t)=>e.check(Vo(...t)),e.size=(...t)=>e.check(Lo(...t))});function Vu(e,t){return new Ju({type:"set",valueType:e,...pe(t)})}const Bu=G("ZodEnum",(e,t)=>{Nr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=Y(e._zod.def.entries);r.every(e=>"number"==typeof e)&&(n.type="number"),r.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=r})(e,0,n),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const o={};for(const r of e){if(!n.has(r))throw new Error(`Key ${r} not found in enum`);o[r]=t.entries[r]}return new Bu({...t,checks:[],...pe(r),entries:o})},e.exclude=(e,r)=>{const o={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete o[t]}return new Bu({...t,checks:[],...pe(r),entries:o})}});function Lu(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new Bu({type:"enum",entries:n,...pe(t)})}function Yu(e,t){return new Bu({type:"enum",entries:e,...pe(t)})}const Wu=G("ZodLiteral",(e,t)=>{Dr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=e._zod.def,o=[];for(const e of r.values)if(void 0===e){if("throw"===t.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===t.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(e))}else o.push(e);if(0===o.length);else if(1===o.length){const e=o[0];n.type=null===e?"null":typeof e,"draft-04"===t.target||"openapi-3.0"===t.target?n.enum=[e]:n.const=e}else o.every(e=>"number"==typeof e)&&(n.type="number"),o.every(e=>"string"==typeof e)&&(n.type="string"),o.every(e=>"boolean"==typeof e)&&(n.type="boolean"),o.every(e=>null===e)&&(n.type="null"),n.enum=o})(e,t,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function qu(e,t){return new Wu({type:"literal",values:Array.isArray(e)?e:[e],...pe(t)})}const Ku=G("ZodFile",(e,t)=>{Zr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:a,mime:u}=e._zod.bag;void 0!==i&&(o.minLength=i),void 0!==a&&(o.maxLength=a),u?1===u.length?(o.contentMediaType=u[0],Object.assign(r,o)):(Object.assign(r,o),r.anyOf=u.map(e=>({contentMediaType:e}))):Object.assign(r,o)})(e,0,n),e.min=(t,n)=>e.check(Bo(t,n)),e.max=(t,n)=>e.check(Vo(t,n)),e.mime=(t,n)=>e.check(ri(Array.isArray(t)?t:[t],n))});function Xu(e){return function(e,t){return new e({type:"file",...pe(t)})}(Ku,e)}const Hu=G("ZodTransform",(e,t)=>{Cr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema")})(0,e),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new V(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(Oe(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(Oe(t))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(e=>(n.value=e,n)):(n.value=o,n)}});function Qu(e){return new Hu({type:"transform",transform:e})}const ec=G("ZodOptional",(e,t)=>{Mr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>gi(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function tc(e){return new ec({type:"optional",innerType:e})}const nc=G("ZodExactOptional",(e,t)=>{Ur.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>gi(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function rc(e){return new nc({type:"optional",innerType:e})}const oc=G("ZodNullable",(e,t)=>{Gr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i=di(o.innerType,t,r),a=t.seen.get(e);"openapi-3.0"===t.target?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function ic(e){return new oc({type:"nullable",innerType:e})}function ac(e){return tc(ic(e))}const uc=G("ZodDefault",(e,t)=>{Jr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;di(o.innerType,t,r),t.seen.get(e).ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function cc(e,t){return new uc({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():ce(t)}})}const sc=G("ZodPrefault",(e,t)=>{Br.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;di(o.innerType,t,r),t.seen.get(e).ref=o.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function lc(e,t){return new sc({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():ce(t)}})}const fc=G("ZodNonOptional",(e,t)=>{Lr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;di(o.innerType,t,r),t.seen.get(e).ref=o.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function dc(e,t){return new fc({type:"nonoptional",innerType:e,...pe(t)})}const pc=G("ZodSuccess",(e,t)=>{Wr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t),e.unwrap=()=>e._zod.def.innerType});function mc(e){return new pc({type:"success",innerType:e})}const yc=G("ZodCatch",(e,t)=>{qr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;let i;di(o.innerType,t,r),t.seen.get(e).ref=o.innerType;try{i=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=i})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function hc(e,t){return new yc({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}const vc=G("ZodNaN",(e,t)=>{Kr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema")})(0,e)});function bc(e){return function(e,t){return new e({type:"nan",...pe(t)})}(vc,e)}const gc=G("ZodPipe",(e,t)=>{Xr.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i="input"===t.io?"transform"===o.in._zod.def.type?o.out:o.in:o.out;di(i,t,r),t.seen.get(e).ref=i})(e,t,0,r),e.in=t.in,e.out=t.out});function wc(e,t){return new gc({type:"pipe",in:e,out:t})}const Sc=G("ZodCodec",(e,t)=>{gc.init(e,t),Qr.init(e,t)});function _c(e,t,n){return new Sc({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}const Oc=G("ZodReadonly",(e,t)=>{no.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;di(o.innerType,t,r),t.seen.get(e).ref=o.innerType,n.readOnly=!0})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function kc(e){return new Oc({type:"readonly",innerType:e})}const jc=G("ZodTemplateLiteral",(e,t)=>{oo.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,o=e._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");r.type="string",r.pattern=o.source})(e,0,n)});function zc(e,t){return new jc({type:"template_literal",parts:e,...pe(t)})}const Pc=G("ZodLazy",(e,t)=>{uo.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.innerType;di(o,t,r),t.seen.get(e).ref=o})(e,t,0,r),e.unwrap=()=>e._zod.def.getter()});function Ic(e){return new Pc({type:"lazy",getter:e})}const Tc=G("ZodPromise",(e,t)=>{ao.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;di(o.innerType,t,r),t.seen.get(e).ref=o.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function xc(e){return new Tc({type:"promise",innerType:e})}const Ec=G("ZodFunction",(e,t)=>{io.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")})(0,e)});function Ac(e){return new Ec({type:"function",input:Array.isArray(e?.input)?Du(e?.input):e?.input??Su(pu()),output:e?.output??pu()})}const Rc=G("ZodCustom",(e,t)=>{co.init(e,t),Ji.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")})(0,e)});function $c(e){const t=new Ht({check:"custom"});return t._zod.check=e,t}function Nc(e,t){return function(e,t,n){const r=pe(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}(Rc,e??(()=>!0),t)}function Dc(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...pe(n)})}(Rc,e,t)}function Zc(e){return function(e){const t=function(e){const t=new Ht({check:"custom",...pe(void 0)});return t._zod.check=e,t}(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(Oe(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Oe(r))}},e(n.value,n)));return t}(e)}const Cc=function(e){const t=new Ht({check:"describe"});return t._zod.onattach=[t=>{const n=fo.get(t)??{};fo.add(t,{...n,description:e})}],t._zod.check=()=>{},t},Fc=function(e){const t=new Ht({check:"meta"});return t._zod.onattach=[t=>{const n=fo.get(t)??{};fo.add(t,{...n,...e})}],t._zod.check=()=>{},t};function Mc(e,t={}){const n=new Rc({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...pe(t)});return n._zod.bag.Class=e,n._zod.check=t=>{t.value instanceof e||t.issues.push({code:"invalid_type",expected:e.name,input:t.value,inst:n,path:[...n._zod.def.path??[]]})},n}const Uc=(...e)=>function(e,t){const n=pe(t);let r=n.truthy??["true","1","yes","on","y","enabled"],o=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),o=o.map(e=>"string"==typeof e?e.toLowerCase():e));const i=new Set(r),a=new Set(o),u=e.Codec??Qr,c=e.Boolean??nr,s=new u({type:"pipe",in:new(e.String??zn)({type:"string",error:n.error}),out:new c({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!i.has(r)||!a.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...a],input:t.value,inst:s,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":o[0]||"false",error:n.error});return s}({Codec:Sc,Boolean:Xa,String:Bi},...e);function Gc(e){const t=Ic(()=>Iu([Li(e),Va(),Ha(),su(),Su(t),Cu(Li(),t)]));return t}function Jc(e,t){return wc(Qu(e),t)}var Vc;Vc||(Vc={}),new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]),L({localeError:(()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return e=>{switch(e.code){case"invalid_type":{const t=r[e.expected]??e.expected,n=function(e){const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"nan":"number";case"object":{if(null===e)return"null";if(Array.isArray(e))return"array";const t=e;if(t&&Object.getPrototypeOf(t)!==Object.prototype&&"constructor"in t&&t.constructor)return t.constructor.name}}return t}(e.input);return`Invalid input: expected ${t}, received ${r[n]??n}`}case"invalid_value":return 1===e.values.length?`Invalid input: expected ${me(e.values[0])}`:`Invalid option: expected one of ${W(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Too big: expected ${e.origin??"value"} to have ${n}${e.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Too small: expected ${e.origin} to have ${n}${e.minimum.toString()} ${r.unit}`:`Too small: expected ${e.origin} to be ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Invalid string: must start with "${t.prefix}"`:"ends_with"===t.format?`Invalid string: must end with "${t.suffix}"`:"includes"===t.format?`Invalid string: must include "${t.includes}"`:"regex"===t.format?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${W(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}})()});var Bc=Su(ku({fullName:Li().optional(),militaryRank:Li().optional(),dates:Li().min(1)}));function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}function Yc(e){var t="function"==typeof Map?new Map:void 0;return Yc=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Wc())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&qc(o,n.prototype),o}(e,arguments,Kc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),qc(n,e)},Yc(e)}function Wc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wc=function(){return!!e})()}function qc(e,t){return qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qc(e,t)}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kc(e)}var Xc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Kc(t),function(e,t){if(t&&("object"==Lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wc()?Reflect.construct(t,n||[],Kc(e).constructor):t.apply(e,n))}(this,t,["Invalid payroll value: ".concat(e)])).message=e,n.name="PayrollValueValidationError",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qc(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(Yc(Error));function Hc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Qc(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Qc(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Qc(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Qc(f,"constructor",s),Qc(s,"constructor",c),c.displayName="GeneratorFunction",Qc(s,o,"GeneratorFunction"),Qc(f),Qc(f,o,"Generator"),Qc(f,r,function(){return this}),Qc(f,"toString",function(){return"[object Generator]"}),(Hc=function(){return{w:i,m:d}})()}function Qc(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Qc=function(e,t,n,r){function i(t,n){Qc(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Qc(e,t,n,r)}function es(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var ts=function(){var e,t=(e=Hc().m(function e(t){var n,r,o;return Hc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t();case 1:return n=e.v,e.a(2,n);case 2:if(e.p=2,!((o=e.v)instanceof Ti)){e.n=3;break}return console.log(o.issues),r=o.issues.map(function(e){var t=e.message,n=e.path;return"".concat(t," в рядку ").concat((null==n?void 0:n[0])+2)}).join("\n"),e.a(2,U.ValidationError(r));case 3:if(!(o instanceof Xc)){e.n=4;break}return console.log(o),e.a(2,U.ValidationError(o.message));case 4:return console.log(o),e.a(2,U.UnknownError())}},e,null,[[0,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){es(i,r,o,a,u,"next",e)}function u(e){es(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach(function(t){is(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function is(e,t,n){return(t=fs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function as(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return us(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(us(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,us(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,us(f,"constructor",s),us(s,"constructor",c),c.displayName="GeneratorFunction",us(s,o,"GeneratorFunction"),us(f),us(f,o,"Generator"),us(f,r,function(){return this}),us(f,"toString",function(){return"[object Generator]"}),(as=function(){return{w:i,m:d}})()}function us(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}us=function(e,t,n,r){function i(t,n){us(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},us(e,t,n,r)}function cs(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ss(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){cs(i,r,o,a,u,"next",e)}function u(e){cs(i,r,o,a,u,"throw",e)}a(void 0)})}}function ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fs(r.key),r)}}function fs(e){var t=function(e){if("object"!=ns(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ns(t)?t:t+""}var ds=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t,this.tableRenderer=n},t=[{key:"execute",value:(n=ss(as().m(function e(){var t=this;return as().w(function(e){for(;;)if(0===e.n)return e.a(2,ts(ss(as().m(function e(){var n,r,o,i,a;return as().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.tableReader.read();case 1:return n=e.v,r=t.filterValidRecords(n),o=t.fillMissingInfo(r),i=t.parseDateRanges(o),a=i.map(function(e){return e.getRenderItem()}),e.n=2,t.tableRenderer.render(a);case 2:return e.a(2,U.Ok())}},e)}))))},e)})),function(){return n.apply(this,arguments)})},{key:"filterValidRecords",value:function(e){return Bc.parse(e.filter(function(e){return!e.dates||null==e||!e.fullName||null!=e&&e.militaryRank||console.log("Missing military rank:",e),!!e.dates||!(null==e||!e.fullName)||!(null==e||!e.militaryRank)}))}},{key:"fillMissingInfo",value:function(e){return e.map(function(t,n){if(t.fullName)return t;for(var r=n-1;r>=0&&!e[r].fullName;)r--;if(r<0)throw new Error("No serviceman found for record at index ".concat(n));return os(os({},e[r]),{},{dates:t.dates})})}},{key:"parseDateRanges",value:function(e){return e.flatMap(function(e){return m.FromString(e.dates).map(function(t){return{serviceman:x.fromRaw({fullName:e.fullName,militaryRank:e.militaryRank}),dateRange:t}})}).reduce(function(e,t){var n=e.find(function(e){return e.serviceman.equals(t.serviceman)&&t.dateRange.getMonthAndYear()===e.getMonthAndYear()});return n?n.addDateRange(t.dateRange):e.push(Z.Create(t.serviceman,[t.dateRange])),e},[]).sort(function(e,t){return e.serviceman.fullName.toString().localeCompare(t.serviceman.fullName.toString())})}}],t&&ls(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),ps=Su(ku({fullName:Li().min(5),militaryRank:Li().min(1),dates:Li().min(1)})),ms=Li().regex(/^(0[1-9]|1[0-2])\.\d{4}$/,"Неправильний місяць (MM.YYYY)");function ys(e){return ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(e)}function hs(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return vs(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(vs(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,vs(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,vs(f,"constructor",s),vs(s,"constructor",c),c.displayName="GeneratorFunction",vs(s,o,"GeneratorFunction"),vs(f),vs(f,o,"Generator"),vs(f,r,function(){return this}),vs(f,"toString",function(){return"[object Generator]"}),(hs=function(){return{w:i,m:d}})()}function vs(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}vs=function(e,t,n,r){function i(t,n){vs(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},vs(e,t,n,r)}function bs(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function gs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){bs(i,r,o,a,u,"next",e)}function u(e){bs(i,r,o,a,u,"throw",e)}a(void 0)})}}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ss(r.key),r)}}function Ss(e){var t=function(e){if("object"!=ys(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ys(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ys(t)?t:t+""}var _s=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t,this.tableRenderer=n},t=[{key:"execute",value:(n=gs(hs().m(function e(t){var n=this;return hs().w(function(e){for(;;)if(0===e.n)return e.a(2,ts(gs(hs().m(function e(){var r,o,i,a;return hs().w(function(e){for(;;)switch(e.n){case 0:return ms.parse(t),e.n=1,n.tableReader.read();case 1:return r=e.v,o=ps.parse(r),i=n.parseDateRanges(o,t),a=i.map(function(e){return e.getRenderItem()}),e.n=2,n.tableRenderer.render(a);case 2:return e.a(2,U.Ok())}},e)}))))},e)})),function(e){return n.apply(this,arguments)})},{key:"parseDateRanges",value:function(e,t){return e.map(function(e){return Z.Create(x.fromRaw(e),m.FromInstructorsString(e.dates,t),30)})}}],t&&ws(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Os=function(e){return 30===e||50===e||70===e||100===e};function ks(e){return ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(e)}function js(e){return function(e){if(Array.isArray(e))return Is(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ps(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Ps(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ps(e,t){if(e){if("string"==typeof e)return Is(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Is(e,t):void 0}}function Is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xs(r.key),r)}}function xs(e){var t=function(e){if("object"!=ks(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ks(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ks(t)?t:t+""}var Es=function(e){return e<10?"0".concat(e):e},As=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"resolve",value:function(e,t){var n=this,r=zs(t.split("."),2),o=r[0],i=r[1],a=new Date(Number(i),Number(o),0).getDate(),u=new Map,c=new Map;return e.forEach(function(e){var r=n.extractRangesFromRawPayrollItem(e,a,t);n.groupPayrollItems(e,r,c,u)}),{payrolls:c,payrollsByServiceman:u}}},{key:"extractRangesFromRawPayrollItem",value:function(e,t,n){for(var r=new Map,o=null,i=null,a=1;a<=t;a++){var u="".concat(Es(a),".").concat(n),c=e[u]?Number(e[u]):null,s=a===t;if(null===o&&c)o=u,i=Number(c);else if(null!==o&&c!==i){var l="".concat(Es(a-1),".").concat(n);i&&this.addRangeWithSplit(r,i,o,l),c?(o=u,i=Number(c)):(o=null,i=null)}s&&o&&i&&this.addRangeWithSplit(r,i,o,u)}return r}},{key:"groupPayrollItems",value:function(e,t,n,r){var o,i=String(e.taxPayerId||e.fullName),a=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Ps(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t);try{for(a.s();!(o=a.n()).done;){var u=zs(o.value,2),c=u[0],s=u[1];if(Os(c)){var l=Z.Create(x.FromRawExtended(e),s,c,e.reason),f=r.get(i)||[];r.set(i,[].concat(js(f),[l]));var d=n.get(c)||[];n.set(c,[].concat(js(d),[l]))}}}catch(e){a.e(e)}finally{a.f()}}},{key:"addRangeWithSplit",value:function(e,t,n,r){var o=new m(n,r);if(170===t){var i=e.get(100)||[];e.set(100,[].concat(js(i),[o]));var a=e.get(70)||[];e.set(70,[].concat(js(a),[o]))}else{var u=e.get(t)||[];e.set(t,[].concat(js(u),[o]))}}}],t&&Ts(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Rs(e){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(e)}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ns(r.key),r)}}function Ns(e){var t=function(e){if("object"!=Rs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rs(t)?t:t+""}var Ds=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"parseDateRanges",value:function(e,t){return e.flatMap(function(e){return m.FromString(e.dates).map(function(t){return{serviceman:x.fromRaw({fullName:e.fullName,militaryRank:e.militaryRank}),dateRange:t}})}).reduce(function(e,n){var r=e.find(function(e){return e.serviceman.equals(n.serviceman)&&n.dateRange.getMonthAndYear()===e.getMonthAndYear()});return r?r.addDateRange(n.dateRange):e.push(Z.Create(n.serviceman,[n.dateRange],t)),e},[]).sort(function(e,t){return e.serviceman.fullName.toString().localeCompare(t.serviceman.fullName.toString())})}}],null&&$s(e.prototype,null),t&&$s(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Zs(e){return Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(e)}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fs(r.key),r)}}function Fs(e){var t=function(e){if("object"!=Zs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zs(t)?t:t+""}var Ms=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.taxPayerId=n,this.servicemanFullName=r,this.details=o}return t=e,n=[{key:"MissingServiceman",value:function(t,n){return new e("missing_serviceman",t,n)}},{key:"ExtraServiceman",value:function(t,n){return new e("extra_serviceman",t,n)}},{key:"DifferentRanges",value:function(t,n,r,o){return new e("different_ranges",t,n,{missingInFirst:r,missingInSecond:o})}}],null&&Cs(t.prototype,null),n&&Cs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Us(e){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}function Gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Vs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Js(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vs(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Vs(e,t){if(e){if("string"==typeof e)return Bs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bs(e,t):void 0}}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ys(r.key),r)}}function Ys(e){var t=function(e){if("object"!=Us(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Us(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Us(t)?t:t+""}var Ws=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"DetectOverlaps",value:function(e){var t,n=[],r=Js(e);try{for(r.s();!(t=r.n()).done;){var o=Gs(t.value,2),i=(o[0],o[1]);if(0!==i.length){var a=i[0].serviceman,u=this.collectDateOccurrences(i),c=this.findOverlappingDates(u);c.length>0&&n.push({serviceman:a,overlaps:c})}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"ComparePayrolls",value:function(e,t){var n,r=this.payrollsToMap(e),o=this.payrollsToMap(t),i=[],a=Js(r);try{var u=function(){var e,t=Gs(n.value,2),r=t[0],a=t[1],u=o.get(r),c=null==a||null===(e=a[0])||void 0===e||null===(e=e.serviceman)||void 0===e?void 0:e.taxPayerId;if(!u)return i.push(Ms.MissingServiceman(c,r)),1;var s=a.flatMap(function(e){return e.getDates()}),l=u.flatMap(function(e){return e.getDates()}),f=new Set(s),d=new Set(l),p=l.filter(function(e){return!f.has(e)}),m=s.filter(function(e){return!d.has(e)});(p.length||m.length)&&i.push(Ms.DifferentRanges(c,r,p,m)),o.delete(r)};for(a.s();!(n=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}var c,s=Js(o);try{for(s.s();!(c=s.n()).done;){var l,f=Gs(c.value,2),d=f[0],p=f[1],m=null==p||null===(l=p[0])||void 0===l||null===(l=l.serviceman)||void 0===l?void 0:l.taxPayerId;i.push(Ms.ExtraServiceman(m,d))}}catch(e){s.e(e)}finally{s.f()}return{areEqual:0===i.length,differences:i}}},{key:"payrollsToMap",value:function(e){var t=new Map;return e.forEach(function(e){var n=e.serviceman.fullName.toString(),r=t.get(n)||[];t.set(n,[].concat(function(e){return function(e){if(Array.isArray(e))return Bs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r),[e]))}),t}},{key:"collectDateOccurrences",value:function(e){var t,n=new Map,r=Js(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(70!==o.value){var i,a=Js(o.getDates());try{for(a.s();!(i=a.n()).done;){var u=i.value,c=n.get(u)||0;n.set(u,c+1)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findOverlappingDates",value:function(e){var t,n=[],r=Js(e);try{for(r.s();!(t=r.n()).done;){var o=Gs(t.value,2),i=o[0];o[1]>1&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n.sort(function(e,t){return e.localeCompare(t)})}}],null&&Ls(e.prototype,null),t&&Ls(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function qs(e){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(e)}function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach(function(t){rl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hs(e){return function(e){if(Array.isArray(e))return tl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||el(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||el(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t){if(e){if("string"==typeof e)return tl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tl(e,t):void 0}}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ol(r.key),r)}}function rl(e,t,n){return(t=ol(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ol(e){var t=function(e){if("object"!=qs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qs(t)?t:t+""}var il=Su(ku({fullName:Li().min(1,"Full name is required"),militaryRank:Li().min(1,"Military rank is required"),unit:Iu([Li().min(1,"Unit is required"),Va()]).optional(),taxPayerId:Iu([Li(),Va()]).optional(),reason:fu().optional()}).passthrough()),al=/^\d{2}\.\d{2}\.\d{4}$/,ul=[30,50,70,100,170],cl=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rl(this,"knownFields",["fullName","militaryRank","unit","taxPayerId","reason"])},t=[{key:"validateDynamicFields",value:function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=Qs(r[n],2),i=o[0],a=o[1];if(!this.knownFields.includes(i))if(this.isValidDateKey(i)){var u=this.validatePayrollValue(i,a);u.isValid||t.push.apply(t,Hs(u.errors))}else t.push({field:i,message:"Invalid date format. Expected DD.MM.YYYY, got: ".concat(i),value:i})}return{isValid:0===t.length,errors:t}}},{key:"validate",value:function(e){var t=this,n=[];if(il.parse(e),e.forEach(function(e,r){var o=t.validateDynamicFields(e);o.isValid||o.errors.forEach(function(t){n.push(Xs(Xs({},t),{},{field:"[".concat(e.fullName,"] ").concat(t.field)}))})}),n.length>0)throw new Xc(n.map(function(e){return e.message}).join(";"));return{isValid:0===n.length,errors:n}}},{key:"isValidDateKey",value:function(e){if(!al.test(e))return!1;var t=Qs(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];if(o<2e3||o>2100)return!1;if(r<1||r>12)return!1;if(n<1||n>31)return!1;var i=new Date(o,r-1,n);return i.getDate()===n&&i.getMonth()===r-1&&i.getFullYear()===o}},{key:"validatePayrollValue",value:function(e,t){var n=[];return""===t||null==t||ul.includes(Number(t))?{isValid:!0,errors:[]}:(n.push({field:e,message:"Invalid payroll value. Allowed values: ".concat(ul.join(", "),". Got: ").concat(t),value:t}),{isValid:!1,errors:n})}},{key:"extractDateFields",value:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var o=Qs(r[n],2),i=o[0],a=o[1];!this.knownFields.includes(i)&&al.test(i)&&(t[i]=a)}return t}}],t&&nl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function sl(e){return sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(e)}function ll(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ml(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function fl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return dl(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(dl(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,dl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,dl(f,"constructor",s),dl(s,"constructor",c),c.displayName="GeneratorFunction",dl(s,o,"GeneratorFunction"),dl(f),dl(f,o,"Generator"),dl(f,r,function(){return this}),dl(f,"toString",function(){return"[object Generator]"}),(fl=function(){return{w:i,m:d}})()}function dl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}dl=function(e,t,n,r){function i(t,n){dl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},dl(e,t,n,r)}function pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||ml(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ml(e,t){if(e){if("string"==typeof e)return yl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yl(e,t):void 0}}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function hl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function vl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){hl(i,r,o,a,u,"next",e)}function u(e){hl(i,r,o,a,u,"throw",e)}a(void 0)})}}function bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gl(r.key),r)}}function gl(e){var t=function(e){if("object"!=sl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sl(t)?t:t+""}var wl=function(){return e=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.payrollTableReader=t,this.report30TableReader=n,this.report50TableReader=r,this.report70TableReader=o,this.report100TableReader=i,this.payrollTableRenderer=a,this.rawPayrollDataVerifier=u},t=[{key:"checkUnitPayroll",value:(o=vl(fl().m(function e(t){var n=this;return fl().w(function(e){for(;;)if(0===e.n)return e.a(2,ts(vl(fl().m(function e(){var r,o,i,a,u,c,s,l,f;return fl().w(function(e){for(;;)switch(e.n){case 0:return ms.parse(t),e.n=1,Promise.all([n.payrollTableReader.read(),n.reportItemsToPayrolls()]);case 1:return r=e.v,o=pl(r,2),i=o[0],a=o[1],e.n=2,n.rawPayrollDataVerifier.verify(i,t);case 2:return u=e.v,console.log({issuesFromTracker:u}),(new cl).validate(i),c=new As,s=c.resolve(i,t),l=s.payrolls,f=n.comparePayrolls(l,a,u),console.log({issuesFromTracker:u}),e.n=3,n.renderIssues(f,i);case 3:return e.a(2,U.Ok())}},e)}))))},e)})),function(e){return o.apply(this,arguments)})},{key:"reportItemsToPayrolls",value:(r=vl(fl().m(function e(){var t,n,r,o,i,a,u;return fl().w(function(e){for(;;)switch(e.n){case 0:return t=new Map,e.n=1,Promise.all([this.report30TableReader.read(),this.report50TableReader.read(),this.report70TableReader.read(),this.report100TableReader.read()]);case 1:return n=e.v,r=pl(n,4),o=r[0],i=r[1],a=r[2],u=r[3],console.log({report100RawData:u}),t.set(30,Ds.parseDateRanges(o)),t.set(50,Ds.parseDateRanges(i)),t.set(70,Ds.parseDateRanges(a)),t.set(100,Ds.parseDateRanges(u)),e.a(2,t)}},e,this)})),function(){return r.apply(this,arguments)})},{key:"comparePayrolls",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,o=ll(e);try{for(o.s();!(n=o.n()).done;){var i,a=pl(n.value,2),u=a[0],c=a[1],s=t.get(u)||[],l=ll(Ws.ComparePayrolls(c,s).differences);try{for(l.s();!(i=l.n()).done;){var f=i.value,d=this.differenceToMessage(f,u),p=r.has(f.taxPayerId)?"".concat(r.get(f.taxPayerId),"; ").concat(d):d;r.set(f.taxPayerId,p)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"differenceToMessage",value:function(e,t){switch(e.type){case"missing_serviceman":return"У рапорті ".concat(t," відсутній військовослужбовець: ").concat(e.servicemanFullName);case"extra_serviceman":return"У рапорті ".concat(t," зайвий військовослужбовець: ").concat(e.servicemanFullName);case"different_ranges":var n=e.details,r=n.missingInFirst,o=n.missingInSecond;return[r.length?"Відсутні дати ".concat(t," у відомості: ").concat(r.join(", ")):"",o.length?"Відсутні дати у рапорті ".concat(t,": ").concat(o.join(", ")):""].filter(Boolean).join(" ")}}},{key:"renderIssues",value:(n=vl(fl().m(function e(t,n){var r;return fl().w(function(e){for(;;)switch(e.n){case 0:if(0!==(r=n.map(function(e){var n=e.taxPayerId?String(e.taxPayerId):null==e?void 0:e.fullName;return{comment:t.get(n)||""}})).length){e.n=1;break}return e.a(2);case 1:return e.a(2,this.payrollTableRenderer.render(r))}},e,this)})),function(e,t){return n.apply(this,arguments)})}],t&&bl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}();function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ol(r.key),r)}}function Ol(e){var t=function(e){if("object"!=Sl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sl(t)?t:t+""}var kl=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"generate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(new Date).getFullYear();return n.map(function(n,o){var i,a,u,c,s,l,f,d,p,m,y,h,v,b,g,w,S,_,O,k,j,z,P,I,T,x=e.get(n.servicemanId),E=null!==(i=t.get(n.servicemanId))&&void 0!==i?i:[],A={};E.forEach(function(e){var t,n,r,o=e.getMonthAndYear(),i=(null===(t=A[o])||void 0===t?void 0:t.days)||0,a=null!==(n=A[o])&&void 0!==n&&n.reason?[null===(r=A[o])||void 0===r?void 0:r.reason]:[];A[o]={days:i+e.getTotalDays(),reason:[].concat(a,[e.reason]).join("; ")}});var R=n.paymentsOrders.length,$=n.paymentsOrders.map(function(e){return e.name}).join("; "),N=n.paymentsOrders.filter(function(e){return e.year===r}).length;return{index:o+1,fullName:null==x?void 0:x.fullName.toString(),militaryRank:null==x?void 0:x.militaryRank,taxPayerId:null==x?void 0:x.taxPayerId,position:null==x?void 0:x.position,unit:null==x?void 0:x.unit,remainingDays:n.getRemainingDays(),totalEligibleDays:n.totalEligibleDays,initialAmountOfDays:n.initialAmountOfDays,numberOfPaymentOrdersInTheYear:N,numberOfPaymentOrders:R,paymentOrders:$,januaryDays:null===(a=A["01.".concat(r)])||void 0===a?void 0:a.days,januaryReason:null===(u=A["01.".concat(r)])||void 0===u?void 0:u.reason,februaryDays:null===(c=A["02.".concat(r)])||void 0===c?void 0:c.days,februaryReason:null===(s=A["02.".concat(r)])||void 0===s?void 0:s.reason,marchDays:null===(l=A["03.".concat(r)])||void 0===l?void 0:l.days,marchReason:null===(f=A["03.".concat(r)])||void 0===f?void 0:f.reason,aprilDays:null===(d=A["04.".concat(r)])||void 0===d?void 0:d.days,aprilReason:null===(p=A["04.".concat(r)])||void 0===p?void 0:p.reason,mayDays:null===(m=A["05.".concat(r)])||void 0===m?void 0:m.days,mayReason:null===(y=A["05.".concat(r)])||void 0===y?void 0:y.reason,juneDays:null===(h=A["06.".concat(r)])||void 0===h?void 0:h.days,juneReason:null===(v=A["06.".concat(r)])||void 0===v?void 0:v.reason,julyDays:null===(b=A["07.".concat(r)])||void 0===b?void 0:b.days,julyReason:null===(g=A["07.".concat(r)])||void 0===g?void 0:g.reason,augustDays:null===(w=A["08.".concat(r)])||void 0===w?void 0:w.days,augustReason:null===(S=A["08.".concat(r)])||void 0===S?void 0:S.reason,septemberDays:null===(_=A["09.".concat(r)])||void 0===_?void 0:_.days,septemberReason:null===(O=A["09.".concat(r)])||void 0===O?void 0:O.reason,octoberDays:null===(k=A["10.".concat(r)])||void 0===k?void 0:k.days,octoberReason:null===(j=A["10.".concat(r)])||void 0===j?void 0:j.reason,novemberDays:null===(z=A["11.".concat(r)])||void 0===z?void 0:z.days,novemberReason:null===(P=A["11.".concat(r)])||void 0===P?void 0:P.reason,decemberDays:null===(I=A["12.".concat(r)])||void 0===I?void 0:I.days,decemberReason:null===(T=A["12.".concat(r)])||void 0===T?void 0:T.reason}})}},{key:"generatePayrollRenderItems",value:function(e,t,n,r){var o=n.filter(function(e){return e.getRemainingPeriods()>0});return console.log({filteredAccurals:o}),o.map(function(n){var o,i=e.get(n.servicemanId),a=null!==(o=t.get(n.servicemanId))&&void 0!==o?o:[],u=a.filter(function(e){return e.getMonthAndYear()===r}).map(function(e){return e.reason}).join("; "),c=a.flatMap(function(e){return e.getDates()}).join("; ");return{fullName:null==i?void 0:i.fullName.toString(),militaryRank:null==i?void 0:i.militaryRank,taxPayerId:null==i?void 0:i.taxPayerId,unit:null==i?void 0:i.unit,days:n.getRemainingPeriods(),reason:u,dateRange:c}})}}],null&&_l(e.prototype,null),t&&_l(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function jl(e){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(e)}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pl(r.key),r)}}function Pl(e){var t=function(e){if("object"!=jl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jl(t)?t:t+""}var Il=function(){function e(t,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.servicemanId=n,this.payrollItems=r,this.totalEligibleDays=o,this.paymentsOrders=i,this.initialAmountOfDays=a}return t=e,n=[{key:"getRemainingDays",value:function(){return this.totalEligibleDays-30*this.getPaidPeriodsInTheYear()}},{key:"getPaidPeriodsInTheYear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2026;return this.paymentsOrders.filter(function(t){return t.year===e}).length}},{key:"getRemainingPeriods",value:function(){return Math.floor(this.getRemainingDays()/30)}}],r=[{key:"Create",value:function(t,n,r,o){var i=0,a=n.map(function(e){return i+=e.getTotalDays(),e.id}),u=function(e){return e.split(";").map(function(t){if(t){var n=t.match(/(\d{2})\.(\d{2})\.(\d{4})/);(!n||n.length<1)&&console.log("orders with error",{orders:e});var r=Number(n[2]),o=Number(n[3]);return 1===r&&(o-=1),{name:t.trim(),year:Number(o)}}}).filter(function(e){return e})}(r);return new e(z(),t,a,i+o,u,o)}}],n&&zl(t.prototype,n),r&&zl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}(),Tl=Su(ku({fullName:Li(),militaryRank:Li(),position:Li(),unit:Li(),taxPayerId:Iu([Li(),Va()]).optional(),remainingDaysFromPreviousYear:Va().optional(),paymentsOrders:Li().optional()})),xl=Su(ku({fullName:Li(),militaryRank:Li(),unit:Li(),taxPayerId:Iu([Li(),Va()]).optional(),dates:Li(),reason:Li().optional()}));function El(e){return El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(e)}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach(function(t){$l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $l(e,t,n){return(t=Jl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Dl(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Dl(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Dl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Dl(f,"constructor",s),Dl(s,"constructor",c),c.displayName="GeneratorFunction",Dl(s,o,"GeneratorFunction"),Dl(f),Dl(f,o,"Generator"),Dl(f,r,function(){return this}),Dl(f,"toString",function(){return"[object Generator]"}),(Nl=function(){return{w:i,m:d}})()}function Dl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Dl=function(e,t,n,r){function i(t,n){Dl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Dl(e,t,n,r)}function Zl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Cl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cl(e,t){if(e){if("string"==typeof e)return Fl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ml(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ul(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ml(i,r,o,a,u,"next",e)}function u(e){Ml(i,r,o,a,u,"throw",e)}a(void 0)})}}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jl(r.key),r)}}function Jl(e){var t=function(e){if("object"!=El(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=El(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==El(t)?t:t+""}var Vl=function(){return e=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialTableReader=t,this.payrollsTableReader=n,this.orderTableReader=r,this.rewardAccrualTableRenderer=o,this.payrollTableRenderer=i,this.newServicemansTableRenderer=a,this.initialTableRenderer=u},t=[{key:"createOrderAnnex",value:(o=Ul(Nl().m(function e(t){var n=this;return Nl().w(function(e){for(;;)if(0===e.n)return e.a(2,ts(Ul(Nl().m(function e(){var r,o,i,a,u,c,s,l,f,d;return Nl().w(function(e){for(;;)switch(e.n){case 0:return ms.parse(t),e.n=1,Promise.all([n.initialTableReader.read(),n.payrollsTableReader.read()]);case 1:return r=e.v,o=Zl(r,2),i=o[0],a=o[1],console.log(i,a),n.validate(i,a),u=n.parseInputData(i,a),c=u.servicemans,s=u.payrolls,l=u.accruals,console.log({servicemans:c,payrolls:s,accruals:l}),f=kl.generate(c,s,l),d=kl.generatePayrollRenderItems(c,s,l,t),console.log({rewardAccrualRenderItems:f,payroll70RenderItems:d}),e.n=2,Promise.all([n.payrollTableRenderer.render(d),n.rewardAccrualTableRenderer.render(f)]);case 2:return e.a(2,U.Ok())}},e)}))))},e)})),function(e){return o.apply(this,arguments)})},{key:"addNotExisting",value:(r=Ul(Nl().m(function e(){var t,n,r,o,i,a;return Nl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.initialTableReader.read(),this.payrollsTableReader.read()]);case 1:return t=e.v,n=Zl(t,2),r=n[0],o=n[1],i=new Map,r.forEach(function(e){return e.taxPayerId&&i.set(String(e.taxPayerId),1)}),a=o.filter(function(e){return!i.get(String(e.taxPayerId))}).map(function(e){return Rl(Rl({},e),{},{position:"",remainingDaysFromPreviousYear:0})}),e.n=2,this.newServicemansTableRenderer.render(a);case 2:return e.a(2,U.Ok())}},e,this)})),function(){return r.apply(this,arguments)})},{key:"addOrder",value:(n=Ul(Nl().m(function e(t){var n,r,o,i,a;return Nl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.initialTableReader.read(),this.orderTableReader.read()]);case 1:return n=e.v,r=Zl(n,2),o=r[0],i=r[1],a=this.fillInitialData(o,i,t),e.n=2,this.initialTableRenderer.render(a);case 2:return e.a(2,U.Ok())}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"validate",value:function(e,t){Tl.parse(e),xl.parse(t)}},{key:"parseInputData",value:function(e,t){var n=new Map,r=new Map,o=new Map;return e.forEach(function(e){var t=x.FromRawExtended(e);n.set(t.id,t),r.set(t.taxPayerId,t.id)}),t.forEach(function(e){var t=r.get(String(e.taxPayerId));t||console.error("Serviceman id not found, need to create serviceman");var i=n.get(t),a=Z.Create(i,m.FromString(e.dates),70,e.reason),u=o.get(t)||[];o.set(t,[].concat(function(e){return function(e){if(Array.isArray(e))return Fl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u),[a]))}),{accruals:e.map(function(e){var t=r.get(String(e.taxPayerId));return Il.Create(t,o.get(t)||[],e.paymentsOrders,e.remainingDaysFromPreviousYear)}),servicemans:n,payrolls:o}}},{key:"fillInitialData",value:function(e,t,n){var r=new Map;return t.forEach(function(e){var t=e.taxPayerId,n=e.days;r.set(String(t).trim(),n)}),e.map(function(e){var t=r.get(String(e.taxPayerId).trim()),o=Array(t||0).fill(n).join("; ").trim();return o&&(e.paymentsOrders=e.paymentsOrders?"".concat(e.paymentsOrders,"; ").concat(o).trim():o),e})}}],t&&Gl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}();function Bl(e){return Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(e)}function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach(function(t){tf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return ql(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(ql(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,ql(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,ql(f,"constructor",s),ql(s,"constructor",c),c.displayName="GeneratorFunction",ql(s,o,"GeneratorFunction"),ql(f),ql(f,o,"Generator"),ql(f,r,function(){return this}),ql(f,"toString",function(){return"[object Generator]"}),(Wl=function(){return{w:i,m:d}})()}function ql(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ql=function(e,t,n,r){function i(t,n){ql(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ql(e,t,n,r)}function Kl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ql(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Hl(i,r,o,a,u,"next",e)}function u(e){Hl(i,r,o,a,u,"throw",e)}a(void 0)})}}function ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nf(r.key),r)}}function tf(e,t,n){return(t=nf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nf(e){var t=function(e){if("object"!=Bl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bl(t)?t:t+""}var rf=function(){return t=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tf(this,"reasonsMap",new Map),this.tableReader=t,this.reasonsMapReader=n,this.overlapsTableRenderer=r,this.table30Renderer=o,this.table50Renderer=i,this.table70Renderer=a,this.table100Renderer=u},n=[{key:"generateSummary",value:(a=Ql(Wl().m(function e(t){var n=this;return Wl().w(function(e){for(;;)if(0===e.n)return e.a(2,ts(Ql(Wl().m(function e(){var r,o,i,a,u,c,s,l;return Wl().w(function(e){for(;;)switch(e.n){case 0:return ms.parse(t),e.n=1,Promise.all([n.tableReader.read(),n.readReasons()]);case 1:if(r=e.v,o=Kl(r,1),i=o[0],(new cl).validate(i),a=new As,u=a.resolve(i,t),c=u.payrolls,s=u.payrollsByServiceman,!((l=Ws.DetectOverlaps(s)).length>0)){e.n=3;break}return e.n=2,n.renderOverlaps(l);case 2:return e.a(2,U.ValidationError("Задвоєних періодів: ".concat(l.length)));case 3:return e.n=4,n.renderSummary(c);case 4:return e.a(2,U.Ok())}},e)}))))},e)})),function(e){return a.apply(this,arguments)})},{key:"check",value:(e=Ql(Wl().m(function e(t){var n,r,o;return Wl().w(function(e){for(;;)switch(e.n){case 0:return ms.parse(t),e.n=1,this.tableReader.read();case 1:n=e.v,(new cl).validate(n),r=new As,(o=r.resolve(n,t)).payrolls,o.payrollsByServiceman;case 2:return e.a(2)}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"renderOverlaps",value:(i=Ql(Wl().m(function e(t){return Wl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.overlapsTableRenderer.render(t.map(function(e){var t=e.serviceman,n=e.overlaps;return{fullName:t.fullName.toString(),militaryRank:null==t?void 0:t.militaryRank,taxPayerId:String(null==t?void 0:t.taxPayerId),dates:null==n?void 0:n.join(", ")}}));case 1:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readReasons",value:(o=Ql(Wl().m(function e(){var t=this;return Wl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.reasonsMapReader.read();case 1:e.v.forEach(function(e){var n=e.id,r=e.description;return t.reasonsMap.set(n,r)});case 2:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"renderSummary",value:(r=Ql(Wl().m(function e(t){return Wl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.table30Renderer.render(this.getPayrollsRenderItems(t,30)),this.table50Renderer.render(this.getPayrollsRenderItems(t,50)),this.table70Renderer.render(this.getPayrollsRenderItems(t,70)),this.table100Renderer.render(this.getPayrollsRenderItems(t,100))]);case 1:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getPayrollsRenderItems",value:function(e,t){var n,r=this;return(null===(n=e.get(t))||void 0===n?void 0:n.map(function(e){return Yl(Yl({},e.getRenderItem()),{},{reason:r.reasonsMap.get(e.reason)})}))||[]}}],n&&ef(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var e,t,n,r,o,i,a}();function of(e){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(e)}function af(e){return function(e){if(Array.isArray(e))return mf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uf(Object(n),!0).forEach(function(t){sf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sf(e,t,n){return(t=bf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return ff(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(ff(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,ff(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,ff(f,"constructor",s),ff(s,"constructor",c),c.displayName="GeneratorFunction",ff(s,o,"GeneratorFunction"),ff(f),ff(f,o,"Generator"),ff(f,r,function(){return this}),ff(f,"toString",function(){return"[object Generator]"}),(lf=function(){return{w:i,m:d}})()}function ff(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ff=function(e,t,n,r){function i(t,n){ff(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ff(e,t,n,r)}function df(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||pf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(e,t){if(e){if("string"==typeof e)return mf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mf(e,t):void 0}}function mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function hf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){yf(i,r,o,a,u,"next",e)}function u(e){yf(i,r,o,a,u,"throw",e)}a(void 0)})}}function vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bf(r.key),r)}}function bf(e){var t=function(e){if("object"!=of(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=of(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==of(t)?t:t+""}var gf=function(e){return e<10?"0".concat(e):e},wf=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.payrollTableReader=t,this.visitorsTableReader=n,this.payrollTableRenderer=r},t=[{key:"validateVisitors",value:(i=hf(lf().m(function e(t){var n=this;return lf().w(function(e){for(;;)if(0===e.n)return e.a(2,ts(hf(lf().m(function e(){var r,o,i,a,u,c,s,l,f,d,p,m;return lf().w(function(e){for(;;)switch(e.n){case 0:return ms.parse(t),e.n=1,Promise.all([n.fetchRawPayroll(),n.fetchRawVisitors(t)]);case 1:return r=e.v,o=df(r,2),i=o[0],a=o[1],u=new As,c=u.resolve(i,t),s=c.payrolls,l=c.payrollsByServiceman,f=u.resolve(a,t),d=f.payrolls,p=f.payrollsByServiceman,m=n.comparePayrolls(s,d,l),console.log({payrolls:s,visitorsPayroll:d,issues:m}),e.n=2,n.renderIssues(m,i,p);case 2:return e.a(2,U.Ok())}},e)}))))},e)})),function(e){return i.apply(this,arguments)})},{key:"fetchRawPayroll",value:(o=hf(lf().m(function e(){var t;return lf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.payrollTableReader.read();case 1:return t=e.v,(new cl).validate(t),e.a(2,t.map(function(e){return cf(cf({},e),{},{taxPayerId:void 0})}))}},e,this)})),function(){return o.apply(this,arguments)})},{key:"fetchRawVisitors",value:(r=hf(lf().m(function e(t){var n;return lf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.visitorsTableReader.read();case 1:return n=e.v,e.a(2,n.map(function(e){for(var n=df(t.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(gf(a),".").concat(t);e[u]&&(e[u]=100)}return e}))}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"comparePayrolls",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=e.get(100),a=t.get(100)||[],u=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=pf(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(Ws.ComparePayrolls(i,a).differences);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(n.has(c.servicemanFullName)){var s=this.differenceToMessage(c),l=o.has(c.servicemanFullName)?"".concat(o.get(c.servicemanFullName),"; ").concat(s):s;o.set(c.servicemanFullName,l)}}}catch(e){u.e(e)}finally{u.f()}return o}},{key:"differenceToMessage",value:function(e){switch(e.type){case"missing_serviceman":return"Ніхто не вказав у відомості відвідування: ".concat(e.servicemanFullName);case"extra_serviceman":return"Не проставили 100: ".concat(e.servicemanFullName);case"different_ranges":var t=e.details,n=t.missingInFirst,r=t.missingInSecond;return[n.length?"Не проставили 100 у відомості: ".concat(n.join(", ")):"",r.length?"Відсутні дати у відомостях відвідування: ".concat(r.join(", ")):""].filter(Boolean).join(" ")}}},{key:"renderIssues",value:(n=hf(lf().m(function e(t,n,r){var o,i;return lf().w(function(e){for(;;)switch(e.n){case 0:if(o=[],0!==(i=n.map(function(e){var n=new g(e.fullName).toString(),i=r.get(n)||[],a=i.map(function(e){return e.getRenderItem().dateRange}).join("; "),u="".concat(a," ").concat(t.get(n)||"").trim(),c=i.flatMap(function(e){return e.getDates()}).map(function(e){return{rowId:n,field:e,styleId:"visitors"}});return o=[].concat(af(o),af(c)),{id:n,comment:u}})).length){e.n=1;break}return e.a(2);case 1:return console.log({overrides:o}),e.a(2,this.payrollTableRenderer.render(i,o))}},e,this)})),function(e,t,r){return n.apply(this,arguments)})}],t&&vf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o,i}();function Sf(e){return Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(e)}function _f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Of(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return kf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(kf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,kf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,kf(f,"constructor",s),kf(s,"constructor",c),c.displayName="GeneratorFunction",kf(s,o,"GeneratorFunction"),kf(f),kf(f,o,"Generator"),kf(f,r,function(){return this}),kf(f,"toString",function(){return"[object Generator]"}),(Of=function(){return{w:i,m:d}})()}function kf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}kf=function(e,t,n,r){function i(t,n){kf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},kf(e,t,n,r)}function jf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function zf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){jf(i,r,o,a,u,"next",e)}function u(e){jf(i,r,o,a,u,"throw",e)}a(void 0)})}}function Pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,If(r.key),r)}}function If(e){var t=function(e){if("object"!=Sf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Sf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sf(t)?t:t+""}var Tf=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t},t=[{key:"calculatePeriod",value:(n=zf(Of().m(function e(){var t=this;return Of().w(function(e){for(;;)if(0===e.n)return e.a(2,ts(zf(Of().m(function e(){var n,r;return Of().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.tableReader.getSelected();case 1:return n=e.v,r=t.calculateSum(n),e.a(2,U.Ok(r.toFixed(2)))}},e)}))))},e)})),function(){return n.apply(this,arguments)})},{key:"calculateSum",value:function(e){var t=e.values,n=e.header;return t.reduce(function(e,t,r){if(!t)return Number(e);var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(String(n[r]).split("."),3),i=(o[0],o[1]),a=o[2],u=new Date(Number(a),Number(i),0).getDate(),c=1e3*Number(t)/u;return Number(e)+c},0)}}],t&&Pf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function xf(e){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(e)}function Ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Af(r.key),r)}}function Af(e){var t=function(e){if("object"!=xf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xf(t)?t:t+""}var Rf=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cellStyles=t,this.columnStyles=n},(t=[{key:"applyStyle",value:function(e,t){try{var n=this.cellStyles[t];if(!n)return;n.textColor&&(e.format.font.color=n.textColor),n.fillColor&&(e.format.fill.color=n.fillColor),n.fontSize&&(e.format.font.size=n.fontSize),n.textOrientation&&(e.format.textOrientation=n.textOrientation),n.bold&&(e.format.font.bold=n.bold),n.wrapText&&(e.format.wrapText=n.wrapText),n.horizontalAlignment&&(e.format.horizontalAlignment=n.horizontalAlignment),n.verticalAlignment&&(e.format.verticalAlignment=n.verticalAlignment)}catch(e){console.log("applyStyle",t,e)}}},{key:"applyColumnStyle",value:function(e,t){try{var n=this.columnStyles[t];if(!n)return;-1===n.width?e.format.autofitColumns():n.width&&(e.format.columnWidth=n.width)}catch(e){console.log("applyColumnStyle",t,e)}}}])&&Ef(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function $f(e){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(e)}function Nf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Df(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Df(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Cf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Cf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Cf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Cf(f,"constructor",s),Cf(s,"constructor",c),c.displayName="GeneratorFunction",Cf(s,o,"GeneratorFunction"),Cf(f),Cf(f,o,"Generator"),Cf(f,r,function(){return this}),Cf(f,"toString",function(){return"[object Generator]"}),(Zf=function(){return{w:i,m:d}})()}function Cf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Cf=function(e,t,n,r){function i(t,n){Cf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Cf(e,t,n,r)}function Ff(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Mf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ff(i,r,o,a,u,"next",e)}function u(e){Ff(i,r,o,a,u,"throw",e)}a(void 0)})}}function Uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gf(r.key),r)}}function Gf(e){var t=function(e){if("object"!=$f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$f(t)?t:t+""}var Jf=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t},t=[{key:"read",value:(o=Mf(Zf().m(function e(){var t,n=this;return Zf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Excel.run(function(){var e=Mf(Zf().m(function e(t){var r,o,i,a;return Zf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.getSheet(t);case 1:return r=e.v,(o=r.getUsedRange()).load(["values","rowIndex","columnIndex"]),e.n=2,t.sync();case 2:if(!(o.rowIndex+o.values.length<n.schema.startRow)){e.n=3;break}return e.a(2,[]);case 3:if(!((i=n.schema.startRow-1-o.rowIndex)<0||i>=o.values.length)){e.n=4;break}return e.a(2,[]);case 4:return a=o.values.slice(i),e.a(2,a.filter(function(e){return e.some(function(e){return null!==e&&""!==e})}).map(function(e){var t={};return n.schema.fields.forEach(function(r){var i,a=n.columnLetterToIndex(r.column)-o.columnIndex;a>=0&&a<e.length?t[r.name]=null!==(i=e[a])&&void 0!==i?i:null:t[r.name]=null}),t}))}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v);case 2:throw e.p=2,t=e.v,console.log(this.schema,t),t;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"getSelected",value:(r=Mf(Zf().m(function e(){return Zf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Excel.run(function(){var e=Mf(Zf().m(function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,m,y,h,v,b,g;return Zf().w(function(e){for(;;)switch(e.n){case 0:return n=t.workbook.worksheets.getActiveWorksheet(),(r=t.workbook.getSelectedRanges()).load(["areas"]),e.n=1,t.sync();case 1:return(o=r.areas).load("items"),e.n=2,t.sync();case 2:return o.items.forEach(function(e){e.load(["rowIndex","columnIndex","columnCount","rowCount","values"])}),e.n=3,t.sync();case 3:i=[],a=new Set,u=Nf(o.items);try{for(u.s();!(c=u.n()).done;){s=c.value,l=Nf(s.values);try{for(l.s();!(f=l.n()).done;){d=f.value,p=Nf(d);try{for(p.s();!(m=p.n()).done;)y=m.value,i.push(y)}catch(e){p.e(e)}finally{p.f()}}}catch(e){l.e(e)}finally{l.f()}for(h=s.columnIndex;h<s.columnIndex+s.columnCount;h++)a.add(h)}}catch(e){u.e(e)}finally{u.f()}return v=Array.from(a).sort(function(e,t){return e-t}),(b=v.map(function(e){return n.getRangeByIndexes(0,e,1,1)})).forEach(function(e){return e.load(["values"])}),e.n=4,t.sync();case 4:return g=b.map(function(e){return e.values[0][0]}),e.a(2,{values:i,header:g})}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v)}},e)})),function(){return r.apply(this,arguments)})},{key:"getSheet",value:(n=Mf(Zf().m(function e(t){var n;return Zf().w(function(e){for(;;)switch(e.n){case 0:if(this.schema.sheetName){e.n=1;break}return e.a(2,t.workbook.worksheets.getActiveWorksheet());case 1:return n=t.workbook.worksheets.getItemOrNullObject(this.schema.sheetName),e.n=2,t.sync();case 2:return e.a(2,n.isNullObject?t.workbook.worksheets.add(this.schema.sheetName):n)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"columnLetterToIndex",value:function(e){var t,n=0,r=Nf(e.toUpperCase());try{for(r.s();!(t=r.n()).done;)n=26*n+(t.value.charCodeAt(0)-64)}catch(e){r.e(e)}finally{r.f()}return n-1}}],t&&Uf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}();function Vf(e){return Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(e)}function Bf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Lf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Lf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Lf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Lf(f,"constructor",s),Lf(s,"constructor",c),c.displayName="GeneratorFunction",Lf(s,o,"GeneratorFunction"),Lf(f),Lf(f,o,"Generator"),Lf(f,r,function(){return this}),Lf(f,"toString",function(){return"[object Generator]"}),(Bf=function(){return{w:i,m:d}})()}function Lf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Lf=function(e,t,n,r){function i(t,n){Lf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Lf(e,t,n,r)}function Yf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Wf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Kf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){qf(i,r,o,a,u,"next",e)}function u(e){qf(i,r,o,a,u,"throw",e)}a(void 0)})}}function Xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hf(r.key),r)}}function Hf(e){var t=function(e){if("object"!=Vf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vf(t)?t:t+""}var Qf=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t,this.styleRenderer=n},t=[{key:"render",value:(r=Kf(Bf().m(function e(t,n){var r,o=this;return Bf().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t&&Array.isArray(t)&&0!==t.length){e.n=1;break}return e.a(2);case 1:return console.log(t,n),e.p=2,e.n=3,Excel.run(function(){var e=Kf(Bf().m(function e(r){var i,a,u,c,s,l,f,d,p,m,y,h,v,b,g,w,S,_,O,k,j,z,P,I;return Bf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o.getSheet(r,o.schema.sheetName);case 1:i=e.v,a=o.schema.startRow,u=o.schema.fields.reduce(function(e,t){var n,r;return Math.max(e,null!==(n=null===(r=t.merge)||void 0===r?void 0:r.rows)&&void 0!==n?n:1)},1),c=new Map,null==n||n.forEach(function(e){c.has(e.rowId)||c.set(e.rowId,new Map),c.get(e.rowId).set(String(e.field),e.styleId)}),console.log({overrideMap:c}),s=Yf(o.schema.fields);try{for(s.s();!(l=s.n()).done;){for(p=l.value,m=null!==(f=p.rowShift)&&void 0!==f?f:0,y=[],h=0;h<t.length;h++)for(v=t[h],b=v?v[p.name]:null,g=0;g<u;g++)g===m?y.push([null!=b?b:null]):y.push([null]);for(w=a+y.length-1,i.getRange("".concat(p.column).concat(a,":").concat(p.column).concat(w)).values=y,S=0;S<t.length;S++)O=t[S].id,k=a+S*u+m,(j=(null===(_=c.get(O))||void 0===_?void 0:_.get(String(p.name)))||p.styleId)&&(console.log("draw",j),o.styleRenderer.applyStyle(i.getRange("".concat(p.column).concat(k)),j));if(null!==(d=p.merge)&&void 0!==d&&d.rows&&p.merge.columns)for(z=0;z<t.length;z++)I=(P=a+z*u)+p.merge.rows-1,i.getRange("".concat(p.column).concat(P,":").concat(p.merge.columns).concat(I)).merge()}}catch(e){s.e(e)}finally{s.f()}return o.schema.predefined&&(o.schema.predefined.data.forEach(function(e){var t=i.getRange(e.cell);t.values=[[e.value]],e.styleId&&o.styleRenderer.applyStyle(t,e.styleId)}),o.schema.predefined.columnStyles.forEach(function(e){var t=i.getRange("".concat(e.column,":").concat(e.column));o.styleRenderer.applyColumnStyle(t,e.id)}),i.getUsedRange().format.autofitRows()),e.n=2,r.sync();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:e.n=5;break;case 4:e.p=4,r=e.v,console.log("render",r);case 5:return e.a(2)}},e,null,[[2,4]])})),function(e,t){return r.apply(this,arguments)})},{key:"renderPredefined",value:function(e){var t=this;try{if(!this.schema.predefined)return;this.schema.predefined.data.forEach(function(n){var r=e.getRange(n.cell);r.values=[[n.value]],n.styleId&&t.styleRenderer.applyStyle(r,n.styleId)}),this.schema.predefined.columnStyles.forEach(function(n){var r=e.getRange("".concat(n.column,":").concat(n.column));t.styleRenderer.applyColumnStyle(r,n.id)}),e.getUsedRange().format.autofitRows()}catch(e){console.log("renderPredefined",e)}}},{key:"getSheet",value:(n=Kf(Bf().m(function e(t,n){var r,o;return Bf().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!n){e.n=2;break}return r=t.workbook.worksheets.getItemOrNullObject(n),e.n=1,t.sync();case 1:r.isNullObject&&(r=t.workbook.worksheets.add(n)),e.n=3;break;case 2:r=t.workbook.worksheets.getActiveWorksheet();case 3:return e.a(2,r);case 4:throw e.p=4,o=e.v,console.log("getSheet",o),o;case 5:return e.a(2)}},e,null,[[0,4]])})),function(e,t){return n.apply(this,arguments)})},{key:"mergeCells",value:function(e,t,n){try{if(e.merge){console.log("merge");var r=t+(e.merge.rows-1);n.getRange("".concat(e.column).concat(t,":").concat(e.merge.columns).concat(r)).merge()}}catch(e){console.log("mergeCells",e)}}}],t&&Xf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function ed(e){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(e)}function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nd(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return rd(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(rd(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,rd(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,rd(f,"constructor",s),rd(s,"constructor",c),c.displayName="GeneratorFunction",rd(s,o,"GeneratorFunction"),rd(f),rd(f,o,"Generator"),rd(f,r,function(){return this}),rd(f,"toString",function(){return"[object Generator]"}),(nd=function(){return{w:i,m:d}})()}function rd(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}rd=function(e,t,n,r){function i(t,n){rd(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},rd(e,t,n,r)}function od(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function id(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ad(r.key),r)}}function ad(e){var t=function(e){if("object"!=ed(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ed(t)?t:t+""}var ud=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"verify",value:(n=nd().m(function e(t,n){var r,o,i;return nd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,console.log({data:t}),r=this.preparePayload(t,n),console.log({payload:r}),e.n=1,this.fetchVerificationData(r);case 1:return o=e.v,console.log({verificationResult:o}),e.a(2,this.verificationResultsToIssues(t,o));case 2:return e.p=2,i=e.v,console.log("RawPayrollDataVerifier.verify",i),e.a(2,new Map)}},e,this,[[0,2]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){od(i,r,o,a,u,"next",e)}function u(e){od(i,r,o,a,u,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)})},{key:"verificationResultsToIssues",value:function(e,t){var n=new Map;return t.filter(function(e){return e.errors.length>0}).forEach(function(t){var r=e.find(function(e){return e.taxPayerId===t.taxPayerId||e.fullName===t.fullName});if(r){var o=t.errors.map(function(e){return e.description}).join("; "),i=r.taxPayerId?String(r.taxPayerId):r.fullName;n.set(i,o)}}),n}},{key:"fetchVerificationData",value:function(e){return fetch("".concat("https://localhost:3000","/payroll-tables/verifyItems"),{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then(function(e){return e.json()})}},{key:"preparePayload",value:function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return td(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?td(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("."),2),r=n[0],o=n[1],i=this.toItems(e,t);return JSON.stringify({items:i,savePayments:!1,year:Number(o),month:Number(r)})}},{key:"toItems",value:function(e,t){return e.map(function(e){for(var n=[],r=[],o=[],i=[],a=1;a<31;a++){var u=e[a<10?"0".concat(a,".").concat(t):"".concat(a,".").concat(t)];30===u?n.push(a):50===u?r.push(a):70===u?o.push(a):100===u&&i.push(a)}return{fullName:e.fullName,taxPayerId:e.taxPayerId?String(e.taxPayerId):void 0,militaryRank:e.militaryRank,payments30Dates:n,payments50Dates:r,payments70Dates:o,payments100Dates:i}})}}],t&&id(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sd=function(e,t){return function(e){for(var t="";e>0;)e--,t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26);return t}(function(e){var t,n=0,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.toUpperCase());try{for(r.s();!(t=r.n()).done;)n=26*n+(t.value.charCodeAt(0)-64)}catch(e){r.e(e)}finally{r.f()}return n}(e)+t)},ld=function(e){return e<10?"0".concat(e):e};function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function dd(e){return dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(e)}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yd(e,t,n){return(t=function(e){var t=function(e){if("object"!=dd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hd=function(e){for(var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach(function(t){yd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:2,fields:[{name:"reason",column:"A"},{name:"unit",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"}]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{startRow:2}),n=(s=e.split("."),l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(s,l)||function(e,t){if(e){if("string"==typeof e)return pd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pd(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c})}var s,l;return t};function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bd={startRow:2,sheetName:"Задвоєні періоди",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"taxPayerId",column:"C",styleId:"default"},{name:"dates",column:"D",styleId:"dateRange"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"ІПН",styleId:"header"},{cell:"D1",value:"Задвоєні дати",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"autofit"},{column:"D",id:"wide"}]}},gd=function(e){return{startRow:2,sheetName:e,fields:[{name:"unit",column:"A",styleId:"default"},{name:"militaryRank",column:"B",styleId:"default"},{name:"fullName",column:"C",styleId:"default"},{name:"dateRange",column:"D",styleId:"dateRange"},{name:"days",column:"E",styleId:"default"},{name:"taxPayerId",column:"F",styleId:"default"},{name:"reason",column:"G",styleId:"default"}],predefined:{data:[{cell:"A1",value:"Підрозділ",styleId:"header"},{cell:"B1",value:"Звання",styleId:"header"},{cell:"C1",value:"ПІБ",styleId:"header"},{cell:"D1",value:"Період",styleId:"header"},{cell:"E1",value:"Днів",styleId:"header"},{cell:"F1",value:"ІПН",styleId:"header"},{cell:"G1",value:"Рапорт",styleId:"header"}],columnStyles:[{column:"C",id:"autofit"},{column:"D",id:"wide"},{column:"E",id:"autofit"},{column:"F",id:"autofit"},{column:"G",id:"wide"}]}}},wd={startRow:1,sheetName:"Довідка",fields:[{name:"id",column:"A"},{name:"description",column:"B"}]},Sd={startRow:2,sheetName:"70",fields:[{name:"unit",column:"A"},{name:"position",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"},{name:"remainingDaysFromPreviousYear",column:"F"},{name:"paymentsOrders",column:"G"}]},_d={startRow:2,sheetName:"70 в новий наказ",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"taxPayerId",column:"C",styleId:"default"},{name:"days",column:"D",styleId:"default"},{name:"reason",column:"E",styleId:"dateRange"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Військове звання",styleId:"header"},{cell:"C1",value:"ІПН",styleId:"header"},{cell:"D1",value:"Кількість виплат",styleId:"header"},{cell:"E1",value:"Підстава",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"autofit"},{column:"D",id:"autofit"},{column:"E",id:"wide"}]}},Od={startRow:2,sheetName:"70 з відомостей",fields:[{name:"unit",column:"A"},{name:"militaryRank",column:"B"},{name:"fullName",column:"C"},{name:"dates",column:"D"},{name:"taxPayerId",column:"F"},{name:"reason",column:"G"}]},kd={startRow:15,sheetName:"Відомість загальна",fields:[{name:"index",column:"A",styleId:"default",merge:{rows:2,columns:"A"}},{name:"unit",column:"B",styleId:"default",merge:{rows:2,columns:"B"}},{name:"position",column:"C",styleId:"default",merge:{rows:2,columns:"C"}},{name:"militaryRank",column:"D",styleId:"default",merge:{rows:2,columns:"D"}},{name:"fullName",column:"E",styleId:"default",merge:{rows:2,columns:"E"}},{name:"taxPayerId",column:"F",styleId:"default",merge:{rows:2,columns:"F"}},{name:"initialAmountOfDays",column:"H",styleId:"default"},{name:"januaryDays",column:"I",styleId:"default"},{name:"januaryReason",column:"I",styleId:"default",rowShift:1},{name:"februaryDays",column:"J",styleId:"default"},{name:"februaryReason",column:"J",styleId:"default",rowShift:1},{name:"marchDays",column:"K",styleId:"default"},{name:"marchReason",column:"K",styleId:"default",rowShift:1},{name:"aprilDays",column:"L",styleId:"default"},{name:"aprilReason",column:"L",styleId:"default",rowShift:1},{name:"mayDays",column:"M",styleId:"default"},{name:"mayReason",column:"M",styleId:"default",rowShift:1},{name:"juneDays",column:"N",styleId:"default"},{name:"juneReason",column:"N",styleId:"default",rowShift:1},{name:"julyDays",column:"O",styleId:"default"},{name:"julyReason",column:"O",styleId:"default",rowShift:1},{name:"augustDays",column:"P",styleId:"default"},{name:"augustReason",column:"P",styleId:"default",rowShift:1},{name:"septemberDays",column:"Q",styleId:"default"},{name:"septemberReason",column:"Q",styleId:"default",rowShift:1},{name:"octoberDays",column:"R",styleId:"default"},{name:"octoberReason",column:"R",styleId:"default",rowShift:1},{name:"novemberDays",column:"S",styleId:"default"},{name:"novemberReason",column:"S",styleId:"default",rowShift:1},{name:"decemberDays",column:"T",styleId:"default"},{name:"decemberReason",column:"T",styleId:"default",rowShift:1},{name:"totalEligibleDays",column:"U",styleId:"default"},{name:"numberOfPaymentOrdersInTheYear",column:"V",styleId:"default"},{name:"numberOfPaymentOrders",column:"W",styleId:"default"},{name:"paymentOrders",column:"W",styleId:"default",rowShift:1},{name:"remainingDays",column:"X",styleId:"default"}]};function jd(e){return jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(e)}function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pd(e,t,n){return(t=function(e){var t=function(e){if("object"!=jd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Id=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach(function(t){Pd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:2,sheetName:"70 нові",fields:[{name:"unit",column:"A"},{name:"position",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"},{name:"remainingDaysFromPreviousYear",column:"F"},{name:"paymentsOrders",column:"G"}],predefined:{data:[{cell:"A1",value:"Підрозділ",styleId:"header"},{cell:"B1",value:"Посада",styleId:"header"},{cell:"C1",value:"Звання",styleId:"header"},{cell:"D1",value:"ПІБ",styleId:"header"},{cell:"E1",value:"ІПН",styleId:"header"},{cell:"F1",value:"Кількість днів",styleId:"header"},{cell:"G1",value:"Накази",styleId:"header"}],columnStyles:[{column:"C",id:"autofit"},{column:"D",id:"wide"},{column:"E",id:"autofit"},{column:"F",id:"autofit"},{column:"G",id:"wide"}]}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})};function Td(e){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(e)}function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ed(e,t,n){return(t=function(e){var t=function(e){if("object"!=Td(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Td(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Td(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ad=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach(function(t){Ed(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:1,fields:[{name:"militaryRank",column:"A"},{name:"fullName",column:"B"},{name:"dates",column:"C"}]},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})};function Rd(e){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(e)}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dd(e,t,n){return(t=function(e){var t=function(e){if("object"!=Rd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zd=function(e){for(var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(t){Dd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:1,fields:[{name:"comment",column:"AL",styleId:"default"}]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=(s=e.split("."),l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(s,l)||function(e,t){if(e){if("string"==typeof e)return $d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$d(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c})}var s,l;return t};function Cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Fd={header:{horizontalAlignment:"Center",verticalAlignment:"Center",bold:!0},dateRange:{wrapText:!0},payrollDate:{textOrientation:90,bold:!0},default:{},visitors:{fillColor:"#f0b840"}},Md={autofit:{width:-1},wide:{width:250}};function Ud(e){return Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(e)}function Gd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jd(r.key),r)}}function Jd(e){var t=function(e){if("object"!=Ud(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ud(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ud(t)?t:t+""}var Vd=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"createMedicalPayrollUseCase",value:function(e){var t=new Rf(Fd,Md),n=new Jf(Ad()),r=function(e){for(var t={startRow:2,sheetName:"Медична відомість",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"dateRange",column:"C",styleId:"dateRange"},{name:"days",column:"D",styleId:"default"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"Період",styleId:"header"},{cell:"D1",value:"Днів",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"wide"},{column:"D",id:"autofit"}]}},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c,styleId:"default"}),t.predefined.data.push({value:u,cell:"".concat(c,"1"),styleId:"payrollDate"}),t.predefined.columnStyles.push({column:c,id:"autofit"})}return t}(e),o=new Qf(r,t);return new ds(n,o)}},{key:"createInstructorsPayrollUseCase",value:function(e){var t=new Rf(Fd,Md),n=new Jf(Ad()),r=function(e){for(var t={startRow:2,sheetName:"Відомість інструкторів",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"dateRange",column:"C",styleId:"dateRange"},{name:"days",column:"D",styleId:"default"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"Період",styleId:"header"},{cell:"D1",value:"Днів",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"wide"},{column:"D",id:"autofit"}]}},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("E",a);t.fields.push({name:u,column:c,styleId:"default"}),t.predefined.data.push({value:u,cell:"".concat(c,"1"),styleId:"payrollDate"}),t.predefined.columnStyles.push({column:c,id:"autofit"})}return t}(e),o=new Qf(r,t);return new _s(n,o)}},{key:"createCheckPayrollUseCase",value:function(e,t){var n=new Rf(Fd,Md),r=hd(e,{startRow:t}),o=new Jf(r),i=new Jf(Ad({sheetName:"30"})),a=new Jf(Ad({sheetName:"50"})),u=new Jf(Ad({sheetName:"70"})),c=new Jf(Ad({sheetName:"100"})),s=new Qf(Zd(e,{startRow:t}),n),l=new ud;return new wl(o,i,a,u,c,s,l)}},{key:"createVisitorsValidationUseCase",value:function(e,t){var n=new Rf(Fd,Md),r=hd(e,{startRow:t}),o=new Jf(r),i=new Jf(function(e){for(var t={startRow:arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,sheetName:"Відвідування",fields:[{name:"unit",column:"A"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"}]},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(ld(a),".").concat(e),c=sd("D",a);t.fields.push({name:u,column:c})}return t}(e)),a=new Qf(Zd(e,{startRow:t}),n);return new wf(o,i,a)}},{key:"create70PayrollUseCase",value:function(){var e=new Rf(Fd,Md),t=new Jf(Sd),n=new Jf(Od),r=new Jf(_d),o=new Qf(kd,e),i=new Qf(_d,e),a=new Qf(Id({sheetName:"70"}),e),u=new Qf(Id({sheetName:"70 нові"}),e);return new Vl(t,n,r,o,i,u,a)}},{key:"createSummaryPayrollUseCase",value:function(e){var t=new Rf(Fd,Md),n=hd(e),r=new Jf(n),o=new Jf(wd),i=new Qf(bd,t),a=new Qf(gd("30"),t),u=new Qf(gd("50"),t),c=new Qf(gd("70"),t),s=new Qf(gd("100"),t);return new rf(r,o,i,a,u,c,s)}},{key:"createAuditUseCase",value:function(){var e=new Jf(hd("01.2026"));return new Tf(e)}}],t&&Gd(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Bd(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Ld(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Ld(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ld(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Ld(f,"constructor",s),Ld(s,"constructor",c),c.displayName="GeneratorFunction",Ld(s,o,"GeneratorFunction"),Ld(f),Ld(f,o,"Generator"),Ld(f,r,function(){return this}),Ld(f,"toString",function(){return"[object Generator]"}),(Bd=function(){return{w:i,m:d}})()}function Ld(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ld=function(e,t,n,r){function i(t,n){Ld(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ld(e,t,n,r)}function Yd(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Wd=Li().regex(/^(0[1-9]|1[0-2])\.\d{4}$/,"Неправильний місяць (MM.YYYY)"),qd=function(e){var t=document.getElementById("status"),n="orange",r="Опрацьовується";e&&(n=e.isError()?"red":"green",r=e.message),t.textContent=r,t.style.display="block",t.style.color=n},Kd=function(){var e,t=(e=Bd().m(function e(t){var n,r,o,i;return Bd().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),qd(),n=document.getElementById("month").value,(r=Wd.safeParse(n)).success){e.n=1;break}return qd(U.ValidationError(r.error.message)),e.a(2);case 1:return o=(new Vd).createInstructorsPayrollUseCase(n),e.n=2,o.execute(n);case 2:i=e.v,qd(i);case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Yd(i,r,o,a,u,"next",e)}function u(e){Yd(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();Office.onReady(function(e){if(e.host===Office.HostType.Excel){var t=document.getElementById("instructorsForm");document.getElementById("app-body").style.display="block",t.addEventListener("submit",Kd)}})}(),new URL(n(55805),n.b)}();
//# sourceMappingURL=instructors.js.map