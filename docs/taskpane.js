/*! For license information please see taskpane.js.LICENSE.txt */
!function(){"use strict";var e={67817:function(e,t,n){e.exports=n.p+"1fda685b81e1123773f6.css"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,function(){var e={};n.r(e),n.d(e,{base64:function(){return pt},base64url:function(){return mt},bigint:function(){return kt},boolean:function(){return Pt},browserEmail:function(){return it},cidrv4:function(){return ft},cidrv6:function(){return dt},cuid:function(){return Ue},cuid2:function(){return Ge},date:function(){return gt},datetime:function(){return St},domain:function(){return ht},duration:function(){return Ye},e164:function(){return vt},email:function(){return et},emoji:function(){return ut},extendedDuration:function(){return We},guid:function(){return qe},hex:function(){return At},hostname:function(){return yt},html5Email:function(){return tt},idnEmail:function(){return ot},integer:function(){return zt},ipv4:function(){return ct},ipv6:function(){return st},ksuid:function(){return Be},lowercase:function(){return xt},mac:function(){return lt},md5_base64:function(){return Dt},md5_base64url:function(){return Zt},md5_hex:function(){return Nt},nanoid:function(){return Le},null:function(){return It},number:function(){return jt},rfc5322Email:function(){return nt},sha1_base64:function(){return Ft},sha1_base64url:function(){return Mt},sha1_hex:function(){return Ct},sha256_base64:function(){return Gt},sha256_base64url:function(){return Jt},sha256_hex:function(){return Ut},sha384_base64:function(){return Bt},sha384_base64url:function(){return Lt},sha384_hex:function(){return Vt},sha512_base64:function(){return Wt},sha512_base64url:function(){return qt},sha512_hex:function(){return Yt},string:function(){return Ot},time:function(){return _t},ulid:function(){return Je},undefined:function(){return Tt},unicodeEmail:function(){return rt},uppercase:function(){return Et},uuid:function(){return Ke},uuid4:function(){return Xe},uuid6:function(){return He},uuid7:function(){return Qe},xid:function(){return Ve}});var t={};n.r(t),n.d(t,{endsWith:function(){return Qo},gt:function(){return No},gte:function(){return Do},includes:function(){return Xo},length:function(){return Yo},lowercase:function(){return qo},lt:function(){return $o},lte:function(){return Ro},maxLength:function(){return Bo},maxSize:function(){return Go},mime:function(){return ti},minLength:function(){return Lo},minSize:function(){return Jo},multipleOf:function(){return Uo},negative:function(){return Co},nonnegative:function(){return Mo},nonpositive:function(){return Fo},normalize:function(){return ri},overwrite:function(){return ni},positive:function(){return Zo},property:function(){return ei},regex:function(){return Wo},size:function(){return Vo},slugify:function(){return ui},startsWith:function(){return Ho},toLowerCase:function(){return ii},toUpperCase:function(){return ai},trim:function(){return oi},uppercase:function(){return Ko}});var r={};n.r(r),n.d(r,{ZodISODate:function(){return wi},ZodISODateTime:function(){return bi},ZodISODuration:function(){return ki},ZodISOTime:function(){return Si},date:function(){return _i},datetime:function(){return gi},duration:function(){return zi},time:function(){return Oi}});var o={};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.r(o),n.d(o,{ZodAny:function(){return cu},ZodArray:function(){return bu},ZodBase64:function(){return Ia},ZodBase64URL:function(){return xa},ZodBigInt:function(){return Xa},ZodBigIntFormat:function(){return Qa},ZodBoolean:function(){return qa},ZodCIDRv4:function(){return ka},ZodCIDRv6:function(){return ja},ZodCUID:function(){return ca},ZodCUID2:function(){return la},ZodCatch:function(){return pc},ZodCodec:function(){return gc},ZodCustom:function(){return Ec},ZodCustomStringFormat:function(){return Da},ZodDate:function(){return hu},ZodDefault:function(){return ic},ZodDiscriminatedUnion:function(){return Tu},ZodE164:function(){return Aa},ZodEmail:function(){return Li},ZodEmoji:function(){return oa},ZodEnum:function(){return Ju},ZodExactOptional:function(){return ec},ZodFile:function(){return Wu},ZodFunction:function(){return Tc},ZodGUID:function(){return Wi},ZodIPv4:function(){return ba},ZodIPv6:function(){return Sa},ZodIntersection:function(){return Eu},ZodJWT:function(){return Ra},ZodKSUID:function(){return ha},ZodLazy:function(){return zc},ZodLiteral:function(){return Lu},ZodMAC:function(){return wa},ZodMap:function(){return Fu},ZodNaN:function(){return yc},ZodNanoID:function(){return aa},ZodNever:function(){return du},ZodNonOptional:function(){return sc},ZodNull:function(){return au},ZodNullable:function(){return nc},ZodNumber:function(){return Ua},ZodNumberFormat:function(){return Ja},ZodObject:function(){return _u},ZodOptional:function(){return Hu},ZodPipe:function(){return vc},ZodPrefault:function(){return uc},ZodPromise:function(){return Pc},ZodReadonly:function(){return _c},ZodRecord:function(){return Nu},ZodSet:function(){return Uu},ZodString:function(){return Ji},ZodStringFormat:function(){return Bi},ZodSuccess:function(){return fc},ZodSymbol:function(){return nu},ZodTemplateLiteral:function(){return Oc},ZodTransform:function(){return Ku},ZodTuple:function(){return $u},ZodType:function(){return Ui},ZodULID:function(){return da},ZodURL:function(){return ta},ZodUUID:function(){return Ki},ZodUndefined:function(){return ou},ZodUnion:function(){return zu},ZodUnknown:function(){return lu},ZodVoid:function(){return mu},ZodXID:function(){return ma},ZodXor:function(){return Pu},_ZodString:function(){return Gi},_default:function(){return ac},_function:function(){return xc},any:function(){return su},array:function(){return gu},base64:function(){return Ta},base64url:function(){return Ea},bigint:function(){return Ha},boolean:function(){return Ka},catch:function(){return mc},check:function(){return Ac},cidrv4:function(){return za},cidrv6:function(){return Pa},codec:function(){return wc},cuid:function(){return sa},cuid2:function(){return fa},custom:function(){return $c},date:function(){return vu},describe:function(){return Dc},discriminatedUnion:function(){return xu},e164:function(){return $a},email:function(){return Yi},emoji:function(){return ia},enum:function(){return Vu},exactOptional:function(){return tc},file:function(){return qu},float32:function(){return Ba},float64:function(){return La},function:function(){return xc},guid:function(){return qi},hash:function(){return Ma},hex:function(){return Fa},hostname:function(){return Ca},httpUrl:function(){return ra},instanceof:function(){return Cc},int:function(){return Va},int32:function(){return Ya},int64:function(){return eu},intersection:function(){return Au},ipv4:function(){return ga},ipv6:function(){return Oa},json:function(){return Mc},jwt:function(){return Na},keyof:function(){return wu},ksuid:function(){return va},lazy:function(){return jc},literal:function(){return Yu},looseObject:function(){return ku},looseRecord:function(){return Cu},mac:function(){return _a},map:function(){return Mu},meta:function(){return Zc},nan:function(){return hc},nanoid:function(){return ua},nativeEnum:function(){return Bu},never:function(){return pu},nonoptional:function(){return lc},null:function(){return uu},nullable:function(){return rc},nullish:function(){return oc},number:function(){return Ga},object:function(){return Su},optional:function(){return Qu},partialRecord:function(){return Zu},pipe:function(){return bc},prefault:function(){return cc},preprocess:function(){return Uc},promise:function(){return Ic},readonly:function(){return Sc},record:function(){return Du},refine:function(){return Rc},set:function(){return Gu},strictObject:function(){return Ou},string:function(){return Vi},stringFormat:function(){return Za},stringbool:function(){return Fc},success:function(){return dc},superRefine:function(){return Nc},symbol:function(){return ru},templateLiteral:function(){return kc},transform:function(){return Xu},tuple:function(){return Ru},uint32:function(){return Wa},uint64:function(){return tu},ulid:function(){return pa},undefined:function(){return iu},union:function(){return ju},unknown:function(){return fu},url:function(){return na},uuid:function(){return Xi},uuidv4:function(){return Hi},uuidv6:function(){return Qi},uuidv7:function(){return ea},void:function(){return yu},xid:function(){return ya},xor:function(){return Iu}});var f=function(e){var t=e.match(/(\d{2})\.(\d{2})\.(\d{4})/);if(!t)throw new Error("Invalid date format: ".concat(e));var n=c(t.map(Number),4),r=n[1],o=n[2],i=n[3],a=new Date(i,o-1,r);if(a.getFullYear()!==i||a.getMonth()!==o-1||a.getDate()!==r)throw new Error("Invalid calendar date: ".concat(e));return a},d=function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)},p=function(e,t){for(var n=[],r=new Date(e);r<=t;){var o=new Date(r.getFullYear(),r.getMonth()+1,0),i=o<t?o:t;n.push(new m(d(r),d(i))),r=new Date(r.getFullYear(),r.getMonth()+1,1)}return n},m=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startDate=t,this.endDate=n,this.startDate=t.trim(),this.endDate=n.trim(),!this.isValidDate(this.startDate)||!this.isValidDate(this.endDate))throw new Error("Invalid date format")}return t=e,n=[{key:"isValidDate",value:function(e){return/^\d{2}\.\d{2}\.\d{4}$/.test(e)}},{key:"getMonthAndYear",value:function(){return this.startDate.trim().substring(3)}},{key:"isSingleDay",value:function(){return this.startDate===this.endDate}},{key:"toString",value:function(){return this.isSingleDay()?"за ".concat(this.startDate):"з ".concat(this.startDate," по ").concat(this.endDate)}}],r=[{key:"CreateRange",value:function(t,n,r){return new e("".concat(String(t).padStart(2,"0"),".").concat(r),"".concat(String(n).padStart(2,"0"),".").concat(r))}},{key:"FromInstructorsString",value:function(e,t){if(!e||!t)return[];if(!/^\d{2}\.\d{4}$/.test(t))throw new Error("Invalid month format. Expected MM.YYYY");var n=e.split(",").map(function(e){return e.trim()}).map(function(e){return e.replace(/\s*\(\d+\)\s*/g,"")}).map(function(e){return e.trim()}).filter(function(e){return e.length>0}).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)&&e>=1&&e<=31});if(0===n.length)return[];for(var r=Array.from(new Set(n)).sort(function(e,t){return e-t}),o=[],i=r[0],a=r[0],u=1;u<r.length;u++)r[u]===a+1||(o.push(this.CreateRange(i,a,t)),i=r[u]),a=r[u];return o.push(this.CreateRange(i,a,t)),o}},{key:"FromString",value:function(e){var t=function(e){var t=e.match(/\d{2}\.\d{2}\.\d{4}/);if(!t)throw new Error("Invalid date: ".concat(e));return t[0]};return e.replace(/;/g,",").split(",").map(function(e){return e.trim()}).filter(Boolean).flatMap(function(e){var n,r;if(/з\s+\d{2}\.\d{2}\.\d{4}\s+по\s+\d{2}\.\d{2}\.\d{4}/i.test(e)){var o=c(e.match(/\d{2}\.\d{2}\.\d{4}/g),2);n=o[0],r=o[1]}else if(/\d{2}\.\d{2}\.\d{4}\s*-\s*\d{2}\.\d{2}\.\d{4}/.test(e)){var i=c(e.split("-").map(t),2);n=i[0],r=i[1]}else{var a=t(e);n=a,r=a}var u=f(n),s=f(r);return p(u,s)})}},{key:"Combine",value:function(t){if(0===t.length)return[];for(var n=function(e){var t=c(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];return new Date(o,r-1,n)},r=function(e){return"".concat(String(e.getDate()).padStart(2,"0"),".").concat(String(e.getMonth()+1).padStart(2,"0"),".").concat(e.getFullYear())},o=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},i=function(e,t){return e.getTime()+864e5===t.getTime()},a=function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t).sort(function(e,t){return n(e.startDate).getTime()-n(t.startDate).getTime()}),u=[],f=a[0],d=1;d<a.length;d++){var p=a[d],m=n(f.startDate),y=n(f.endDate),h=n(p.startDate),v=n(p.endDate);h>=m&&v<=y&&o(m,h)||(o(m,h)&&(i(y,h)||h<=y)?f=new e(f.startDate,r(new Date(Math.max(y.getTime(),v.getTime())))):(u.push(f),f=p))}return u.push(f),u}}],n&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var b=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=this.normalize(t)},(t=[{key:"normalize",value:function(e){return e?e.trim().split(/\s+/).map(function(e,t){return 0===t?e.trim().toUpperCase():e[0].trim().toUpperCase()+e.trim().toLowerCase().slice(1)}).join(" "):""}},{key:"toString",value:function(){return this.value}},{key:"equals",value:function(e){return this.value===e.value}}])&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),g={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let w;const _=new Uint8Array(16),S=[];for(let e=0;e<256;++e)S.push((e+256).toString(16).slice(1));function O(e,t,n){const r=(e=e||{}).random??e.rng?.()??function(){if(!w){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");w=crypto.getRandomValues.bind(crypto)}return w(_)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(S[e[t+0]]+S[e[t+1]]+S[e[t+2]]+S[e[t+3]]+"-"+S[e[t+4]]+S[e[t+5]]+"-"+S[e[t+6]]+S[e[t+7]]+"-"+S[e[t+8]]+S[e[t+9]]+"-"+S[e[t+10]]+S[e[t+11]]+S[e[t+12]]+S[e[t+13]]+S[e[t+14]]+S[e[t+15]]).toLowerCase()}(r)}var k=function(e,t,n){return!g.randomUUID||t||e?O(e,t,n):g.randomUUID()};function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function P(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}var I=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.fullName=n,this.militaryRank=r,this.taxPayerId=o,this.unit=i,this.position=a}return t=e,r=[{key:"fromRaw",value:function(t){return new e(k(),new b(t.fullName),t.militaryRank)}},{key:"FromRawExtended",value:function(t){var n=t.taxPayerId?String(t.taxPayerId):void 0;return new e(k(),new b(t.fullName),t.militaryRank,n,t.unit,t.position)}}],(n=[{key:"equals",value:function(e){return this.fullName.equals(e.fullName)}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function $(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}var N=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(this,"payrollDays",{}),this.id=t,this.serviceman=n,this.dateRanges=r,this.value=o,this.reason=i,this.calculatePayrollDays()}return t=e,n=[{key:"getTotalDays",value:function(){return this.getDates().length}},{key:"getMonthAndYear",value:function(){var e;return null===(e=this.dateRanges[0])||void 0===e?void 0:e.getMonthAndYear()}},{key:"getRenderItem",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({fullName:this.serviceman.fullName.toString(),militaryRank:this.serviceman.militaryRank,taxPayerId:this.serviceman.taxPayerId,unit:this.serviceman.unit,dateRange:this.dateRanges.map(function(e){return e.toString()}).join("; "),days:this.getTotalDays(),reason:this.reason},this.payrollDays)}},{key:"addDateRange",value:function(e){this.dateRanges.push(e),this.calculatePayrollDays()}},{key:"getDates",value:function(){return Object.keys(this.payrollDays)}},{key:"calculatePayrollDays",value:function(){var e=this;this.payrollDays={},this.dateRanges=m.Combine(this.dateRanges),this.dateRanges.forEach(function(t){for(var n=e.parseDate(t.startDate),r=e.parseDate(t.endDate),o=new Date(n);o<=r;){var i=e.formatDate(o);e.payrollDays[i]=e.value,o.setDate(o.getDate()+1)}})}},{key:"parseDate",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];return new Date(o,r-1,n)}},{key:"formatDate",value:function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(t,".").concat(n,".").concat(r)}}],r=[{key:"Create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3?arguments[3]:void 0;return new e(k(),t,n,r,o)}}],n&&A(t.prototype,n),r&&A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}var F=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.status=t,this.message=n}return t=e,r=[{key:"Ok",value:function(){return new e(200,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Слава Україні!")}},{key:"UnknownError",value:function(){return new e(500,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Невідома помилка")}},{key:"ValidationError",value:function(){return new e(400,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Вхідні дані мають помилку")}}],(n=[{key:"isError",value:function(){return 200!==this.status}}])&&Z(t.prototype,n),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function M(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:a,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);const o=a.prototype,i=Object.keys(o);for(let e=0;e<i.length;e++){const t=i[e];t in n||(n[t]=o[t].bind(n))}}const o=n?.Parent??Object;class i extends o{}function a(e){var t;const o=n?.Parent?new i:this;r(o,e),(t=o._zod).deferred??(t.deferred=[]);for(const e of o._zod.deferred)e();return o}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}Object.freeze({status:"aborted"}),Symbol("zod_brand");class U extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class G extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const J={};function V(e){return e&&Object.assign(J,e),J}function B(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function L(e,t="|"){return e.map(e=>de(e)).join(t)}function Y(e,t){return"bigint"==typeof t?t.toString():t}function W(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function q(e){return null==e}function K(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const X=Symbol("evaluating");function H(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==X)return void 0===r&&(r=X,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Q(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ee(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function te(e){return JSON.stringify(e)}const ne="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function re(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const oe=W(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function ie(e){if(!1===re(e))return!1;const t=e.constructor;if(void 0===t)return!0;if("function"!=typeof t)return!0;const n=t.prototype;return!1!==re(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function ae(e){return ie(e)?{...e}:Array.isArray(e)?[...e]:e}const ue=new Set(["string","number","symbol"]),ce=new Set(["string","number","bigint","boolean","symbol","undefined"]);function se(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function le(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function fe(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function de(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}const pe={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},me={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ye(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function he(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function ve(e){return"string"==typeof e?e:e?.message}function be(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=ve(e.inst?._zod.def?.error?.(e))??ve(t?.error?.(e))??ve(n.customError?.(e))??ve(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function ge(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function we(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function _e(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}const Se=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Y,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Oe=M("$ZodError",Se),ke=M("$ZodError",Se,{Parent:Error}),ze=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new U;if(a.issues.length){const t=new(o?.Err??e)(a.issues.map(e=>be(e,i,V())));throw ne(t,o?.callee),t}return a.value},je=ze(ke),Pe=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const t=new(o?.Err??e)(a.issues.map(e=>be(e,i,V())));throw ne(t,o?.callee),t}return a.value},Ie=Pe(ke),Te=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new U;return i.issues.length?{success:!1,error:new(e??Oe)(i.issues.map(e=>be(e,o,V())))}:{success:!0,data:i.value}},xe=Te(ke),Ee=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(e=>be(e,o,V())))}:{success:!0,data:i.value}},Ae=Ee(ke),$e=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ze(e)(t,n,o)},Re=e=>(t,n,r)=>ze(e)(t,n,r),Ne=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Pe(e)(t,n,o)},De=e=>async(t,n,r)=>Pe(e)(t,n,r),Ze=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Te(e)(t,n,o)},Ce=e=>(t,n,r)=>Te(e)(t,n,r),Fe=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ee(e)(t,n,o)},Me=e=>async(t,n,r)=>Ee(e)(t,n,r),Ue=/^[cC][^\s-]{8,}$/,Ge=/^[0-9a-z]+$/,Je=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Ve=/^[0-9a-vA-V]{20}$/,Be=/^[A-Za-z0-9]{27}$/,Le=/^[a-zA-Z0-9_-]{21}$/,Ye=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,We=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ke=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Xe=Ke(4),He=Ke(6),Qe=Ke(7),et=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,rt=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,ot=rt,it=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,at="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ut(){return new RegExp(at,"u")}const ct=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,st=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,lt=e=>{const t=se(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},ft=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,dt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pt=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,mt=/^[A-Za-z0-9_-]*$/,yt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,ht=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,vt=/^\+[1-9]\d{6,14}$/,bt="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gt=new RegExp(`^${bt}$`);function wt(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function _t(e){return new RegExp(`^${wt(e)}$`)}function St(e){const t=wt({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${bt}T(?:${r})$`)}const Ot=e=>new RegExp(`^${e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*"}$`),kt=/^-?\d+n?$/,zt=/^-?\d+$/,jt=/^-?\d+(?:\.\d+)?$/,Pt=/^(?:true|false)$/i,It=/^null$/i,Tt=/^undefined$/i,xt=/^[^A-Z]*$/,Et=/^[^a-z]*$/,At=/^[0-9a-fA-F]*$/;function $t(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function Rt(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const Nt=/^[0-9a-fA-F]{32}$/,Dt=$t(22,"=="),Zt=Rt(22),Ct=/^[0-9a-fA-F]{40}$/,Ft=$t(27,"="),Mt=Rt(27),Ut=/^[0-9a-fA-F]{64}$/,Gt=$t(43,"="),Jt=Rt(43),Vt=/^[0-9a-fA-F]{96}$/,Bt=$t(64,""),Lt=Rt(64),Yt=/^[0-9a-fA-F]{128}$/,Wt=$t(86,"=="),qt=Rt(86),Kt=M("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Xt={number:"number",bigint:"bigint",object:"date"},Ht=M("$ZodCheckLessThan",(e,t)=>{Kt.init(e,t);const n=Xt[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Qt=M("$ZodCheckGreaterThan",(e,t)=>{Kt.init(e,t);const n=Xt[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),en=M("$ZodCheckMultipleOf",(e,t)=>{Kt.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(0===o&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(o=Number.parseInt(e[1]))}const i=n>o?n:o;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),tn=M("$ZodCheckNumberFormat",(e,t)=>{Kt.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,i]=pe[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=o,r.maximum=i,n&&(r.pattern=zt)}),e._zod.check=a=>{const u=a.value;if(n){if(!Number.isInteger(u))return void a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});if(!Number.isSafeInteger(u))return void(u>0?a.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):a.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}))}u<o&&a.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&a.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),nn=M("$ZodCheckBigIntFormat",(e,t)=>{Kt.init(e,t);const[n,r]=me[t.format];e._zod.onattach.push(e=>{const o=e._zod.bag;o.format=t.format,o.minimum=n,o.maximum=r}),e._zod.check=o=>{const i=o.value;i<n&&o.issues.push({origin:"bigint",input:i,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),i>r&&o.issues.push({origin:"bigint",input:i,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),rn=M("$ZodCheckMaxSize",(e,t)=>{var n;Kt.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!q(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;r.size<=t.maximum||n.issues.push({origin:ge(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),on=M("$ZodCheckMinSize",(e,t)=>{var n;Kt.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!q(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;r.size>=t.minimum||n.issues.push({origin:ge(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),an=M("$ZodCheckSizeEquals",(e,t)=>{var n;Kt.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!q(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{const r=n.value,o=r.size;if(o===t.size)return;const i=o>t.size;n.issues.push({origin:ge(r),...i?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),un=M("$ZodCheckMaxLength",(e,t)=>{var n;Kt.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!q(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const o=we(r);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),cn=M("$ZodCheckMinLength",(e,t)=>{var n;Kt.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!q(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const o=we(r);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),sn=M("$ZodCheckLengthEquals",(e,t)=>{var n;Kt.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!q(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,o=r.length;if(o===t.length)return;const i=we(r),a=o>t.length;n.issues.push({origin:i,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),ln=M("$ZodCheckStringFormat",(e,t)=>{var n,r;Kt.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),fn=M("$ZodCheckRegex",(e,t)=>{ln.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),dn=M("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=xt),ln.init(e,t)}),pn=M("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Et),ln.init(e,t)}),mn=M("$ZodCheckIncludes",(e,t)=>{Kt.init(e,t);const n=se(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),yn=M("$ZodCheckStartsWith",(e,t)=>{Kt.init(e,t);const n=new RegExp(`^${se(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),hn=M("$ZodCheckEndsWith",(e,t)=>{Kt.init(e,t);const n=new RegExp(`.*${se(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function vn(e,t,n){e.issues.length&&t.issues.push(...he(n,e.issues))}const bn=M("$ZodCheckProperty",(e,t)=>{Kt.init(e,t),e._zod.check=e=>{const n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>vn(n,e,t.property));vn(n,e,t.property)}}),gn=M("$ZodCheckMimeType",(e,t)=>{Kt.init(e,t);const n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e,continue:!t.abort})}}),wn=M("$ZodCheckOverwrite",(e,t)=>{Kt.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class _n{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const Sn={major:4,minor:3,patch:5},On=M("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Sn;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const t of r)for(const n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,o=ye(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(o)continue;const t=e.issues.length,a=i._zod.check(e);if(a instanceof Promise&&!1===n?.async)throw new U;if(r||a instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(o||(o=ye(e,t)))});else{if(e.issues.length===t)continue;o||(o=ye(e,t))}}return r?r.then(()=>e):e},n=(n,o,i)=>{if(ye(n))return n.aborted=!0,n;const a=t(o,r,i);if(a instanceof Promise){if(!1===i.async)throw new U;return a.then(t=>e._zod.parse(t,i))}return e._zod.parse(a,i)};e._zod.run=(o,i)=>{if(i.skipChecks)return e._zod.parse(o,i);if("backward"===i.direction){const t=e._zod.parse({value:o.value,issues:[]},{...i,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,o,i)):n(t,o,i)}const a=e._zod.parse(o,i);if(a instanceof Promise){if(!1===i.async)throw new U;return a.then(e=>t(e,r,i))}return t(a,r,i)}}H(e,"~standard",()=>({validate:t=>{try{const n=xe(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return Ae(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}))}),kn=M("$ZodString",(e,t)=>{On.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ot(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),zn=M("$ZodStringFormat",(e,t)=>{ln.init(e,t),kn.init(e,t)}),jn=M("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=qe),zn.init(e,t)}),Pn=M("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ke(e))}else t.pattern??(t.pattern=Ke());zn.init(e,t)}),In=M("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=et),zn.init(e,t)}),Tn=M("$ZodURL",(e,t)=>{zn.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=o.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),xn=M("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ut()),zn.init(e,t)}),En=M("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Le),zn.init(e,t)}),An=M("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ue),zn.init(e,t)}),$n=M("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Ge),zn.init(e,t)}),Rn=M("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Je),zn.init(e,t)}),Nn=M("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Ve),zn.init(e,t)}),Dn=M("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Be),zn.init(e,t)}),Zn=M("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=St(t)),zn.init(e,t)}),Cn=M("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=gt),zn.init(e,t)}),Fn=M("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=_t(t)),zn.init(e,t)}),Mn=M("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Ye),zn.init(e,t)}),Un=M("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ct),zn.init(e,t),e._zod.bag.format="ipv4"}),Gn=M("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=st),zn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Jn=M("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=lt(t.delimiter)),zn.init(e,t),e._zod.bag.format="mac"}),Vn=M("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=ft),zn.init(e,t)}),Bn=M("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=dt),zn.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Ln(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const Yn=M("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=pt),zn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Ln(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}),Wn=M("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=mt),zn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{(function(e){if(!mt.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return Ln(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),qn=M("$ZodE164",(e,t)=>{t.pattern??(t.pattern=vt),zn.init(e,t)}),Kn=M("$ZodJWT",(e,t)=>{zn.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&"JWT"!==o?.typ||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Xn=M("$ZodCustomStringFormat",(e,t)=>{zn.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),Hn=M("$ZodNumber",(e,t)=>{On.init(e,t),e._zod.pattern=e._zod.bag.pattern??jt,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}const o=n.value;if("number"==typeof o&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i="number"==typeof o?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),Qn=M("$ZodNumberFormat",(e,t)=>{tn.init(e,t),Hn.init(e,t)}),er=M("$ZodBoolean",(e,t)=>{On.init(e,t),e._zod.pattern=Pt,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(e){}const o=n.value;return"boolean"==typeof o||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),tr=M("$ZodBigInt",(e,t)=>{On.init(e,t),e._zod.pattern=kt,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(e){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),nr=M("$ZodBigIntFormat",(e,t)=>{nn.init(e,t),tr.init(e,t)}),rr=M("$ZodSymbol",(e,t)=>{On.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),or=M("$ZodUndefined",(e,t)=>{On.init(e,t),e._zod.pattern=Tt,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),ir=M("$ZodNull",(e,t)=>{On.init(e,t),e._zod.pattern=It,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),ar=M("$ZodAny",(e,t)=>{On.init(e,t),e._zod.parse=e=>e}),ur=M("$ZodUnknown",(e,t)=>{On.init(e,t),e._zod.parse=e=>e}),cr=M("$ZodNever",(e,t)=>{On.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),sr=M("$ZodVoid",(e,t)=>{On.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),lr=M("$ZodDate",(e,t)=>{On.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(e){}const o=n.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:e}),n}});function fr(e,t,n){e.issues.length&&t.issues.push(...he(n,e.issues)),t.value[n]=e.value}const dr=M("$ZodArray",(e,t)=>{On.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let e=0;e<o.length;e++){const a=o[e],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?i.push(u.then(t=>fr(t,n,e))):fr(u,n,e)}return i.length?Promise.all(i).then(()=>n):n}});function pr(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...he(n,e.issues))}void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function mr(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=(r=e.shape,Object.keys(r).filter(e=>"optional"===r[e]._zod.optin&&"optional"===r[e]._zod.optout));var r;return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function yr(e,t,n,r,o,i){const a=[],u=o.keySet,c=o.catchall._zod,s=c.def.type,l="optional"===c.optout;for(const o in t){if(u.has(o))continue;if("never"===s){a.push(o);continue}const i=c.run({value:t[o],issues:[]},r);i instanceof Promise?e.push(i.then(e=>pr(e,n,o,t,l))):pr(i,n,o,t,l)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const hr=M("$ZodObject",(e,t)=>{On.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=W(()=>mr(t));H(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const o=re,i=t.catchall;let a;e._zod.parse=(t,n)=>{a??(a=r.value);const u=t.value;if(!o(u))return t.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),t;t.value={};const c=[],s=a.shape;for(const e of a.keys){const r=s[e],o="optional"===r._zod.optout,i=r._zod.run({value:u[e],issues:[]},n);i instanceof Promise?c.push(i.then(n=>pr(n,t,e,u,o))):pr(i,t,e,u,o)}return i?yr(c,u,t,n,r.value,e):c.length?Promise.all(c).then(()=>t):t}}),vr=M("$ZodObjectJIT",(e,t)=>{hr.init(e,t);const n=e._zod.parse,r=W(()=>mr(t));let o;const i=re,a=!J.jitless,u=a&&oe.value,c=t.catchall;let s;e._zod.parse=(l,f)=>{s??(s=r.value);const d=l.value;return i(d)?a&&u&&!1===f?.async&&!0!==f.jitless?(o||(o=(e=>{const t=new _n(["shape","payload","ctx"]),n=r.value,o=e=>{const t=te(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const i=Object.create(null);let a=0;for(const e of n.keys)i[e]="key_"+a++;t.write("const newResult = {};");for(const r of n.keys){const n=i[r],a=te(r),u=e[r],c="optional"===u?._zod?.optout;t.write(`const ${n} = ${o(r)};`),c?t.write(`\n        if (${n}.issues.length) {\n          if (${a} in input) {\n            payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${a}, ...iss.path] : [${a}]\n            })));\n          }\n        }\n        \n        if (${n}.value === undefined) {\n          if (${a} in input) {\n            newResult[${a}] = undefined;\n          }\n        } else {\n          newResult[${a}] = ${n}.value;\n        }\n        \n      `):t.write(`\n        if (${n}.issues.length) {\n          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${a}, ...iss.path] : [${a}]\n          })));\n        }\n        \n        if (${n}.value === undefined) {\n          if (${a} in input) {\n            newResult[${a}] = undefined;\n          }\n        } else {\n          newResult[${a}] = ${n}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const u=t.compile();return(t,n)=>u(e,t,n)})(t.shape)),l=o(l,f),c?yr([],d,l,f,s,e):l):n(l,f):(l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l)}});function br(e,t,n,r){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;const o=e.filter(e=>!ye(e));return 1===o.length?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>be(e,r,V())))}),t)}const gr=M("$ZodUnion",(e,t)=>{On.init(e,t),H(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),H(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),H(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),H(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>K(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const u=[];for(const e of t.options){const t=e._zod.run({value:o.value,issues:[]},i);if(t instanceof Promise)u.push(t),a=!0;else{if(0===t.issues.length)return t;u.push(t)}}return a?Promise.all(u).then(t=>br(t,o,e,i)):br(u,o,e,i)}});function wr(e,t,n,r){const o=e.filter(e=>0===e.issues.length);return 1===o.length?(t.value=o[0].value,t):(0===o.length?t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>be(e,r,V())))}):t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:[],inclusive:!1}),t)}const _r=M("$ZodXor",(e,t)=>{gr.init(e,t),t.inclusive=!1;const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const u=[];for(const e of t.options){const t=e._zod.run({value:o.value,issues:[]},i);t instanceof Promise?(u.push(t),a=!0):u.push(t)}return a?Promise.all(u).then(t=>wr(t,o,e,i)):wr(u,o,e,i)}}),Sr=M("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,gr.init(e,t);const n=e._zod.parse;H(e._zod,"propValues",()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const r=W(()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(o,i)=>{const a=o.value;if(!re(a))return o.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),o;const u=r.value.get(a?.[t.discriminator]);return u?u._zod.run(o,i):t.unionFallback?n(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),o)}}),Or=M("$ZodIntersection",(e,t)=>{On.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,o=t.left._zod.run({value:r,issues:[]},n),i=t.right._zod.run({value:r,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([t,n])=>zr(e,t,n)):zr(e,o,i)}});function kr(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(ie(e)&&ie(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),o={...e,...t};for(const n of r){const r=kr(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};o[n]=r.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=kr(e[r],t[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function zr(e,t,n){const r=new Map;let o;for(const n of t.issues)if("unrecognized_keys"===n.code){o??(o=n);for(const e of n.keys)r.has(e)||r.set(e,{}),r.get(e).l=!0}else e.issues.push(n);for(const t of n.issues)if("unrecognized_keys"===t.code)for(const e of t.keys)r.has(e)||r.set(e,{}),r.get(e).r=!0;else e.issues.push(t);const i=[...r].filter(([,e])=>e.l&&e.r).map(([e])=>e);if(i.length&&o&&e.issues.push({...o,keys:i}),ye(e))return e;const a=kr(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const jr=M("$ZodTuple",(e,t)=>{On.init(e,t);const n=t.items;e._zod.parse=(r,o)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const a=[],u=[...n].reverse().findIndex(e=>"optional"!==e._zod.optin),c=-1===u?0:n.length-u;if(!t.rest){const t=i.length>n.length,o=i.length<c-1;if(t||o)return r.issues.push({...t?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:i,inst:e,origin:"array"}),r}let s=-1;for(const e of n){if(s++,s>=i.length&&s>=c)continue;const t=e._zod.run({value:i[s],issues:[]},o);t instanceof Promise?a.push(t.then(e=>Pr(e,r,s))):Pr(t,r,s)}if(t.rest){const e=i.slice(n.length);for(const n of e){s++;const e=t.rest._zod.run({value:n,issues:[]},o);e instanceof Promise?a.push(e.then(e=>Pr(e,r,s))):Pr(e,r,s)}}return a.length?Promise.all(a).then(()=>r):r}});function Pr(e,t,n){e.issues.length&&t.issues.push(...he(n,e.issues)),t.value[n]=e.value}const Ir=M("$ZodRecord",(e,t)=>{On.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!ie(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[],a=t.keyType._zod.values;if(a){n.value={};const u=new Set;for(const e of a)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){u.add("number"==typeof e?e.toString():e);const a=t.valueType._zod.run({value:o[e],issues:[]},r);a instanceof Promise?i.push(a.then(t=>{t.issues.length&&n.issues.push(...he(e,t.issues)),n.value[e]=t.value})):(a.issues.length&&n.issues.push(...he(e,a.issues)),n.value[e]=a.value)}let c;for(const e in o)u.has(e)||(c=c??[],c.push(e));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:c})}else{n.value={};for(const a of Reflect.ownKeys(o)){if("__proto__"===a)continue;let u=t.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if("string"==typeof a&&jt.test(a)&&u.issues.length&&u.issues.some(e=>"invalid_type"===e.code&&"number"===e.expected)){const e=t.keyType._zod.run({value:Number(a),issues:[]},r);if(e instanceof Promise)throw new Error("Async schemas not supported in object keys currently");0===e.issues.length&&(u=e)}if(u.issues.length){"loose"===t.mode?n.value[a]=o[a]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(e=>be(e,r,V())),input:a,path:[a],inst:e});continue}const c=t.valueType._zod.run({value:o[a],issues:[]},r);c instanceof Promise?i.push(c.then(e=>{e.issues.length&&n.issues.push(...he(a,e.issues)),n.value[u.value]=e.value})):(c.issues.length&&n.issues.push(...he(a,c.issues)),n.value[u.value]=c.value)}}return i.length?Promise.all(i).then(()=>n):n}}),Tr=M("$ZodMap",(e,t)=>{On.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!(o instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:o,inst:e}),n;const i=[];n.value=new Map;for(const[a,u]of o){const c=t.keyType._zod.run({value:a,issues:[]},r),s=t.valueType._zod.run({value:u,issues:[]},r);c instanceof Promise||s instanceof Promise?i.push(Promise.all([c,s]).then(([t,i])=>{xr(t,i,n,a,o,e,r)})):xr(c,s,n,a,o,e,r)}return i.length?Promise.all(i).then(()=>n):n}});function xr(e,t,n,r,o,i,a){e.issues.length&&(ue.has(typeof r)?n.issues.push(...he(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:o,inst:i,issues:e.issues.map(e=>be(e,a,V()))})),t.issues.length&&(ue.has(typeof r)?n.issues.push(...he(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:o,inst:i,key:r,issues:t.issues.map(e=>be(e,a,V()))})),n.value.set(e.value,t.value)}const Er=M("$ZodSet",(e,t)=>{On.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!(o instanceof Set))return n.issues.push({input:o,inst:e,expected:"set",code:"invalid_type"}),n;const i=[];n.value=new Set;for(const e of o){const o=t.valueType._zod.run({value:e,issues:[]},r);o instanceof Promise?i.push(o.then(e=>Ar(e,n))):Ar(o,n)}return i.length?Promise.all(i).then(()=>n):n}});function Ar(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const $r=M("$ZodEnum",(e,t)=>{On.init(e,t);const n=B(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>ue.has(typeof e)).map(e=>"string"==typeof e?se(e):e.toString()).join("|")})$`),e._zod.parse=(t,o)=>{const i=t.value;return r.has(i)||t.issues.push({code:"invalid_value",values:n,input:i,inst:e}),t}}),Rr=M("$ZodLiteral",(e,t)=>{if(On.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?se(e):e?se(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),Nr=M("$ZodFile",(e,t)=>{On.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),Dr=M("$ZodTransform",(e,t)=>{On.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new G(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(e=>(n.value=e,n));if(o instanceof Promise)throw new U;return n.value=o,n}});function Zr(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Cr=M("$ZodOptional",(e,t)=>{On.init(e,t),e._zod.optin="optional",e._zod.optout="optional",H(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),H(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${K(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Zr(t,e.value)):Zr(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),Fr=M("$ZodExactOptional",(e,t)=>{Cr.init(e,t),H(e._zod,"values",()=>t.innerType._zod.values),H(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(e,n)=>t.innerType._zod.run(e,n)}),Mr=M("$ZodNullable",(e,t)=>{On.init(e,t),H(e._zod,"optin",()=>t.innerType._zod.optin),H(e._zod,"optout",()=>t.innerType._zod.optout),H(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${K(e.source)}|null)$`):void 0}),H(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),Ur=M("$ZodDefault",(e,t)=>{On.init(e,t),e._zod.optin="optional",H(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Gr(e,t)):Gr(r,t)}});function Gr(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Jr=M("$ZodPrefault",(e,t)=>{On.init(e,t),e._zod.optin="optional",H(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Vr=M("$ZodNonOptional",(e,t)=>{On.init(e,t),H(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(t=>Br(t,e)):Br(o,e)}});function Br(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Lr=M("$ZodSuccess",(e,t)=>{On.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new G("ZodSuccess");const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),Yr=M("$ZodCatch",(e,t)=>{On.init(e,t),H(e._zod,"optin",()=>t.innerType._zod.optin),H(e._zod,"optout",()=>t.innerType._zod.optout),H(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>be(e,n,V()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>be(e,n,V()))},input:e.value}),e.issues=[]),e)}}),Wr=M("$ZodNaN",(e,t)=>{On.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),qr=M("$ZodPipe",(e,t)=>{On.init(e,t),H(e._zod,"values",()=>t.in._zod.values),H(e._zod,"optin",()=>t.in._zod.optin),H(e._zod,"optout",()=>t.out._zod.optout),H(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Kr(e,t.in,n)):Kr(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Kr(e,t.out,n)):Kr(r,t.out,n)}});function Kr(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Xr=M("$ZodCodec",(e,t)=>{On.init(e,t),H(e._zod,"values",()=>t.in._zod.values),H(e._zod,"optin",()=>t.in._zod.optin),H(e._zod,"optout",()=>t.out._zod.optout),H(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Hr(e,t,n)):Hr(r,t,n)}{const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Hr(e,t,n)):Hr(r,t,n)}}});function Hr(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){const r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>Qr(e,r,t.out,n)):Qr(e,r,t.out,n)}{const r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>Qr(e,r,t.in,n)):Qr(e,r,t.in,n)}}function Qr(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}const eo=M("$ZodReadonly",(e,t)=>{On.init(e,t),H(e._zod,"propValues",()=>t.innerType._zod.propValues),H(e._zod,"values",()=>t.innerType._zod.values),H(e._zod,"optin",()=>t.innerType?._zod?.optin),H(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(to):to(r)}});function to(e){return e.value=Object.freeze(e.value),e}const no=M("$ZodTemplateLiteral",(e,t)=>{On.init(e,t);const n=[];for(const e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);const t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw new Error(`Invalid template literal part: ${e._zod.traits}`);const r=t.startsWith("^")?1:0,o=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,o))}else{if(null!==e&&!ce.has(typeof e))throw new Error(`Invalid template literal part: ${e}`);n.push(se(`${e}`))}e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(n,r)=>"string"!=typeof n.value?(n.issues.push({input:n.value,inst:e,expected:"string",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),ro=M("$ZodFunction",(e,t)=>(On.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw new Error("implement() must be called with a function");return function(...n){const r=e._def.input?je(e._def.input,n):n,o=Reflect.apply(t,this,r);return e._def.output?je(e._def.output,o):o}},e.implementAsync=t=>{if("function"!=typeof t)throw new Error("implementAsync() must be called with a function");return async function(...n){const r=e._def.input?await Ie(e._def.input,n):n,o=await Reflect.apply(t,this,r);return e._def.output?await Ie(e._def.output,o):o}},e._zod.parse=(t,n)=>{if("function"!=typeof t.value)return t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t;const r=e._def.output&&"promise"===e._def.output._zod.def.type;return t.value=r?e.implementAsync(t.value):e.implement(t.value),t},e.input=(...t)=>{const n=e.constructor;return Array.isArray(t[0])?new n({type:"function",input:new jr({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}):new n({type:"function",input:t[0],output:e._def.output})},e.output=t=>new(0,e.constructor)({type:"function",input:e._def.input,output:t}),e)),oo=M("$ZodPromise",(e,t)=>{On.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),io=M("$ZodLazy",(e,t)=>{On.init(e,t),H(e._zod,"innerType",()=>t.getter()),H(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),H(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),H(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),H(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),ao=M("$ZodCustom",(e,t)=>{Kt.init(e,t),On.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(t=>uo(t,n,r,e));uo(o,n,r,e)}});function uo(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(_e(e))}}var co;Symbol("ZodOutput"),Symbol("ZodInput");(co=globalThis).__zod_globalRegistry??(co.__zod_globalRegistry=new class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];return this._map.set(e,n),n&&"object"==typeof n&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}});const so=globalThis.__zod_globalRegistry;function lo(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...fe(t)})}function fo(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...fe(t)})}function po(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...fe(t)})}function mo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...fe(t)})}function yo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...fe(t)})}function ho(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...fe(t)})}function vo(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...fe(t)})}function bo(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...fe(t)})}function go(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...fe(t)})}function wo(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...fe(t)})}function _o(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...fe(t)})}function So(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...fe(t)})}function Oo(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...fe(t)})}function ko(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...fe(t)})}function zo(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...fe(t)})}function jo(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...fe(t)})}function Po(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...fe(t)})}function Io(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...fe(t)})}function To(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...fe(t)})}function xo(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...fe(t)})}function Eo(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...fe(t)})}function Ao(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...fe(t)})}function $o(e,t){return new Ht({check:"less_than",...fe(t),value:e,inclusive:!1})}function Ro(e,t){return new Ht({check:"less_than",...fe(t),value:e,inclusive:!0})}function No(e,t){return new Qt({check:"greater_than",...fe(t),value:e,inclusive:!1})}function Do(e,t){return new Qt({check:"greater_than",...fe(t),value:e,inclusive:!0})}function Zo(e){return No(0,e)}function Co(e){return $o(0,e)}function Fo(e){return Ro(0,e)}function Mo(e){return Do(0,e)}function Uo(e,t){return new en({check:"multiple_of",...fe(t),value:e})}function Go(e,t){return new rn({check:"max_size",...fe(t),maximum:e})}function Jo(e,t){return new on({check:"min_size",...fe(t),minimum:e})}function Vo(e,t){return new an({check:"size_equals",...fe(t),size:e})}function Bo(e,t){return new un({check:"max_length",...fe(t),maximum:e})}function Lo(e,t){return new cn({check:"min_length",...fe(t),minimum:e})}function Yo(e,t){return new sn({check:"length_equals",...fe(t),length:e})}function Wo(e,t){return new fn({check:"string_format",format:"regex",...fe(t),pattern:e})}function qo(e){return new dn({check:"string_format",format:"lowercase",...fe(e)})}function Ko(e){return new pn({check:"string_format",format:"uppercase",...fe(e)})}function Xo(e,t){return new mn({check:"string_format",format:"includes",...fe(t),includes:e})}function Ho(e,t){return new yn({check:"string_format",format:"starts_with",...fe(t),prefix:e})}function Qo(e,t){return new hn({check:"string_format",format:"ends_with",...fe(t),suffix:e})}function ei(e,t,n){return new bn({check:"property",property:e,schema:t,...fe(n)})}function ti(e,t){return new gn({check:"mime_type",mime:e,...fe(t)})}function ni(e){return new wn({check:"overwrite",tx:e})}function ri(e){return ni(t=>t.normalize(e))}function oi(){return ni(e=>e.trim())}function ii(){return ni(e=>e.toLowerCase())}function ai(){return ni(e=>e.toUpperCase())}function ui(){return ni(e=>function(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}(e))}function ci(e,t,n,r={}){const o=fe(r),i={...fe(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...o};return n instanceof RegExp&&(i.pattern=n),new e(i)}function si(e){let t=e?.target??"draft-2020-12";return"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??so,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function li(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const u=e._zod.toJSONSchema?.();if(u)a.schema=u;else{const r={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,r);else{const n=a.schema,i=t.processors[o.type];if(!i)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);i(e,t,n,r)}const i=e._zod.parent;i&&(a.ref||(a.ref=i),li(i,t,r),t.seen.get(i).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),"input"===t.io&&pi(e)&&(delete a.schema.examples,delete a.schema.default),"input"===t.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function fi(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const t of e.seen.entries()){const n=e.metadataRegistry.get(t[0])?.id;if(n){const e=r.get(n);if(e&&e!==t[0])throw new Error(`Duplicate schema id "${n}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(n,t[0])}}const o=t=>{if(t[1].schema.$ref)return;const r=t[1],{ref:o,defId:i}=(t=>{const r="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){const n=e.external.registry.get(t[0])?.id,o=e.external.uri??(e=>e);if(n)return{ref:o(n)};const i=t[1].defId??t[1].schema.id??"schema"+e.counter++;return t[1].defId=i,{defId:i,ref:`${o("__shared")}#/${r}/${i}`}}if(t[1]===n)return{ref:"#"};const o=`#/${r}/`,i=t[1].schema.id??"__schema"+e.counter++;return{defId:i,ref:o+i}})(t);r.def={...r.schema},i&&(r.defId=i);const a=r.schema;for(const e in a)delete a[e];a.$ref=o};if("throw"===e.cycles)for(const t of e.seen.entries()){const e=t[1];if(e.cycle)throw new Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const n of e.seen.entries()){const r=n[1];if(t===n[0]){o(n);continue}if(e.external){const r=e.external.registry.get(n[0])?.id;if(t!==n[0]&&r){o(n);continue}}const i=e.metadataRegistry.get(n[0])?.id;(i||r.cycle||r.count>1&&"ref"===e.reused)&&o(n)}}function di(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=t=>{const n=e.seen.get(t);if(null===n.ref)return;const o=n.def??n.schema,i={...o},a=n.ref;if(n.ref=null,a){r(a);const n=e.seen.get(a),u=n.schema;if(!u.$ref||"draft-07"!==e.target&&"draft-04"!==e.target&&"openapi-3.0"!==e.target?Object.assign(o,u):(o.allOf=o.allOf??[],o.allOf.push(u)),Object.assign(o,i),t._zod.parent===a)for(const e in o)"$ref"!==e&&"allOf"!==e&&(e in i||delete o[e]);if(u.$ref)for(const e in o)"$ref"!==e&&"allOf"!==e&&e in n.def&&JSON.stringify(o[e])===JSON.stringify(n.def[e])&&delete o[e]}const u=t._zod.parent;if(u&&u!==a){r(u);const t=e.seen.get(u);if(t?.schema.$ref&&(o.$ref=t.schema.$ref,t.def))for(const e in o)"$ref"!==e&&"allOf"!==e&&e in t.def&&JSON.stringify(o[e])===JSON.stringify(t.def[e])&&delete o[e]}e.override({zodSchema:t,jsonSchema:o,path:n.path??[]})};for(const t of[...e.seen.entries()].reverse())r(t[0]);const o={};if("draft-2020-12"===e.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const n=e.external.registry.get(t)?.id;if(!n)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(n)}Object.assign(o,n.def??n.schema);const i=e.external?.defs??{};for(const t of e.seen.entries()){const e=t[1];e.def&&e.defId&&(i[e.defId]=e.def)}e.external||Object.keys(i).length>0&&("draft-2020-12"===e.target?o.$defs=i:o.definitions=i);try{const n=JSON.parse(JSON.stringify(o));return Object.defineProperty(n,"~standard",{value:{...t["~standard"],jsonSchema:{input:mi(t,"input",e.processors),output:mi(t,"output",e.processors)}},enumerable:!1,writable:!1}),n}catch(e){throw new Error("Error converting schema to JSON.")}}function pi(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if("transform"===r.type)return!0;if("array"===r.type)return pi(r.element,n);if("set"===r.type)return pi(r.valueType,n);if("lazy"===r.type)return pi(r.getter(),n);if("promise"===r.type||"optional"===r.type||"nonoptional"===r.type||"nullable"===r.type||"readonly"===r.type||"default"===r.type||"prefault"===r.type)return pi(r.innerType,n);if("intersection"===r.type)return pi(r.left,n)||pi(r.right,n);if("record"===r.type||"map"===r.type)return pi(r.keyType,n)||pi(r.valueType,n);if("pipe"===r.type)return pi(r.in,n)||pi(r.out,n);if("object"===r.type){for(const e in r.shape)if(pi(r.shape[e],n))return!0;return!1}if("union"===r.type){for(const e of r.options)if(pi(e,n))return!0;return!1}if("tuple"===r.type){for(const e of r.items)if(pi(e,n))return!0;return!(!r.rest||!pi(r.rest,n))}return!1}const mi=(e,t,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},a=si({...o??{},target:i,io:t,processors:n});return li(e,a),fi(a,e),di(a,e)},yi={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},hi=(e,t,n,r)=>{const o=e._zod.def,i=!1===o.inclusive,a=o.options.map((e,n)=>li(e,t,{...r,path:[...r.path,i?"oneOf":"anyOf",n]}));i?n.oneOf=a:n.anyOf=a},vi=(e,t,n,r)=>{const o=e._zod.def;li(o.innerType,t,r),t.seen.get(e).ref=o.innerType},bi=M("ZodISODateTime",(e,t)=>{Zn.init(e,t),Bi.init(e,t)});function gi(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...fe(t)})}(bi,e)}const wi=M("ZodISODate",(e,t)=>{Cn.init(e,t),Bi.init(e,t)});function _i(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...fe(t)})}(wi,e)}const Si=M("ZodISOTime",(e,t)=>{Fn.init(e,t),Bi.init(e,t)});function Oi(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...fe(t)})}(Si,e)}const ki=M("ZodISODuration",(e,t)=>{Mn.init(e,t),Bi.init(e,t)});function zi(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...fe(t)})}(ki,e)}const ji=(e,t)=>{Oe.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t=e=>e.message){const n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>r({issues:e}));else if("invalid_key"===o.code)r({issues:o.issues});else if("invalid_element"===o.code)r({issues:o.issues});else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Y,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Y,2)}},isEmpty:{get(){return 0===e.issues.length}}})},Pi=M("ZodError",ji),Ii=M("ZodError",ji,{Parent:Error}),Ti=ze(Ii),xi=Pe(Ii),Ei=Te(Ii),Ai=Ee(Ii),$i=$e(Ii),Ri=Re(Ii),Ni=Ne(Ii),Di=De(Ii),Zi=Ze(Ii),Ci=Ce(Ii),Fi=Fe(Ii),Mi=Me(Ii),Ui=M("ZodType",(e,t)=>(On.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:mi(e,"input"),output:mi(e,"output")}}),e.toJSONSchema=((e,t={})=>n=>{const r=si({...n,processors:t});return li(e,r),fi(r,e),di(r,e)})(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ee(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),{parent:!0}),e.with=e.check,e.clone=(t,n)=>le(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>Ti(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Ei(e,t,n),e.parseAsync=async(t,n)=>xi(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Ai(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>$i(e,t,n),e.decode=(t,n)=>Ri(e,t,n),e.encodeAsync=async(t,n)=>Ni(e,t,n),e.decodeAsync=async(t,n)=>Di(e,t,n),e.safeEncode=(t,n)=>Zi(e,t,n),e.safeDecode=(t,n)=>Ci(e,t,n),e.safeEncodeAsync=async(t,n)=>Fi(e,t,n),e.safeDecodeAsync=async(t,n)=>Mi(e,t,n),e.refine=(t,n)=>e.check(Rc(t,n)),e.superRefine=t=>e.check(Nc(t)),e.overwrite=t=>e.check(ni(t)),e.optional=()=>Qu(e),e.exactOptional=()=>tc(e),e.nullable=()=>rc(e),e.nullish=()=>Qu(rc(e)),e.nonoptional=t=>lc(e,t),e.array=()=>gu(e),e.or=t=>ju([e,t]),e.and=t=>Au(e,t),e.transform=t=>bc(e,Xu(t)),e.default=t=>ac(e,t),e.prefault=t=>cc(e,t),e.catch=t=>mc(e,t),e.pipe=t=>bc(e,t),e.readonly=()=>Sc(e),e.describe=t=>{const n=e.clone();return so.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){return so.get(e)?.description},configurable:!0}),e.meta=(...t)=>{if(0===t.length)return so.get(e);const n=e.clone();return so.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=t=>t(e),e)),Gi=M("_ZodString",(e,t)=>{kn.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n;r.type="string";const{minimum:o,maximum:i,format:a,patterns:u,contentEncoding:c}=e._zod.bag;if("number"==typeof o&&(r.minLength=o),"number"==typeof i&&(r.maxLength=i),a&&(r.format=yi[a]??a,""===r.format&&delete r.format,"time"===a&&delete r.format),c&&(r.contentEncoding=c),u&&u.size>0){const e=[...u];1===e.length?r.pattern=e[0].source:e.length>1&&(r.allOf=[...e.map(e=>({..."draft-07"===t.target||"draft-04"===t.target||"openapi-3.0"===t.target?{type:"string"}:{},pattern:e.source}))])}})(e,t,n);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(Wo(...t)),e.includes=(...t)=>e.check(Xo(...t)),e.startsWith=(...t)=>e.check(Ho(...t)),e.endsWith=(...t)=>e.check(Qo(...t)),e.min=(...t)=>e.check(Lo(...t)),e.max=(...t)=>e.check(Bo(...t)),e.length=(...t)=>e.check(Yo(...t)),e.nonempty=(...t)=>e.check(Lo(1,...t)),e.lowercase=t=>e.check(qo(t)),e.uppercase=t=>e.check(Ko(t)),e.trim=()=>e.check(oi()),e.normalize=(...t)=>e.check(ri(...t)),e.toLowerCase=()=>e.check(ii()),e.toUpperCase=()=>e.check(ai()),e.slugify=()=>e.check(ui())}),Ji=M("ZodString",(e,t)=>{kn.init(e,t),Gi.init(e,t),e.email=t=>e.check(lo(Li,t)),e.url=t=>e.check(vo(ta,t)),e.jwt=t=>e.check(Ao(Ra,t)),e.emoji=t=>e.check(bo(oa,t)),e.guid=t=>e.check(fo(Wi,t)),e.uuid=t=>e.check(po(Ki,t)),e.uuidv4=t=>e.check(mo(Ki,t)),e.uuidv6=t=>e.check(yo(Ki,t)),e.uuidv7=t=>e.check(ho(Ki,t)),e.nanoid=t=>e.check(go(aa,t)),e.guid=t=>e.check(fo(Wi,t)),e.cuid=t=>e.check(wo(ca,t)),e.cuid2=t=>e.check(_o(la,t)),e.ulid=t=>e.check(So(da,t)),e.base64=t=>e.check(To(Ia,t)),e.base64url=t=>e.check(xo(xa,t)),e.xid=t=>e.check(Oo(ma,t)),e.ksuid=t=>e.check(ko(ha,t)),e.ipv4=t=>e.check(zo(ba,t)),e.ipv6=t=>e.check(jo(Sa,t)),e.cidrv4=t=>e.check(Po(ka,t)),e.cidrv6=t=>e.check(Io(ja,t)),e.e164=t=>e.check(Eo(Aa,t)),e.datetime=t=>e.check(gi(t)),e.date=t=>e.check(_i(t)),e.time=t=>e.check(Oi(t)),e.duration=t=>e.check(zi(t))});function Vi(e){return function(e,t){return new e({type:"string",...fe(t)})}(Ji,e)}const Bi=M("ZodStringFormat",(e,t)=>{zn.init(e,t),Gi.init(e,t)}),Li=M("ZodEmail",(e,t)=>{In.init(e,t),Bi.init(e,t)});function Yi(e){return lo(Li,e)}const Wi=M("ZodGUID",(e,t)=>{jn.init(e,t),Bi.init(e,t)});function qi(e){return fo(Wi,e)}const Ki=M("ZodUUID",(e,t)=>{Pn.init(e,t),Bi.init(e,t)});function Xi(e){return po(Ki,e)}function Hi(e){return mo(Ki,e)}function Qi(e){return yo(Ki,e)}function ea(e){return ho(Ki,e)}const ta=M("ZodURL",(e,t)=>{Tn.init(e,t),Bi.init(e,t)});function na(e){return vo(ta,e)}function ra(e){return vo(ta,{protocol:/^https?$/,hostname:ht,...fe(e)})}const oa=M("ZodEmoji",(e,t)=>{xn.init(e,t),Bi.init(e,t)});function ia(e){return bo(oa,e)}const aa=M("ZodNanoID",(e,t)=>{En.init(e,t),Bi.init(e,t)});function ua(e){return go(aa,e)}const ca=M("ZodCUID",(e,t)=>{An.init(e,t),Bi.init(e,t)});function sa(e){return wo(ca,e)}const la=M("ZodCUID2",(e,t)=>{$n.init(e,t),Bi.init(e,t)});function fa(e){return _o(la,e)}const da=M("ZodULID",(e,t)=>{Rn.init(e,t),Bi.init(e,t)});function pa(e){return So(da,e)}const ma=M("ZodXID",(e,t)=>{Nn.init(e,t),Bi.init(e,t)});function ya(e){return Oo(ma,e)}const ha=M("ZodKSUID",(e,t)=>{Dn.init(e,t),Bi.init(e,t)});function va(e){return ko(ha,e)}const ba=M("ZodIPv4",(e,t)=>{Un.init(e,t),Bi.init(e,t)});function ga(e){return zo(ba,e)}const wa=M("ZodMAC",(e,t)=>{Jn.init(e,t),Bi.init(e,t)});function _a(e){return function(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...fe(t)})}(wa,e)}const Sa=M("ZodIPv6",(e,t)=>{Gn.init(e,t),Bi.init(e,t)});function Oa(e){return jo(Sa,e)}const ka=M("ZodCIDRv4",(e,t)=>{Vn.init(e,t),Bi.init(e,t)});function za(e){return Po(ka,e)}const ja=M("ZodCIDRv6",(e,t)=>{Bn.init(e,t),Bi.init(e,t)});function Pa(e){return Io(ja,e)}const Ia=M("ZodBase64",(e,t)=>{Yn.init(e,t),Bi.init(e,t)});function Ta(e){return To(Ia,e)}const xa=M("ZodBase64URL",(e,t)=>{Wn.init(e,t),Bi.init(e,t)});function Ea(e){return xo(xa,e)}const Aa=M("ZodE164",(e,t)=>{qn.init(e,t),Bi.init(e,t)});function $a(e){return Eo(Aa,e)}const Ra=M("ZodJWT",(e,t)=>{Kn.init(e,t),Bi.init(e,t)});function Na(e){return Ao(Ra,e)}const Da=M("ZodCustomStringFormat",(e,t)=>{Xn.init(e,t),Bi.init(e,t)});function Za(e,t,n={}){return ci(Da,e,t,n)}function Ca(e){return ci(Da,"hostname",yt,e)}function Fa(e){return ci(Da,"hex",At,e)}function Ma(t,n){const r=`${t}_${n?.enc??"hex"}`,o=e[r];if(!o)throw new Error(`Unrecognized hash format: ${r}`);return ci(Da,r,o,n)}const Ua=M("ZodNumber",(e,t)=>{Hn.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,{minimum:o,maximum:i,format:a,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:s}=e._zod.bag;"string"==typeof a&&a.includes("int")?r.type="integer":r.type="number","number"==typeof s&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.minimum=s,r.exclusiveMinimum=!0):r.exclusiveMinimum=s),"number"==typeof o&&(r.minimum=o,"number"==typeof s&&"draft-04"!==t.target&&(s>=o?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof c&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.maximum=c,r.exclusiveMaximum=!0):r.exclusiveMaximum=c),"number"==typeof i&&(r.maximum=i,"number"==typeof c&&"draft-04"!==t.target&&(c<=i?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof u&&(r.multipleOf=u)})(e,t,n),e.gt=(t,n)=>e.check(No(t,n)),e.gte=(t,n)=>e.check(Do(t,n)),e.min=(t,n)=>e.check(Do(t,n)),e.lt=(t,n)=>e.check($o(t,n)),e.lte=(t,n)=>e.check(Ro(t,n)),e.max=(t,n)=>e.check(Ro(t,n)),e.int=t=>e.check(Va(t)),e.safe=t=>e.check(Va(t)),e.positive=t=>e.check(No(0,t)),e.nonnegative=t=>e.check(Do(0,t)),e.negative=t=>e.check($o(0,t)),e.nonpositive=t=>e.check(Ro(0,t)),e.multipleOf=(t,n)=>e.check(Uo(t,n)),e.step=(t,n)=>e.check(Uo(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ga(e){return function(e,t){return new e({type:"number",checks:[],...fe(t)})}(Ua,e)}const Ja=M("ZodNumberFormat",(e,t)=>{Qn.init(e,t),Ua.init(e,t)});function Va(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...fe(t)})}(Ja,e)}function Ba(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...fe(t)})}(Ja,e)}function La(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...fe(t)})}(Ja,e)}function Ya(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...fe(t)})}(Ja,e)}function Wa(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...fe(t)})}(Ja,e)}const qa=M("ZodBoolean",(e,t)=>{er.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t)});function Ka(e){return function(e,t){return new e({type:"boolean",...fe(t)})}(qa,e)}const Xa=M("ZodBigInt",(e,t)=>{tr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema")})(0,e),e.gte=(t,n)=>e.check(Do(t,n)),e.min=(t,n)=>e.check(Do(t,n)),e.gt=(t,n)=>e.check(No(t,n)),e.gte=(t,n)=>e.check(Do(t,n)),e.min=(t,n)=>e.check(Do(t,n)),e.lt=(t,n)=>e.check($o(t,n)),e.lte=(t,n)=>e.check(Ro(t,n)),e.max=(t,n)=>e.check(Ro(t,n)),e.positive=t=>e.check(No(BigInt(0),t)),e.negative=t=>e.check($o(BigInt(0),t)),e.nonpositive=t=>e.check(Ro(BigInt(0),t)),e.nonnegative=t=>e.check(Do(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(Uo(t,n));const n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function Ha(e){return function(e,t){return new e({type:"bigint",...fe(t)})}(Xa,e)}const Qa=M("ZodBigIntFormat",(e,t)=>{nr.init(e,t),Xa.init(e,t)});function eu(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...fe(t)})}(Qa,e)}function tu(e){return function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...fe(t)})}(Qa,e)}const nu=M("ZodSymbol",(e,t)=>{rr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema")})(0,e)});function ru(e){return function(e,t){return new e({type:"symbol",...fe(t)})}(nu,e)}const ou=M("ZodUndefined",(e,t)=>{or.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema")})(0,e)});function iu(e){return function(e,t){return new e({type:"undefined",...fe(t)})}(ou,e)}const au=M("ZodNull",(e,t)=>{ir.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{"openapi-3.0"===t.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"})(0,e,t)});function uu(e){return function(e,t){return new e({type:"null",...fe(t)})}(au,e)}const cu=M("ZodAny",(e,t)=>{ar.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function su(){return new cu({type:"any"})}const lu=M("ZodUnknown",(e,t)=>{ur.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function fu(){return new lu({type:"unknown"})}const du=M("ZodNever",(e,t)=>{cr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.not={}})(0,0,t)});function pu(e){return function(e,t){return new e({type:"never",...fe(t)})}(du,e)}const mu=M("ZodVoid",(e,t)=>{sr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Void cannot be represented in JSON Schema")})(0,e)});function yu(e){return function(e,t){return new e({type:"void",...fe(t)})}(mu,e)}const hu=M("ZodDate",(e,t)=>{lr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Date cannot be represented in JSON Schema")})(0,e),e.min=(t,n)=>e.check(Do(t,n)),e.max=(t,n)=>e.check(Ro(t,n));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function vu(e){return function(e,t){return new e({type:"date",...fe(t)})}(hu,e)}const bu=M("ZodArray",(e,t)=>{dr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def,{minimum:a,maximum:u}=e._zod.bag;"number"==typeof a&&(o.minItems=a),"number"==typeof u&&(o.maxItems=u),o.type="array",o.items=li(i.element,t,{...r,path:[...r.path,"items"]})})(e,t,n,r),e.element=t.element,e.min=(t,n)=>e.check(Lo(t,n)),e.nonempty=t=>e.check(Lo(1,t)),e.max=(t,n)=>e.check(Bo(t,n)),e.length=(t,n)=>e.check(Yo(t,n)),e.unwrap=()=>e.element});function gu(e,t){return function(e,t,n){return new e({type:"array",element:t,...fe(n)})}(bu,e,t)}function wu(e){const t=e._zod.def.shape;return Vu(Object.keys(t))}const _u=M("ZodObject",(e,t)=>{vr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object",o.properties={};const a=i.shape;for(const e in a)o.properties[e]=li(a[e],t,{...r,path:[...r.path,"properties",e]});const u=new Set(Object.keys(a)),c=new Set([...u].filter(e=>{const n=i.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));c.size>0&&(o.required=Array.from(c)),"never"===i.catchall?._zod.def.type?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=li(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):"output"===t.io&&(o.additionalProperties=!1)})(e,t,n,r),H(e,"shape",()=>t.shape),e.keyof=()=>Vu(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:fu()}),e.loose=()=>e.clone({...e._zod.def,catchall:fu()}),e.strict=()=>e.clone({...e._zod.def,catchall:pu()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!ie(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const n=e._zod.def.shape;for(const e in t)if(void 0!==Object.getOwnPropertyDescriptor(n,e))throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=ee(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Q(this,"shape",n),n}});return le(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!ie(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ee(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Q(this,"shape",n),n}});return le(e,n)}(e,t),e.merge=t=>function(e,t){const n=ee(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Q(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return le(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");return le(e,ee(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return Q(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=ee(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return Q(this,"shape",r),r},checks:[]});return le(e,o)}(e,t),e.partial=(...t)=>function(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=ee(t._zod.def,{get shape(){const r=t._zod.def.shape,o={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(o[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)o[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return Q(this,"shape",o),o},checks:[]});return le(t,o)}(Hu,e,t[0]),e.required=(...t)=>function(e,t,n){const r=ee(t._zod.def,{get shape(){const r=t._zod.def.shape,o={...r};if(n)for(const t in n){if(!(t in o))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(o[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)o[t]=new e({type:"nonoptional",innerType:r[t]});return Q(this,"shape",o),o}});return le(t,r)}(sc,e,t[0])});function Su(e,t){const n={type:"object",shape:e??{},...fe(t)};return new _u(n)}function Ou(e,t){return new _u({type:"object",shape:e,catchall:pu(),...fe(t)})}function ku(e,t){return new _u({type:"object",shape:e,catchall:fu(),...fe(t)})}const zu=M("ZodUnion",(e,t)=>{gr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>hi(e,t,n,r),e.options=t.options});function ju(e,t){return new zu({type:"union",options:e,...fe(t)})}const Pu=M("ZodXor",(e,t)=>{zu.init(e,t),_r.init(e,t),e._zod.processJSONSchema=(t,n,r)=>hi(e,t,n,r),e.options=t.options});function Iu(e,t){return new Pu({type:"union",options:e,inclusive:!1,...fe(t)})}const Tu=M("ZodDiscriminatedUnion",(e,t)=>{zu.init(e,t),Sr.init(e,t)});function xu(e,t,n){return new Tu({type:"union",options:t,discriminator:e,...fe(n)})}const Eu=M("ZodIntersection",(e,t)=>{Or.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i=li(o.left,t,{...r,path:[...r.path,"allOf",0]}),a=li(o.right,t,{...r,path:[...r.path,"allOf",1]}),u=e=>"allOf"in e&&1===Object.keys(e).length,c=[...u(i)?i.allOf:[i],...u(a)?a.allOf:[a]];n.allOf=c})(e,t,n,r)});function Au(e,t){return new Eu({type:"intersection",left:e,right:t})}const $u=M("ZodTuple",(e,t)=>{jr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="array";const a="draft-2020-12"===t.target?"prefixItems":"items",u="draft-2020-12"===t.target||"openapi-3.0"===t.target?"items":"additionalItems",c=i.items.map((e,n)=>li(e,t,{...r,path:[...r.path,a,n]})),s=i.rest?li(i.rest,t,{...r,path:[...r.path,u,..."openapi-3.0"===t.target?[i.items.length]:[]]}):null;"draft-2020-12"===t.target?(o.prefixItems=c,s&&(o.items=s)):"openapi-3.0"===t.target?(o.items={anyOf:c},s&&o.items.anyOf.push(s),o.minItems=c.length,s||(o.maxItems=c.length)):(o.items=c,s&&(o.additionalItems=s));const{minimum:l,maximum:f}=e._zod.bag;"number"==typeof l&&(o.minItems=l),"number"==typeof f&&(o.maxItems=f)})(e,t,n,r),e.rest=t=>e.clone({...e._zod.def,rest:t})});function Ru(e,t,n){const r=t instanceof On;return new $u({type:"tuple",items:e,rest:r?t:null,...fe(r?n:t)})}const Nu=M("ZodRecord",(e,t)=>{Ir.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object";const a=i.keyType,u=a._zod.bag,c=u?.patterns;if("loose"===i.mode&&c&&c.size>0){const e=li(i.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const t of c)o.patternProperties[t.source]=e}else"draft-07"!==t.target&&"draft-2020-12"!==t.target||(o.propertyNames=li(i.keyType,t,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=li(i.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const s=a._zod.values;if(s){const e=[...s].filter(e=>"string"==typeof e||"number"==typeof e);e.length>0&&(o.required=e)}})(e,t,n,r),e.keyType=t.keyType,e.valueType=t.valueType});function Du(e,t,n){return new Nu({type:"record",keyType:e,valueType:t,...fe(n)})}function Zu(e,t,n){const r=le(e);return r._zod.values=void 0,new Nu({type:"record",keyType:r,valueType:t,...fe(n)})}function Cu(e,t,n){return new Nu({type:"record",keyType:e,valueType:t,mode:"loose",...fe(n)})}const Fu=M("ZodMap",(e,t)=>{Tr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Map cannot be represented in JSON Schema")})(0,e),e.keyType=t.keyType,e.valueType=t.valueType,e.min=(...t)=>e.check(Jo(...t)),e.nonempty=t=>e.check(Jo(1,t)),e.max=(...t)=>e.check(Go(...t)),e.size=(...t)=>e.check(Vo(...t))});function Mu(e,t,n){return new Fu({type:"map",keyType:e,valueType:t,...fe(n)})}const Uu=M("ZodSet",(e,t)=>{Er.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Set cannot be represented in JSON Schema")})(0,e),e.min=(...t)=>e.check(Jo(...t)),e.nonempty=t=>e.check(Jo(1,t)),e.max=(...t)=>e.check(Go(...t)),e.size=(...t)=>e.check(Vo(...t))});function Gu(e,t){return new Uu({type:"set",valueType:e,...fe(t)})}const Ju=M("ZodEnum",(e,t)=>{$r.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=B(e._zod.def.entries);r.every(e=>"number"==typeof e)&&(n.type="number"),r.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=r})(e,0,n),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const o={};for(const r of e){if(!n.has(r))throw new Error(`Key ${r} not found in enum`);o[r]=t.entries[r]}return new Ju({...t,checks:[],...fe(r),entries:o})},e.exclude=(e,r)=>{const o={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete o[t]}return new Ju({...t,checks:[],...fe(r),entries:o})}});function Vu(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new Ju({type:"enum",entries:n,...fe(t)})}function Bu(e,t){return new Ju({type:"enum",entries:e,...fe(t)})}const Lu=M("ZodLiteral",(e,t)=>{Rr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=e._zod.def,o=[];for(const e of r.values)if(void 0===e){if("throw"===t.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===t.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(e))}else o.push(e);if(0===o.length);else if(1===o.length){const e=o[0];n.type=null===e?"null":typeof e,"draft-04"===t.target||"openapi-3.0"===t.target?n.enum=[e]:n.const=e}else o.every(e=>"number"==typeof e)&&(n.type="number"),o.every(e=>"string"==typeof e)&&(n.type="string"),o.every(e=>"boolean"==typeof e)&&(n.type="boolean"),o.every(e=>null===e)&&(n.type="null"),n.enum=o})(e,t,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Yu(e,t){return new Lu({type:"literal",values:Array.isArray(e)?e:[e],...fe(t)})}const Wu=M("ZodFile",(e,t)=>{Nr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:a,mime:u}=e._zod.bag;void 0!==i&&(o.minLength=i),void 0!==a&&(o.maxLength=a),u?1===u.length?(o.contentMediaType=u[0],Object.assign(r,o)):(Object.assign(r,o),r.anyOf=u.map(e=>({contentMediaType:e}))):Object.assign(r,o)})(e,0,n),e.min=(t,n)=>e.check(Jo(t,n)),e.max=(t,n)=>e.check(Go(t,n)),e.mime=(t,n)=>e.check(ti(Array.isArray(t)?t:[t],n))});function qu(e){return function(e,t){return new e({type:"file",...fe(t)})}(Wu,e)}const Ku=M("ZodTransform",(e,t)=>{Dr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema")})(0,e),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new G(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(_e(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(_e(t))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(e=>(n.value=e,n)):(n.value=o,n)}});function Xu(e){return new Ku({type:"transform",transform:e})}const Hu=M("ZodOptional",(e,t)=>{Cr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>vi(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function Qu(e){return new Hu({type:"optional",innerType:e})}const ec=M("ZodExactOptional",(e,t)=>{Fr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>vi(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function tc(e){return new ec({type:"optional",innerType:e})}const nc=M("ZodNullable",(e,t)=>{Mr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i=li(o.innerType,t,r),a=t.seen.get(e);"openapi-3.0"===t.target?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function rc(e){return new nc({type:"nullable",innerType:e})}function oc(e){return Qu(rc(e))}const ic=M("ZodDefault",(e,t)=>{Ur.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;li(o.innerType,t,r),t.seen.get(e).ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function ac(e,t){return new ic({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():ae(t)}})}const uc=M("ZodPrefault",(e,t)=>{Jr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;li(o.innerType,t,r),t.seen.get(e).ref=o.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function cc(e,t){return new uc({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():ae(t)}})}const sc=M("ZodNonOptional",(e,t)=>{Vr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;li(o.innerType,t,r),t.seen.get(e).ref=o.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function lc(e,t){return new sc({type:"nonoptional",innerType:e,...fe(t)})}const fc=M("ZodSuccess",(e,t)=>{Lr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.type="boolean"})(0,0,t),e.unwrap=()=>e._zod.def.innerType});function dc(e){return new fc({type:"success",innerType:e})}const pc=M("ZodCatch",(e,t)=>{Yr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;let i;li(o.innerType,t,r),t.seen.get(e).ref=o.innerType;try{i=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=i})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function mc(e,t){return new pc({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}const yc=M("ZodNaN",(e,t)=>{Wr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema")})(0,e)});function hc(e){return function(e,t){return new e({type:"nan",...fe(t)})}(yc,e)}const vc=M("ZodPipe",(e,t)=>{qr.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def,i="input"===t.io?"transform"===o.in._zod.def.type?o.out:o.in:o.out;li(i,t,r),t.seen.get(e).ref=i})(e,t,0,r),e.in=t.in,e.out=t.out});function bc(e,t){return new vc({type:"pipe",in:e,out:t})}const gc=M("ZodCodec",(e,t)=>{vc.init(e,t),Xr.init(e,t)});function wc(e,t,n){return new gc({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}const _c=M("ZodReadonly",(e,t)=>{eo.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;li(o.innerType,t,r),t.seen.get(e).ref=o.innerType,n.readOnly=!0})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function Sc(e){return new _c({type:"readonly",innerType:e})}const Oc=M("ZodTemplateLiteral",(e,t)=>{no.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,o=e._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");r.type="string",r.pattern=o.source})(e,0,n)});function kc(e,t){return new Oc({type:"template_literal",parts:e,...fe(t)})}const zc=M("ZodLazy",(e,t)=>{io.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.innerType;li(o,t,r),t.seen.get(e).ref=o})(e,t,0,r),e.unwrap=()=>e._zod.def.getter()});function jc(e){return new zc({type:"lazy",getter:e})}const Pc=M("ZodPromise",(e,t)=>{oo.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const o=e._zod.def;li(o.innerType,t,r),t.seen.get(e).ref=o.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function Ic(e){return new Pc({type:"promise",innerType:e})}const Tc=M("ZodFunction",(e,t)=>{ro.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")})(0,e)});function xc(e){return new Tc({type:"function",input:Array.isArray(e?.input)?Ru(e?.input):e?.input??gu(fu()),output:e?.output??fu()})}const Ec=M("ZodCustom",(e,t)=>{ao.init(e,t),Ui.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")})(0,e)});function Ac(e){const t=new Kt({check:"custom"});return t._zod.check=e,t}function $c(e,t){return function(e,t,n){const r=fe(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}(Ec,e??(()=>!0),t)}function Rc(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...fe(n)})}(Ec,e,t)}function Nc(e){return function(e){const t=function(e){const t=new Kt({check:"custom",...fe(void 0)});return t._zod.check=e,t}(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(_e(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(_e(r))}},e(n.value,n)));return t}(e)}const Dc=function(e){const t=new Kt({check:"describe"});return t._zod.onattach=[t=>{const n=so.get(t)??{};so.add(t,{...n,description:e})}],t._zod.check=()=>{},t},Zc=function(e){const t=new Kt({check:"meta"});return t._zod.onattach=[t=>{const n=so.get(t)??{};so.add(t,{...n,...e})}],t._zod.check=()=>{},t};function Cc(e,t={}){const n=new Ec({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...fe(t)});return n._zod.bag.Class=e,n._zod.check=t=>{t.value instanceof e||t.issues.push({code:"invalid_type",expected:e.name,input:t.value,inst:n,path:[...n._zod.def.path??[]]})},n}const Fc=(...e)=>function(e,t){const n=fe(t);let r=n.truthy??["true","1","yes","on","y","enabled"],o=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),o=o.map(e=>"string"==typeof e?e.toLowerCase():e));const i=new Set(r),a=new Set(o),u=e.Codec??Xr,c=e.Boolean??er,s=new u({type:"pipe",in:new(e.String??kn)({type:"string",error:n.error}),out:new c({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!i.has(r)||!a.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...a],input:t.value,inst:s,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":o[0]||"false",error:n.error});return s}({Codec:gc,Boolean:qa,String:Ji},...e);function Mc(e){const t=jc(()=>ju([Vi(e),Ga(),Ka(),uu(),gu(t),Du(Vi(),t)]));return t}function Uc(e,t){return bc(Xu(e),t)}var Gc;Gc||(Gc={}),new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]),V({localeError:(()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return e=>{switch(e.code){case"invalid_type":{const t=r[e.expected]??e.expected,n=function(e){const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"nan":"number";case"object":{if(null===e)return"null";if(Array.isArray(e))return"array";const t=e;if(t&&Object.getPrototypeOf(t)!==Object.prototype&&"constructor"in t&&t.constructor)return t.constructor.name}}return t}(e.input);return`Invalid input: expected ${t}, received ${r[n]??n}`}case"invalid_value":return 1===e.values.length?`Invalid input: expected ${de(e.values[0])}`:`Invalid option: expected one of ${L(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Too big: expected ${e.origin??"value"} to have ${n}${e.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Too small: expected ${e.origin} to have ${n}${e.minimum.toString()} ${r.unit}`:`Too small: expected ${e.origin} to be ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Invalid string: must start with "${t.prefix}"`:"ends_with"===t.format?`Invalid string: must end with "${t.suffix}"`:"includes"===t.format?`Invalid string: must include "${t.includes}"`:"regex"===t.format?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${L(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}})()});var Jc=gu(Su({fullName:Vi().optional(),militaryRank:Vi().optional(),dates:Vi().min(1)}));function Vc(e){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(e)}function Bc(e){var t="function"==typeof Map?new Map:void 0;return Bc=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Lc())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&Yc(o,n.prototype),o}(e,arguments,Wc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Yc(n,e)},Bc(e)}function Lc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Lc=function(){return!!e})()}function Yc(e,t){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yc(e,t)}function Wc(e){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wc(e)}var qc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Wc(t),function(e,t){if(t&&("object"==Vc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lc()?Reflect.construct(t,n||[],Wc(e).constructor):t.apply(e,n))}(this,t,["Invalid payroll value: ".concat(e)])).message=e,n.name="PayrollValueValidationError",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yc(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(Bc(Error));function Kc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Xc(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Xc(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Xc(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Xc(f,"constructor",s),Xc(s,"constructor",c),c.displayName="GeneratorFunction",Xc(s,o,"GeneratorFunction"),Xc(f),Xc(f,o,"Generator"),Xc(f,r,function(){return this}),Xc(f,"toString",function(){return"[object Generator]"}),(Kc=function(){return{w:i,m:d}})()}function Xc(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Xc=function(e,t,n,r){function i(t,n){Xc(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Xc(e,t,n,r)}function Hc(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Qc=function(){var e,t=(e=Kc().m(function e(t){var n,r,o;return Kc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t();case 1:return n=e.v,e.a(2,n);case 2:if(e.p=2,!((o=e.v)instanceof Pi)){e.n=3;break}return console.log(o.issues),r=o.issues.map(function(e){var t=e.message,n=e.path;return"".concat(t," в рядку ").concat((null==n?void 0:n[0])+2)}).join("\n"),e.a(2,F.ValidationError(r));case 3:if(!(o instanceof qc)){e.n=4;break}return console.log(o),e.a(2,F.ValidationError(o.message));case 4:return console.log(o),e.a(2,F.UnknownError())}},e,null,[[0,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Hc(i,r,o,a,u,"next",e)}function u(e){Hc(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();function es(e){return es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(e)}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach(function(t){rs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rs(e,t,n){return(t=ss(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function os(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return is(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(is(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,is(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,is(f,"constructor",s),is(s,"constructor",c),c.displayName="GeneratorFunction",is(s,o,"GeneratorFunction"),is(f),is(f,o,"Generator"),is(f,r,function(){return this}),is(f,"toString",function(){return"[object Generator]"}),(os=function(){return{w:i,m:d}})()}function is(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}is=function(e,t,n,r){function i(t,n){is(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},is(e,t,n,r)}function as(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function us(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){as(i,r,o,a,u,"next",e)}function u(e){as(i,r,o,a,u,"throw",e)}a(void 0)})}}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ss(r.key),r)}}function ss(e){var t=function(e){if("object"!=es(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=es(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==es(t)?t:t+""}var ls=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t,this.tableRenderer=n},t=[{key:"execute",value:(n=us(os().m(function e(){var t=this;return os().w(function(e){for(;;)if(0===e.n)return e.a(2,Qc(us(os().m(function e(){var n,r,o,i,a;return os().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.tableReader.read();case 1:return n=e.v,r=t.filterValidRecords(n),o=t.fillMissingInfo(r),i=t.parseDateRanges(o),a=i.map(function(e){return e.getRenderItem()}),e.n=2,t.tableRenderer.render(a);case 2:return e.a(2,F.Ok())}},e)}))))},e)})),function(){return n.apply(this,arguments)})},{key:"filterValidRecords",value:function(e){return Jc.parse(e.filter(function(e){return!e.dates||null==e||!e.fullName||null!=e&&e.militaryRank||console.log("Missing military rank:",e),!!e.dates||!(null==e||!e.fullName)||!(null==e||!e.militaryRank)}))}},{key:"fillMissingInfo",value:function(e){return e.map(function(t,n){if(t.fullName)return t;for(var r=n-1;r>=0&&!e[r].fullName;)r--;if(r<0)throw new Error("No serviceman found for record at index ".concat(n));return ns(ns({},e[r]),{},{dates:t.dates})})}},{key:"parseDateRanges",value:function(e){return e.flatMap(function(e){return m.FromString(e.dates).map(function(t){return{serviceman:I.fromRaw({fullName:e.fullName,militaryRank:e.militaryRank}),dateRange:t}})}).reduce(function(e,t){var n=e.find(function(e){return e.serviceman.equals(t.serviceman)&&t.dateRange.getMonthAndYear()===e.getMonthAndYear()});return n?n.addDateRange(t.dateRange):e.push(N.Create(t.serviceman,[t.dateRange])),e},[]).sort(function(e,t){return e.serviceman.fullName.toString().localeCompare(t.serviceman.fullName.toString())})}}],t&&cs(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),fs=gu(Su({fullName:Vi().min(5),militaryRank:Vi().min(1),dates:Vi().min(1)})),ds=Vi().regex(/^(0[1-9]|1[0-2])\.\d{4}$/,"Неправильний місяць (MM.YYYY)");function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function ms(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return ys(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(ys(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,ys(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,ys(f,"constructor",s),ys(s,"constructor",c),c.displayName="GeneratorFunction",ys(s,o,"GeneratorFunction"),ys(f),ys(f,o,"Generator"),ys(f,r,function(){return this}),ys(f,"toString",function(){return"[object Generator]"}),(ms=function(){return{w:i,m:d}})()}function ys(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ys=function(e,t,n,r){function i(t,n){ys(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ys(e,t,n,r)}function hs(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function vs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){hs(i,r,o,a,u,"next",e)}function u(e){hs(i,r,o,a,u,"throw",e)}a(void 0)})}}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gs(r.key),r)}}function gs(e){var t=function(e){if("object"!=ps(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ps(t)?t:t+""}var ws=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tableReader=t,this.tableRenderer=n},t=[{key:"execute",value:(n=vs(ms().m(function e(t){var n=this;return ms().w(function(e){for(;;)if(0===e.n)return e.a(2,Qc(vs(ms().m(function e(){var r,o,i,a;return ms().w(function(e){for(;;)switch(e.n){case 0:return ds.parse(t),e.n=1,n.tableReader.read();case 1:return r=e.v,o=fs.parse(r),i=n.parseDateRanges(o,t),a=i.map(function(e){return e.getRenderItem()}),e.n=2,n.tableRenderer.render(a);case 2:return e.a(2,F.Ok())}},e)}))))},e)})),function(e){return n.apply(this,arguments)})},{key:"parseDateRanges",value:function(e,t){return e.map(function(e){return N.Create(I.fromRaw(e),m.FromInstructorsString(e.dates,t),30)})}}],t&&bs(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),_s=function(e){return 30===e||50===e||70===e||100===e};function Ss(e){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(e)}function Os(e){return function(e){if(Array.isArray(e))return js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||zs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zs(e,t){if(e){if("string"==typeof e)return js(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?js(e,t):void 0}}function js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Is(r.key),r)}}function Is(e){var t=function(e){if("object"!=Ss(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ss(t)?t:t+""}var Ts=function(e){return e<10?"0".concat(e):e},xs=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"resolve",value:function(e,t){var n=this,r=ks(t.split("."),2),o=r[0],i=r[1],a=new Date(Number(i),Number(o),0).getDate(),u=new Map,c=new Map;return e.forEach(function(e){var r=n.extractRangesFromRawPayrollItem(e,a,t);n.groupPayrollItems(e,r,c,u)}),{payrolls:c,payrollsByServiceman:u}}},{key:"extractRangesFromRawPayrollItem",value:function(e,t,n){for(var r=new Map,o=null,i=null,a=1;a<=t;a++){var u="".concat(Ts(a),".").concat(n),c=e[u]?Number(e[u]):null,s=a===t;if(null===o&&c)o=u,i=Number(c);else if(null!==o&&c!==i){var l="".concat(Ts(a-1),".").concat(n);i&&this.addRangeWithSplit(r,i,o,l),c?(o=u,i=Number(c)):(o=null,i=null)}s&&o&&i&&this.addRangeWithSplit(r,i,o,u)}return r}},{key:"groupPayrollItems",value:function(e,t,n,r){var o,i=String(e.taxPayerId||e.fullName),a=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=zs(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t);try{for(a.s();!(o=a.n()).done;){var u=ks(o.value,2),c=u[0],s=u[1];if(_s(c)){var l=N.Create(I.FromRawExtended(e),s,c,e.reason),f=r.get(i)||[];r.set(i,[].concat(Os(f),[l]));var d=n.get(c)||[];n.set(c,[].concat(Os(d),[l]))}}}catch(e){a.e(e)}finally{a.f()}}},{key:"addRangeWithSplit",value:function(e,t,n,r){var o=new m(n,r);if(170===t){var i=e.get(100)||[];e.set(100,[].concat(Os(i),[o]));var a=e.get(70)||[];e.set(70,[].concat(Os(a),[o]))}else{var u=e.get(t)||[];e.set(t,[].concat(Os(u),[o]))}}}],t&&Ps(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Es(e){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(e)}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$s(r.key),r)}}function $s(e){var t=function(e){if("object"!=Es(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Es(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Es(t)?t:t+""}var Rs=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"parseDateRanges",value:function(e,t){return e.flatMap(function(e){return m.FromString(e.dates).map(function(t){return{serviceman:I.fromRaw({fullName:e.fullName,militaryRank:e.militaryRank}),dateRange:t}})}).reduce(function(e,n){var r=e.find(function(e){return e.serviceman.equals(n.serviceman)&&n.dateRange.getMonthAndYear()===e.getMonthAndYear()});return r?r.addDateRange(n.dateRange):e.push(N.Create(n.serviceman,[n.dateRange],t)),e},[]).sort(function(e,t){return e.serviceman.fullName.toString().localeCompare(t.serviceman.fullName.toString())})}}],null&&As(e.prototype,null),t&&As(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Ns(e){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(e)}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zs(r.key),r)}}function Zs(e){var t=function(e){if("object"!=Ns(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ns(t)?t:t+""}var Cs=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.taxPayerId=n,this.servicemanFullName=r,this.details=o}return t=e,n=[{key:"MissingServiceman",value:function(t,n){return new e("missing_serviceman",t,n)}},{key:"ExtraServiceman",value:function(t,n){return new e("extra_serviceman",t,n)}},{key:"DifferentRanges",value:function(t,n,r,o){return new e("different_ranges",t,n,{missingInFirst:r,missingInSecond:o})}}],null&&Ds(t.prototype,null),n&&Ds(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}function Ms(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Gs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gs(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Gs(e,t){if(e){if("string"==typeof e)return Js(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Js(e,t):void 0}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bs(r.key),r)}}function Bs(e){var t=function(e){if("object"!=Fs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fs(t)?t:t+""}var Ls=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"DetectOverlaps",value:function(e){var t,n=[],r=Us(e);try{for(r.s();!(t=r.n()).done;){var o=Ms(t.value,2),i=(o[0],o[1]);if(0!==i.length){var a=i[0].serviceman,u=this.collectDateOccurrences(i),c=this.findOverlappingDates(u);c.length>0&&n.push({serviceman:a,overlaps:c})}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"ComparePayrolls",value:function(e,t){var n,r=this.payrollsToMap(e),o=this.payrollsToMap(t),i=[],a=Us(r);try{var u=function(){var e,t=Ms(n.value,2),r=t[0],a=t[1],u=o.get(r),c=null==a||null===(e=a[0])||void 0===e||null===(e=e.serviceman)||void 0===e?void 0:e.taxPayerId;if(!u)return i.push(Cs.MissingServiceman(c,r)),1;var s=a.flatMap(function(e){return e.getDates()}),l=u.flatMap(function(e){return e.getDates()}),f=new Set(s),d=new Set(l),p=l.filter(function(e){return!f.has(e)}),m=s.filter(function(e){return!d.has(e)});(p.length||m.length)&&i.push(Cs.DifferentRanges(c,r,p,m)),o.delete(r)};for(a.s();!(n=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}var c,s=Us(o);try{for(s.s();!(c=s.n()).done;){var l,f=Ms(c.value,2),d=f[0],p=f[1],m=null==p||null===(l=p[0])||void 0===l||null===(l=l.serviceman)||void 0===l?void 0:l.taxPayerId;i.push(Cs.ExtraServiceman(m,d))}}catch(e){s.e(e)}finally{s.f()}return{areEqual:0===i.length,differences:i}}},{key:"payrollsToMap",value:function(e){var t=new Map;return e.forEach(function(e){var n=e.serviceman.fullName.toString(),r=t.get(n)||[];t.set(n,[].concat(function(e){return function(e){if(Array.isArray(e))return Js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r),[e]))}),t}},{key:"collectDateOccurrences",value:function(e){var t,n=new Map,r=Us(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(70!==o.value){var i,a=Us(o.getDates());try{for(a.s();!(i=a.n()).done;){var u=i.value,c=n.get(u)||0;n.set(u,c+1)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findOverlappingDates",value:function(e){var t,n=[],r=Us(e);try{for(r.s();!(t=r.n()).done;){var o=Ms(t.value,2),i=o[0];o[1]>1&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n.sort(function(e,t){return e.localeCompare(t)})}}],null&&Vs(e.prototype,null),t&&Vs(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Ys(e){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(e)}function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach(function(t){tl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ks(e){return function(e){if(Array.isArray(e))return Qs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Hs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(e,t){if(e){if("string"==typeof e)return Qs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qs(e,t):void 0}}function Qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function el(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nl(r.key),r)}}function tl(e,t,n){return(t=nl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nl(e){var t=function(e){if("object"!=Ys(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ys(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ys(t)?t:t+""}var rl=gu(Su({fullName:Vi().min(1,"Full name is required"),militaryRank:Vi().min(1,"Military rank is required"),unit:ju([Vi().min(1,"Unit is required"),Ga()]).optional(),taxPayerId:ju([Vi(),Ga()]).optional(),reason:su().optional()}).passthrough()),ol=/^\d{2}\.\d{2}\.\d{4}$/,il=[30,50,70,100,170],al=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tl(this,"knownFields",["fullName","militaryRank","unit","taxPayerId","reason"])},t=[{key:"validateDynamicFields",value:function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=Xs(r[n],2),i=o[0],a=o[1];if(!this.knownFields.includes(i))if(this.isValidDateKey(i)){var u=this.validatePayrollValue(i,a);u.isValid||t.push.apply(t,Ks(u.errors))}else t.push({field:i,message:"Invalid date format. Expected DD.MM.YYYY, got: ".concat(i),value:i})}return{isValid:0===t.length,errors:t}}},{key:"validate",value:function(e){var t=this,n=[];if(rl.parse(e),e.forEach(function(e,r){var o=t.validateDynamicFields(e);o.isValid||o.errors.forEach(function(t){n.push(qs(qs({},t),{},{field:"[".concat(e.fullName,"] ").concat(t.field)}))})}),n.length>0)throw new qc(n.map(function(e){return e.message}).join(";"));return{isValid:0===n.length,errors:n}}},{key:"isValidDateKey",value:function(e){if(!ol.test(e))return!1;var t=Xs(e.split(".").map(Number),3),n=t[0],r=t[1],o=t[2];if(o<2e3||o>2100)return!1;if(r<1||r>12)return!1;if(n<1||n>31)return!1;var i=new Date(o,r-1,n);return i.getDate()===n&&i.getMonth()===r-1&&i.getFullYear()===o}},{key:"validatePayrollValue",value:function(e,t){var n=[];return""===t||null==t||il.includes(Number(t))?{isValid:!0,errors:[]}:(n.push({field:e,message:"Invalid payroll value. Allowed values: ".concat(il.join(", "),". Got: ").concat(t),value:t}),{isValid:!1,errors:n})}},{key:"extractDateFields",value:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var o=Xs(r[n],2),i=o[0],a=o[1];!this.knownFields.includes(i)&&ol.test(i)&&(t[i]=a)}return t}}],t&&el(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ul(e){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(e)}function cl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=dl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function sl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return ll(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(ll(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,ll(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,ll(f,"constructor",s),ll(s,"constructor",c),c.displayName="GeneratorFunction",ll(s,o,"GeneratorFunction"),ll(f),ll(f,o,"Generator"),ll(f,r,function(){return this}),ll(f,"toString",function(){return"[object Generator]"}),(sl=function(){return{w:i,m:d}})()}function ll(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ll=function(e,t,n,r){function i(t,n){ll(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ll(e,t,n,r)}function fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){if(e){if("string"==typeof e)return pl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pl(e,t):void 0}}function pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ml(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function yl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ml(i,r,o,a,u,"next",e)}function u(e){ml(i,r,o,a,u,"throw",e)}a(void 0)})}}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vl(r.key),r)}}function vl(e){var t=function(e){if("object"!=ul(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ul(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ul(t)?t:t+""}var bl=function(){return e=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.payrollTableReader=t,this.report30TableReader=n,this.report50TableReader=r,this.report70TableReader=o,this.report100TableReader=i,this.payrollTableRenderer=a,this.rawPayrollDataVerifier=u},t=[{key:"checkUnitPayroll",value:(o=yl(sl().m(function e(t){var n=this;return sl().w(function(e){for(;;)if(0===e.n)return e.a(2,Qc(yl(sl().m(function e(){var r,o,i,a,u,c,s,l,f;return sl().w(function(e){for(;;)switch(e.n){case 0:return ds.parse(t),e.n=1,Promise.all([n.payrollTableReader.read(),n.reportItemsToPayrolls()]);case 1:return r=e.v,o=fl(r,2),i=o[0],a=o[1],e.n=2,n.rawPayrollDataVerifier.verify(i,t);case 2:return u=e.v,console.log({issuesFromTracker:u}),(new al).validate(i),c=new xs,s=c.resolve(i,t),l=s.payrolls,f=n.comparePayrolls(l,a,u),console.log({issuesFromTracker:u}),e.n=3,n.renderIssues(f,i);case 3:return e.a(2,F.Ok())}},e)}))))},e)})),function(e){return o.apply(this,arguments)})},{key:"reportItemsToPayrolls",value:(r=yl(sl().m(function e(){var t,n,r,o,i,a,u;return sl().w(function(e){for(;;)switch(e.n){case 0:return t=new Map,e.n=1,Promise.all([this.report30TableReader.read(),this.report50TableReader.read(),this.report70TableReader.read(),this.report100TableReader.read()]);case 1:return n=e.v,r=fl(n,4),o=r[0],i=r[1],a=r[2],u=r[3],console.log({report100RawData:u}),t.set(30,Rs.parseDateRanges(o)),t.set(50,Rs.parseDateRanges(i)),t.set(70,Rs.parseDateRanges(a)),t.set(100,Rs.parseDateRanges(u)),e.a(2,t)}},e,this)})),function(){return r.apply(this,arguments)})},{key:"comparePayrolls",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,o=cl(e);try{for(o.s();!(n=o.n()).done;){var i,a=fl(n.value,2),u=a[0],c=a[1],s=t.get(u)||[],l=cl(Ls.ComparePayrolls(c,s).differences);try{for(l.s();!(i=l.n()).done;){var f=i.value,d=this.differenceToMessage(f,u),p=r.has(f.taxPayerId)?"".concat(r.get(f.taxPayerId),"; ").concat(d):d;r.set(f.taxPayerId,p)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"differenceToMessage",value:function(e,t){switch(e.type){case"missing_serviceman":return"У рапорті ".concat(t," відсутній військовослужбовець: ").concat(e.servicemanFullName);case"extra_serviceman":return"У рапорті ".concat(t," зайвий військовослужбовець: ").concat(e.servicemanFullName);case"different_ranges":var n=e.details,r=n.missingInFirst,o=n.missingInSecond;return[r.length?"Відсутні дати ".concat(t," у відомості: ").concat(r.join(", ")):"",o.length?"Відсутні дати у рапорті ".concat(t,": ").concat(o.join(", ")):""].filter(Boolean).join(" ")}}},{key:"renderIssues",value:(n=yl(sl().m(function e(t,n){var r;return sl().w(function(e){for(;;)switch(e.n){case 0:if(0!==(r=n.map(function(e){var n=e.taxPayerId?String(e.taxPayerId):null==e?void 0:e.fullName;return{comment:t.get(n)||""}})).length){e.n=1;break}return e.a(2);case 1:return e.a(2,this.payrollTableRenderer.render(r))}},e,this)})),function(e,t){return n.apply(this,arguments)})}],t&&hl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}();function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_l(r.key),r)}}function _l(e){var t=function(e){if("object"!=gl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gl(t)?t:t+""}var Sl=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"generate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(new Date).getFullYear();return n.map(function(n,o){var i,a,u,c,s,l,f,d,p,m,y,h,v,b,g,w,_,S,O,k,z,j,P,I,T,x=e.get(n.servicemanId),E=null!==(i=t.get(n.servicemanId))&&void 0!==i?i:[],A={};E.forEach(function(e){var t,n,r,o=e.getMonthAndYear(),i=(null===(t=A[o])||void 0===t?void 0:t.days)||0,a=null!==(n=A[o])&&void 0!==n&&n.reason?[null===(r=A[o])||void 0===r?void 0:r.reason]:[];A[o]={days:i+e.getTotalDays(),reason:[].concat(a,[e.reason]).join("; ")}});var $=n.paymentsOrders.length,R=n.paymentsOrders.map(function(e){return e.name}).join("; "),N=n.paymentsOrders.filter(function(e){return e.year===r}).length;return{index:o+1,fullName:null==x?void 0:x.fullName.toString(),militaryRank:null==x?void 0:x.militaryRank,taxPayerId:null==x?void 0:x.taxPayerId,position:null==x?void 0:x.position,unit:null==x?void 0:x.unit,remainingDays:n.getRemainingDays(),totalEligibleDays:n.totalEligibleDays,initialAmountOfDays:n.initialAmountOfDays,numberOfPaymentOrdersInTheYear:N,numberOfPaymentOrders:$,paymentOrders:R,januaryDays:null===(a=A["01.".concat(r)])||void 0===a?void 0:a.days,januaryReason:null===(u=A["01.".concat(r)])||void 0===u?void 0:u.reason,februaryDays:null===(c=A["02.".concat(r)])||void 0===c?void 0:c.days,februaryReason:null===(s=A["02.".concat(r)])||void 0===s?void 0:s.reason,marchDays:null===(l=A["03.".concat(r)])||void 0===l?void 0:l.days,marchReason:null===(f=A["03.".concat(r)])||void 0===f?void 0:f.reason,aprilDays:null===(d=A["04.".concat(r)])||void 0===d?void 0:d.days,aprilReason:null===(p=A["04.".concat(r)])||void 0===p?void 0:p.reason,mayDays:null===(m=A["05.".concat(r)])||void 0===m?void 0:m.days,mayReason:null===(y=A["05.".concat(r)])||void 0===y?void 0:y.reason,juneDays:null===(h=A["06.".concat(r)])||void 0===h?void 0:h.days,juneReason:null===(v=A["06.".concat(r)])||void 0===v?void 0:v.reason,julyDays:null===(b=A["07.".concat(r)])||void 0===b?void 0:b.days,julyReason:null===(g=A["07.".concat(r)])||void 0===g?void 0:g.reason,augustDays:null===(w=A["08.".concat(r)])||void 0===w?void 0:w.days,augustReason:null===(_=A["08.".concat(r)])||void 0===_?void 0:_.reason,septemberDays:null===(S=A["09.".concat(r)])||void 0===S?void 0:S.days,septemberReason:null===(O=A["09.".concat(r)])||void 0===O?void 0:O.reason,octoberDays:null===(k=A["10.".concat(r)])||void 0===k?void 0:k.days,octoberReason:null===(z=A["10.".concat(r)])||void 0===z?void 0:z.reason,novemberDays:null===(j=A["11.".concat(r)])||void 0===j?void 0:j.days,novemberReason:null===(P=A["11.".concat(r)])||void 0===P?void 0:P.reason,decemberDays:null===(I=A["12.".concat(r)])||void 0===I?void 0:I.days,decemberReason:null===(T=A["12.".concat(r)])||void 0===T?void 0:T.reason}})}},{key:"generatePayrollRenderItems",value:function(e,t,n,r){var o=n.filter(function(e){return e.getRemainingPeriods()>0});return console.log({filteredAccurals:o}),o.map(function(n){var o,i=e.get(n.servicemanId),a=null!==(o=t.get(n.servicemanId))&&void 0!==o?o:[],u=a.filter(function(e){return e.getMonthAndYear()===r}).map(function(e){return e.reason}).join("; "),c=a.flatMap(function(e){return e.getDates()}).join("; ");return{fullName:null==i?void 0:i.fullName.toString(),militaryRank:null==i?void 0:i.militaryRank,taxPayerId:null==i?void 0:i.taxPayerId,unit:null==i?void 0:i.unit,days:n.getRemainingPeriods(),reason:u,dateRange:c}})}}],null&&wl(e.prototype,null),t&&wl(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Ol(e){return Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(e)}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zl(r.key),r)}}function zl(e){var t=function(e){if("object"!=Ol(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ol(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ol(t)?t:t+""}var jl=function(){function e(t,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.servicemanId=n,this.payrollItems=r,this.totalEligibleDays=o,this.paymentsOrders=i,this.initialAmountOfDays=a}return t=e,n=[{key:"getRemainingDays",value:function(){return this.totalEligibleDays-30*this.getPaidPeriodsInTheYear()}},{key:"getPaidPeriodsInTheYear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2026;return this.paymentsOrders.filter(function(t){return t.year===e}).length}},{key:"getRemainingPeriods",value:function(){return Math.floor(this.getRemainingDays()/30)}}],r=[{key:"Create",value:function(t,n,r,o){var i=0,a=n.map(function(e){return i+=e.getTotalDays(),e.id}),u=function(e){return e.split(";").map(function(t){if(t){var n=t.match(/(\d{2})\.(\d{2})\.(\d{4})/);(!n||n.length<1)&&console.log("orders with error",{orders:e});var r=Number(n[2]),o=Number(n[3]);return 1===r&&(o-=1),{name:t.trim(),year:Number(o)}}}).filter(function(e){return e})}(r);return new e(k(),t,a,i+o,u,o)}}],n&&kl(t.prototype,n),r&&kl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}(),Pl=gu(Su({fullName:Vi(),militaryRank:Vi(),position:Vi(),unit:Vi(),taxPayerId:ju([Vi(),Ga()]).optional(),remainingDaysFromPreviousYear:Ga().optional(),paymentsOrders:Vi().optional()})),Il=gu(Su({fullName:Vi(),militaryRank:Vi(),unit:Vi(),taxPayerId:ju([Vi(),Ga()]).optional(),dates:Vi(),reason:Vi().optional()}));function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach(function(t){Al(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Al(e,t,n){return(t=Ul(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $l(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Rl(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Rl(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Rl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Rl(f,"constructor",s),Rl(s,"constructor",c),c.displayName="GeneratorFunction",Rl(s,o,"GeneratorFunction"),Rl(f),Rl(f,o,"Generator"),Rl(f,r,function(){return this}),Rl(f,"toString",function(){return"[object Generator]"}),($l=function(){return{w:i,m:d}})()}function Rl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Rl=function(e,t,n,r){function i(t,n){Rl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Rl(e,t,n,r)}function Nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||Dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dl(e,t){if(e){if("string"==typeof e)return Zl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(e,t):void 0}}function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Cl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Fl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Cl(i,r,o,a,u,"next",e)}function u(e){Cl(i,r,o,a,u,"throw",e)}a(void 0)})}}function Ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ul(r.key),r)}}function Ul(e){var t=function(e){if("object"!=Tl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tl(t)?t:t+""}var Gl=function(){return e=function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialTableReader=t,this.payrollsTableReader=n,this.rewardAccrualTableRenderer=r,this.payrollTableRenderer=o,this.initialTableRenderer=i},t=[{key:"execute",value:(r=Fl($l().m(function e(t){var n=this;return $l().w(function(e){for(;;)if(0===e.n)return e.a(2,Qc(Fl($l().m(function e(){var r,o,i,a,u,c,s,l,f,d;return $l().w(function(e){for(;;)switch(e.n){case 0:return ds.parse(t),e.n=1,Promise.all([n.initialTableReader.read(),n.payrollsTableReader.read()]);case 1:return r=e.v,o=Nl(r,2),i=o[0],a=o[1],console.log(i,a),n.validate(i,a),u=n.parseInputData(i,a),c=u.servicemans,s=u.payrolls,l=u.accruals,console.log({servicemans:c,payrolls:s,accruals:l}),f=Sl.generate(c,s,l),d=Sl.generatePayrollRenderItems(c,s,l,t),console.log({rewardAccrualRenderItems:f,payroll70RenderItems:d}),e.n=2,Promise.all([n.payrollTableRenderer.render(d),n.rewardAccrualTableRenderer.render(f)]);case 2:return e.a(2,F.Ok())}},e)}))))},e)})),function(e){return r.apply(this,arguments)})},{key:"executeAddNotExisting",value:(n=Fl($l().m(function e(){var t,n,r,o,i,a;return $l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.initialTableReader.read(),this.payrollsTableReader.read()]);case 1:return t=e.v,n=Nl(t,2),r=n[0],o=n[1],i=new Map,r.forEach(function(e){return e.taxPayerId&&i.set(String(e.taxPayerId),1)}),a=o.filter(function(e){return!i.get(String(e.taxPayerId))}).map(function(e){return El(El({},e),{},{position:"",remainingDaysFromPreviousYear:0})}),e.n=2,this.initialTableRenderer.render(a);case 2:return e.a(2,F.Ok())}},e,this)})),function(){return n.apply(this,arguments)})},{key:"validate",value:function(e,t){Pl.parse(e),Il.parse(t)}},{key:"parseInputData",value:function(e,t){var n=new Map,r=new Map,o=new Map;return e.forEach(function(e){var t=I.FromRawExtended(e);n.set(t.id,t),r.set(t.taxPayerId,t.id)}),t.forEach(function(e){var t=r.get(String(e.taxPayerId));t||console.error("Serviceman id not found, need to create serviceman");var i=n.get(t),a=N.Create(i,m.FromString(e.dates),70,e.reason),u=o.get(t)||[];o.set(t,[].concat(function(e){return function(e){if(Array.isArray(e))return Zl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u),[a]))}),{accruals:e.map(function(e){var t=r.get(String(e.taxPayerId));return jl.Create(t,o.get(t)||[],e.paymentsOrders,e.remainingDaysFromPreviousYear)}),servicemans:n,payrolls:o}}}],t&&Ml(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach(function(t){Ql(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ll(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Yl(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Yl(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Yl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Yl(f,"constructor",s),Yl(s,"constructor",c),c.displayName="GeneratorFunction",Yl(s,o,"GeneratorFunction"),Yl(f),Yl(f,o,"Generator"),Yl(f,r,function(){return this}),Yl(f,"toString",function(){return"[object Generator]"}),(Ll=function(){return{w:i,m:d}})()}function Yl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Yl=function(e,t,n,r){function i(t,n){Yl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Yl(e,t,n,r)}function Wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ql(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ql(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Xl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Kl(i,r,o,a,u,"next",e)}function u(e){Kl(i,r,o,a,u,"throw",e)}a(void 0)})}}function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ef(r.key),r)}}function Ql(e,t,n){return(t=ef(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e){var t=function(e){if("object"!=Jl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jl(t)?t:t+""}var tf=function(){return t=function e(t,n,r,o,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ql(this,"reasonsMap",new Map),this.tableReader=t,this.reasonsMapReader=n,this.overlapsTableRenderer=r,this.table30Renderer=o,this.table50Renderer=i,this.table70Renderer=a,this.table100Renderer=u},n=[{key:"generateSummary",value:(a=Xl(Ll().m(function e(t){var n=this;return Ll().w(function(e){for(;;)if(0===e.n)return e.a(2,Qc(Xl(Ll().m(function e(){var r,o,i,a,u,c,s,l;return Ll().w(function(e){for(;;)switch(e.n){case 0:return ds.parse(t),e.n=1,Promise.all([n.tableReader.read(),n.readReasons()]);case 1:if(r=e.v,o=Wl(r,1),i=o[0],(new al).validate(i),a=new xs,u=a.resolve(i,t),c=u.payrolls,s=u.payrollsByServiceman,!((l=Ls.DetectOverlaps(s)).length>0)){e.n=3;break}return e.n=2,n.renderOverlaps(l);case 2:return e.a(2,F.ValidationError("Задвоєних періодів: ".concat(l.length)));case 3:return e.n=4,n.renderSummary(c);case 4:return e.a(2,F.Ok())}},e)}))))},e)})),function(e){return a.apply(this,arguments)})},{key:"check",value:(e=Xl(Ll().m(function e(t){var n,r,o;return Ll().w(function(e){for(;;)switch(e.n){case 0:return ds.parse(t),e.n=1,this.tableReader.read();case 1:n=e.v,(new al).validate(n),r=new xs,(o=r.resolve(n,t)).payrolls,o.payrollsByServiceman;case 2:return e.a(2)}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"renderOverlaps",value:(i=Xl(Ll().m(function e(t){return Ll().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.overlapsTableRenderer.render(t.map(function(e){var t=e.serviceman,n=e.overlaps;return{fullName:t.fullName.toString(),militaryRank:null==t?void 0:t.militaryRank,taxPayerId:String(null==t?void 0:t.taxPayerId),dates:null==n?void 0:n.join(", ")}}));case 1:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readReasons",value:(o=Xl(Ll().m(function e(){var t=this;return Ll().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.reasonsMapReader.read();case 1:e.v.forEach(function(e){var n=e.id,r=e.description;return t.reasonsMap.set(n,r)});case 2:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"renderSummary",value:(r=Xl(Ll().m(function e(t){return Ll().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this.table30Renderer.render(this.getPayrollsRenderItems(t,30)),this.table50Renderer.render(this.getPayrollsRenderItems(t,50)),this.table70Renderer.render(this.getPayrollsRenderItems(t,70)),this.table100Renderer.render(this.getPayrollsRenderItems(t,100))]);case 1:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getPayrollsRenderItems",value:function(e,t){var n,r=this;return(null===(n=e.get(t))||void 0===n?void 0:n.map(function(e){return Bl(Bl({},e.getRenderItem()),{},{reason:r.reasonsMap.get(e.reason)})}))||[]}}],n&&Hl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var e,t,n,r,o,i,a}();function nf(e){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(e)}function rf(e){return function(e){if(Array.isArray(e))return df(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ff(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach(function(t){uf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uf(e,t,n){return(t=hf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return sf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(sf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,sf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,sf(f,"constructor",s),sf(s,"constructor",c),c.displayName="GeneratorFunction",sf(s,o,"GeneratorFunction"),sf(f),sf(f,o,"Generator"),sf(f,r,function(){return this}),sf(f,"toString",function(){return"[object Generator]"}),(cf=function(){return{w:i,m:d}})()}function sf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}sf=function(e,t,n,r){function i(t,n){sf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},sf(e,t,n,r)}function lf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||ff(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ff(e,t){if(e){if("string"==typeof e)return df(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?df(e,t):void 0}}function df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function mf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){pf(i,r,o,a,u,"next",e)}function u(e){pf(i,r,o,a,u,"throw",e)}a(void 0)})}}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hf(r.key),r)}}function hf(e){var t=function(e){if("object"!=nf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nf(t)?t:t+""}var vf=function(e){return e<10?"0".concat(e):e},bf=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.payrollTableReader=t,this.visitorsTableReader=n,this.payrollTableRenderer=r},t=[{key:"validateVisitors",value:(i=mf(cf().m(function e(t){var n=this;return cf().w(function(e){for(;;)if(0===e.n)return e.a(2,Qc(mf(cf().m(function e(){var r,o,i,a,u,c,s,l,f,d,p,m;return cf().w(function(e){for(;;)switch(e.n){case 0:return ds.parse(t),e.n=1,Promise.all([n.fetchRawPayroll(),n.fetchRawVisitors(t)]);case 1:return r=e.v,o=lf(r,2),i=o[0],a=o[1],u=new xs,c=u.resolve(i,t),s=c.payrolls,l=c.payrollsByServiceman,f=u.resolve(a,t),d=f.payrolls,p=f.payrollsByServiceman,m=n.comparePayrolls(s,d,l),console.log({payrolls:s,visitorsPayroll:d,issues:m}),e.n=2,n.renderIssues(m,i,p);case 2:return e.a(2,F.Ok())}},e)}))))},e)})),function(e){return i.apply(this,arguments)})},{key:"fetchRawPayroll",value:(o=mf(cf().m(function e(){var t;return cf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.payrollTableReader.read();case 1:return t=e.v,(new al).validate(t),e.a(2,t.map(function(e){return af(af({},e),{},{taxPayerId:void 0})}))}},e,this)})),function(){return o.apply(this,arguments)})},{key:"fetchRawVisitors",value:(r=mf(cf().m(function e(t){var n;return cf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.visitorsTableReader.read();case 1:return n=e.v,e.a(2,n.map(function(e){for(var n=lf(t.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(vf(a),".").concat(t);e[u]&&(e[u]=100)}return e}))}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"comparePayrolls",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=e.get(100),a=t.get(100)||[],u=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ff(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(Ls.ComparePayrolls(i,a).differences);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(n.has(c.servicemanFullName)){var s=this.differenceToMessage(c),l=o.has(c.servicemanFullName)?"".concat(o.get(c.servicemanFullName),"; ").concat(s):s;o.set(c.servicemanFullName,l)}}}catch(e){u.e(e)}finally{u.f()}return o}},{key:"differenceToMessage",value:function(e){switch(e.type){case"missing_serviceman":return"Ніхто не вказав у відомості відвідування: ".concat(e.servicemanFullName);case"extra_serviceman":return"Не проставили 100: ".concat(e.servicemanFullName);case"different_ranges":var t=e.details,n=t.missingInFirst,r=t.missingInSecond;return[n.length?"Не проставили 100 у відомості: ".concat(n.join(", ")):"",r.length?"Відсутні дати у відомостях відвідування: ".concat(r.join(", ")):""].filter(Boolean).join(" ")}}},{key:"renderIssues",value:(n=mf(cf().m(function e(t,n,r){var o,i;return cf().w(function(e){for(;;)switch(e.n){case 0:if(o=[],0!==(i=n.map(function(e){var n=new b(e.fullName).toString(),i=r.get(n)||[],a=i.map(function(e){return e.getRenderItem().dateRange}).join("; "),u="".concat(a," ").concat(t.get(n)||"").trim(),c=i.flatMap(function(e){return e.getDates()}).map(function(e){return{rowId:n,field:e,styleId:"visitors"}});return o=[].concat(rf(o),rf(c)),{id:n,comment:u}})).length){e.n=1;break}return e.a(2);case 1:return console.log({overrides:o}),e.a(2,this.payrollTableRenderer.render(i,o))}},e,this)})),function(e,t,r){return n.apply(this,arguments)})}],t&&yf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o,i}();function gf(e){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(e)}function wf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_f(r.key),r)}}function _f(e){var t=function(e){if("object"!=gf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gf(t)?t:t+""}var Sf=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cellStyles=t,this.columnStyles=n},(t=[{key:"applyStyle",value:function(e,t){try{var n=this.cellStyles[t];if(!n)return;n.textColor&&(e.format.font.color=n.textColor),n.fillColor&&(e.format.fill.color=n.fillColor),n.fontSize&&(e.format.font.size=n.fontSize),n.textOrientation&&(e.format.textOrientation=n.textOrientation),n.bold&&(e.format.font.bold=n.bold),n.wrapText&&(e.format.wrapText=n.wrapText),n.horizontalAlignment&&(e.format.horizontalAlignment=n.horizontalAlignment),n.verticalAlignment&&(e.format.verticalAlignment=n.verticalAlignment)}catch(e){console.log("applyStyle",t,e)}}},{key:"applyColumnStyle",value:function(e,t){try{var n=this.columnStyles[t];if(!n)return;-1===n.width?e.format.autofitColumns():n.width&&(e.format.columnWidth=n.width)}catch(e){console.log("applyColumnStyle",t,e)}}}])&&wf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Of(e){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(e)}function kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return jf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(jf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,jf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,jf(f,"constructor",s),jf(s,"constructor",c),c.displayName="GeneratorFunction",jf(s,o,"GeneratorFunction"),jf(f),jf(f,o,"Generator"),jf(f,r,function(){return this}),jf(f,"toString",function(){return"[object Generator]"}),(zf=function(){return{w:i,m:d}})()}function jf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}jf=function(e,t,n,r){function i(t,n){jf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},jf(e,t,n,r)}function Pf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function If(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Pf(i,r,o,a,u,"next",e)}function u(e){Pf(i,r,o,a,u,"throw",e)}a(void 0)})}}function Tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xf(r.key),r)}}function xf(e){var t=function(e){if("object"!=Of(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Of(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Of(t)?t:t+""}var Ef=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t},t=[{key:"read",value:(r=If(zf().m(function e(){var t,n=this;return zf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Excel.run(function(){var e=If(zf().m(function e(t){var r,o,i,a;return zf().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.getSheet(t);case 1:return r=e.v,(o=r.getUsedRange()).load(["values","rowIndex","columnIndex"]),e.n=2,t.sync();case 2:if(!(o.rowIndex+o.values.length<n.schema.startRow)){e.n=3;break}return e.a(2,[]);case 3:if(!((i=n.schema.startRow-1-o.rowIndex)<0||i>=o.values.length)){e.n=4;break}return e.a(2,[]);case 4:return a=o.values.slice(i),e.a(2,a.filter(function(e){return e.some(function(e){return null!==e&&""!==e})}).map(function(e){var t={};return n.schema.fields.forEach(function(r){var i,a=n.columnLetterToIndex(r.column)-o.columnIndex;a>=0&&a<e.length?t[r.name]=null!==(i=e[a])&&void 0!==i?i:null:t[r.name]=null}),t}))}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v);case 2:throw e.p=2,t=e.v,console.log("AAAAA"),console.log(this.schema,t),t;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return r.apply(this,arguments)})},{key:"getSheet",value:(n=If(zf().m(function e(t){var n;return zf().w(function(e){for(;;)switch(e.n){case 0:if(this.schema.sheetName){e.n=1;break}return e.a(2,t.workbook.worksheets.getActiveWorksheet());case 1:return n=t.workbook.worksheets.getItemOrNullObject(this.schema.sheetName),e.n=2,t.sync();case 2:return e.a(2,n.isNullObject?t.workbook.worksheets.add(this.schema.sheetName):n)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"columnLetterToIndex",value:function(e){var t,n=0,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.toUpperCase());try{for(r.s();!(t=r.n()).done;)n=26*n+(t.value.charCodeAt(0)-64)}catch(e){r.e(e)}finally{r.f()}return n-1}}],t&&Tf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function Af(e){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(e)}function $f(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Rf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Rf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Rf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Rf(f,"constructor",s),Rf(s,"constructor",c),c.displayName="GeneratorFunction",Rf(s,o,"GeneratorFunction"),Rf(f),Rf(f,o,"Generator"),Rf(f,r,function(){return this}),Rf(f,"toString",function(){return"[object Generator]"}),($f=function(){return{w:i,m:d}})()}function Rf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Rf=function(e,t,n,r){function i(t,n){Rf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Rf(e,t,n,r)}function Nf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Df(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Df(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Cf(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Zf(i,r,o,a,u,"next",e)}function u(e){Zf(i,r,o,a,u,"throw",e)}a(void 0)})}}function Ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mf(r.key),r)}}function Mf(e){var t=function(e){if("object"!=Af(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Af(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Af(t)?t:t+""}var Uf=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t,this.styleRenderer=n},t=[{key:"render",value:(r=Cf($f().m(function e(t,n){var r,o=this;return $f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t&&Array.isArray(t)&&0!==t.length){e.n=1;break}return e.a(2);case 1:return console.log(t,n),e.p=2,e.n=3,Excel.run(function(){var e=Cf($f().m(function e(r){var i,a,u,c,s,l,f,d,p,m,y,h,v,b,g,w,_,S,O,k,z,j,P,I;return $f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o.getSheet(r,o.schema.sheetName);case 1:i=e.v,a=o.schema.startRow,u=o.schema.fields.reduce(function(e,t){var n,r;return Math.max(e,null!==(n=null===(r=t.merge)||void 0===r?void 0:r.rows)&&void 0!==n?n:1)},1),c=new Map,null==n||n.forEach(function(e){c.has(e.rowId)||c.set(e.rowId,new Map),c.get(e.rowId).set(String(e.field),e.styleId)}),console.log({overrideMap:c}),s=Nf(o.schema.fields);try{for(s.s();!(l=s.n()).done;){for(p=l.value,m=null!==(f=p.rowShift)&&void 0!==f?f:0,y=[],h=0;h<t.length;h++)for(v=t[h],b=v?v[p.name]:null,g=0;g<u;g++)g===m?y.push([null!=b?b:null]):y.push([null]);for(w=a+y.length-1,i.getRange("".concat(p.column).concat(a,":").concat(p.column).concat(w)).values=y,_=0;_<t.length;_++)O=t[_].id,k=a+_*u+m,(z=(null===(S=c.get(O))||void 0===S?void 0:S.get(String(p.name)))||p.styleId)&&(console.log("draw",z),o.styleRenderer.applyStyle(i.getRange("".concat(p.column).concat(k)),z));if(null!==(d=p.merge)&&void 0!==d&&d.rows&&p.merge.columns)for(j=0;j<t.length;j++)I=(P=a+j*u)+p.merge.rows-1,i.getRange("".concat(p.column).concat(P,":").concat(p.merge.columns).concat(I)).merge()}}catch(e){s.e(e)}finally{s.f()}return o.schema.predefined&&(o.schema.predefined.data.forEach(function(e){var t=i.getRange(e.cell);t.values=[[e.value]],e.styleId&&o.styleRenderer.applyStyle(t,e.styleId)}),o.schema.predefined.columnStyles.forEach(function(e){var t=i.getRange("".concat(e.column,":").concat(e.column));o.styleRenderer.applyColumnStyle(t,e.id)}),i.getUsedRange().format.autofitRows()),e.n=2,r.sync();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:e.n=5;break;case 4:e.p=4,r=e.v,console.log("render",r);case 5:return e.a(2)}},e,null,[[2,4]])})),function(e,t){return r.apply(this,arguments)})},{key:"renderPredefined",value:function(e){var t=this;try{if(!this.schema.predefined)return;this.schema.predefined.data.forEach(function(n){var r=e.getRange(n.cell);r.values=[[n.value]],n.styleId&&t.styleRenderer.applyStyle(r,n.styleId)}),this.schema.predefined.columnStyles.forEach(function(n){var r=e.getRange("".concat(n.column,":").concat(n.column));t.styleRenderer.applyColumnStyle(r,n.id)}),e.getUsedRange().format.autofitRows()}catch(e){console.log("renderPredefined",e)}}},{key:"getSheet",value:(n=Cf($f().m(function e(t,n){var r,o;return $f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!n){e.n=2;break}return r=t.workbook.worksheets.getItemOrNullObject(n),e.n=1,t.sync();case 1:r.isNullObject&&(r=t.workbook.worksheets.add(n)),e.n=3;break;case 2:r=t.workbook.worksheets.getActiveWorksheet();case 3:return e.a(2,r);case 4:throw e.p=4,o=e.v,console.log("getSheet",o),o;case 5:return e.a(2)}},e,null,[[0,4]])})),function(e,t){return n.apply(this,arguments)})},{key:"mergeCells",value:function(e,t,n){try{if(e.merge){console.log("merge");var r=t+(e.merge.rows-1);n.getRange("".concat(e.column).concat(t,":").concat(e.merge.columns).concat(r)).merge()}}catch(e){console.log("mergeCells",e)}}}],t&&Ff(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function Gf(e){return Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(e)}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Bf(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Bf(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Bf(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Bf(f,"constructor",s),Bf(s,"constructor",c),c.displayName="GeneratorFunction",Bf(s,o,"GeneratorFunction"),Bf(f),Bf(f,o,"Generator"),Bf(f,r,function(){return this}),Bf(f,"toString",function(){return"[object Generator]"}),(Vf=function(){return{w:i,m:d}})()}function Bf(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Bf=function(e,t,n,r){function i(t,n){Bf(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Bf(e,t,n,r)}function Lf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wf(r.key),r)}}function Wf(e){var t=function(e){if("object"!=Gf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Gf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gf(t)?t:t+""}var qf=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"verify",value:(n=Vf().m(function e(t,n){var r,o,i;return Vf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,console.log({data:t}),r=this.preparePayload(t,n),console.log({payload:r}),e.n=1,this.fetchVerificationData(r);case 1:return o=e.v,console.log({verificationResult:o}),e.a(2,this.verificationResultsToIssues(t,o));case 2:return e.p=2,i=e.v,console.log("RawPayrollDataVerifier.verify",i),e.a(2,new Map)}},e,this,[[0,2]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){Lf(i,r,o,a,u,"next",e)}function u(e){Lf(i,r,o,a,u,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)})},{key:"verificationResultsToIssues",value:function(e,t){var n=new Map;return t.filter(function(e){return e.errors.length>0}).forEach(function(t){var r=e.find(function(e){return e.taxPayerId===t.taxPayerId||e.fullName===t.fullName});if(r){var o=t.errors.map(function(e){return e.description}).join("; "),i=r.taxPayerId?String(r.taxPayerId):r.fullName;n.set(i,o)}}),n}},{key:"fetchVerificationData",value:function(e){return fetch("".concat("https://localhost:3000","/payroll-tables/verifyItems"),{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then(function(e){return e.json()})}},{key:"preparePayload",value:function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("."),2),r=n[0],o=n[1],i=this.toItems(e,t);return JSON.stringify({items:i,savePayments:!1,year:Number(o),month:Number(r)})}},{key:"toItems",value:function(e,t){return e.map(function(e){for(var n=[],r=[],o=[],i=[],a=1;a<31;a++){var u=e[a<10?"0".concat(a,".").concat(t):"".concat(a,".").concat(t)];30===u?n.push(a):50===u?r.push(a):70===u?o.push(a):100===u&&i.push(a)}return{fullName:e.fullName,taxPayerId:e.taxPayerId?String(e.taxPayerId):void 0,militaryRank:e.militaryRank,payments30Dates:n,payments50Dates:r,payments70Dates:o,payments100Dates:i}})}}],t&&Yf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function Kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Xf=function(e,t){return function(e){for(var t="";e>0;)e--,t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26);return t}(function(e){var t,n=0,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Kf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.toUpperCase());try{for(r.s();!(t=r.n()).done;)n=26*n+(t.value.charCodeAt(0)-64)}catch(e){r.e(e)}finally{r.f()}return n}(e)+t)},Hf=function(e){return e<10?"0".concat(e):e};function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ed(e){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(e)}function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rd(e,t,n){return(t=function(e){var t=function(e){if("object"!=ed(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ed(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var od=function(e){for(var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(n),!0).forEach(function(t){rd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:2,fields:[{name:"reason",column:"A"},{name:"unit",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"}]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{startRow:2}),n=(s=e.split("."),l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(s,l)||function(e,t){if(e){if("string"==typeof e)return td(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?td(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(Hf(a),".").concat(e),c=Xf("E",a);t.fields.push({name:u,column:c})}var s,l;return t};function id(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ad={startRow:2,sheetName:"Задвоєні періоди",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"taxPayerId",column:"C",styleId:"default"},{name:"dates",column:"D",styleId:"dateRange"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"ІПН",styleId:"header"},{cell:"D1",value:"Задвоєні дати",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"autofit"},{column:"D",id:"wide"}]}},ud=function(e){return{startRow:2,sheetName:e,fields:[{name:"unit",column:"A",styleId:"default"},{name:"militaryRank",column:"B",styleId:"default"},{name:"fullName",column:"C",styleId:"default"},{name:"dateRange",column:"D",styleId:"dateRange"},{name:"days",column:"E",styleId:"default"},{name:"taxPayerId",column:"F",styleId:"default"},{name:"reason",column:"G",styleId:"default"}],predefined:{data:[{cell:"A1",value:"Підрозділ",styleId:"header"},{cell:"B1",value:"Звання",styleId:"header"},{cell:"C1",value:"ПІБ",styleId:"header"},{cell:"D1",value:"Період",styleId:"header"},{cell:"E1",value:"Днів",styleId:"header"},{cell:"F1",value:"ІПН",styleId:"header"},{cell:"G1",value:"Рапорт",styleId:"header"}],columnStyles:[{column:"C",id:"autofit"},{column:"D",id:"wide"},{column:"E",id:"autofit"},{column:"F",id:"autofit"},{column:"G",id:"wide"}]}}},cd={startRow:1,sheetName:"Довідка",fields:[{name:"id",column:"A"},{name:"description",column:"B"}]},sd={startRow:2,sheetName:"70",fields:[{name:"unit",column:"A"},{name:"position",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"},{name:"remainingDaysFromPreviousYear",column:"F"},{name:"paymentsOrders",column:"G"}]},ld={startRow:2,sheetName:"70 в новий наказ",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"taxPayerId",column:"C",styleId:"default"},{name:"days",column:"D",styleId:"default"},{name:"reason",column:"E",styleId:"dateRange"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Військове звання",styleId:"header"},{cell:"C1",value:"ІПН",styleId:"header"},{cell:"D1",value:"Кількість виплат",styleId:"header"},{cell:"E1",value:"Підстава",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"autofit"},{column:"D",id:"autofit"},{column:"E",id:"wide"}]}},fd={startRow:2,sheetName:"70 з відомостей",fields:[{name:"unit",column:"A"},{name:"militaryRank",column:"B"},{name:"fullName",column:"C"},{name:"dates",column:"D"},{name:"taxPayerId",column:"F"},{name:"reason",column:"G"}]},dd={startRow:15,sheetName:"Відомість загальна",fields:[{name:"index",column:"A",styleId:"default",merge:{rows:2,columns:"A"}},{name:"unit",column:"B",styleId:"default",merge:{rows:2,columns:"B"}},{name:"position",column:"C",styleId:"default",merge:{rows:2,columns:"C"}},{name:"militaryRank",column:"D",styleId:"default",merge:{rows:2,columns:"D"}},{name:"fullName",column:"E",styleId:"default",merge:{rows:2,columns:"E"}},{name:"taxPayerId",column:"F",styleId:"default",merge:{rows:2,columns:"F"}},{name:"initialAmountOfDays",column:"H",styleId:"default"},{name:"januaryDays",column:"I",styleId:"default"},{name:"januaryReason",column:"I",styleId:"default",rowShift:1},{name:"februaryDays",column:"J",styleId:"default"},{name:"februaryReason",column:"J",styleId:"default",rowShift:1},{name:"marchDays",column:"K",styleId:"default"},{name:"marchReason",column:"K",styleId:"default",rowShift:1},{name:"aprilDays",column:"L",styleId:"default"},{name:"aprilReason",column:"L",styleId:"default",rowShift:1},{name:"mayDays",column:"M",styleId:"default"},{name:"mayReason",column:"M",styleId:"default",rowShift:1},{name:"juneDays",column:"N",styleId:"default"},{name:"juneReason",column:"N",styleId:"default",rowShift:1},{name:"julyDays",column:"O",styleId:"default"},{name:"julyReason",column:"O",styleId:"default",rowShift:1},{name:"augustDays",column:"P",styleId:"default"},{name:"augustReason",column:"P",styleId:"default",rowShift:1},{name:"septemberDays",column:"Q",styleId:"default"},{name:"septemberReason",column:"Q",styleId:"default",rowShift:1},{name:"octoberDays",column:"R",styleId:"default"},{name:"octoberReason",column:"R",styleId:"default",rowShift:1},{name:"novemberDays",column:"S",styleId:"default"},{name:"novemberReason",column:"S",styleId:"default",rowShift:1},{name:"decemberDays",column:"T",styleId:"default"},{name:"decemberReason",column:"T",styleId:"default",rowShift:1},{name:"totalEligibleDays",column:"U",styleId:"default"},{name:"numberOfPaymentOrdersInTheYear",column:"V",styleId:"default"},{name:"numberOfPaymentOrders",column:"W",styleId:"default"},{name:"paymentOrders",column:"W",styleId:"default",rowShift:1},{name:"remainingDays",column:"X",styleId:"default"}]},pd={startRow:2,sheetName:"70 нові",fields:[{name:"unit",column:"A"},{name:"position",column:"B"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"},{name:"taxPayerId",column:"E"},{name:"remainingDaysFromPreviousYear",column:"F"},{name:"paymentsOrders",column:"G"}],predefined:{data:[{cell:"A1",value:"Підрозділ",styleId:"header"},{cell:"B1",value:"Посада",styleId:"header"},{cell:"C1",value:"Звання",styleId:"header"},{cell:"D1",value:"ПІБ",styleId:"header"},{cell:"E1",value:"ІПН",styleId:"header"},{cell:"F1",value:"Кількість днів",styleId:"header"},{cell:"G1",value:"Накази",styleId:"header"}],columnStyles:[{column:"C",id:"autofit"},{column:"D",id:"wide"},{column:"E",id:"autofit"},{column:"F",id:"autofit"},{column:"G",id:"wide"}]}};function md(e){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(e)}function yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hd(e,t,n){return(t=function(e){var t=function(e){if("object"!=md(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=md(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==md(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vd=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(n),!0).forEach(function(t){hd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:1,fields:[{name:"militaryRank",column:"A"},{name:"fullName",column:"B"},{name:"dates",column:"C"}]},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})};function bd(e){return bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(e)}function gd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _d(e,t,n){return(t=function(e){var t=function(e){if("object"!=bd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sd=function(e){for(var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(n),!0).forEach(function(t){_d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({startRow:1,fields:[{name:"comment",column:"AL",styleId:"default"}]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=(s=e.split("."),l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(s,l)||function(e,t){if(e){if("string"==typeof e)return gd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gd(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(Hf(a),".").concat(e),c=Xf("E",a);t.fields.push({name:u,column:c})}var s,l;return t};function Od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kd={header:{horizontalAlignment:"Center",verticalAlignment:"Center",bold:!0},dateRange:{wrapText:!0},payrollDate:{textOrientation:90,bold:!0},default:{},visitors:{fillColor:"#f0b840"}},zd={autofit:{width:-1},wide:{width:250}};function jd(e){return jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(e)}function Pd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Id(r.key),r)}}function Id(e){var t=function(e){if("object"!=jd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jd(t)?t:t+""}var Td=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"createMedicalPayrollUseCase",value:function(e){var t=new Sf(kd,zd),n=new Ef(vd()),r=function(e){for(var t={startRow:2,sheetName:"Медична відомість",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"dateRange",column:"C",styleId:"dateRange"},{name:"days",column:"D",styleId:"default"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"Період",styleId:"header"},{cell:"D1",value:"Днів",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"wide"},{column:"D",id:"autofit"}]}},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(Hf(a),".").concat(e),c=Xf("E",a);t.fields.push({name:u,column:c,styleId:"default"}),t.predefined.data.push({value:u,cell:"".concat(c,"1"),styleId:"payrollDate"}),t.predefined.columnStyles.push({column:c,id:"autofit"})}return t}(e),o=new Uf(r,t);return new ls(n,o)}},{key:"createInstructorsPayrollUseCase",value:function(e){var t=new Sf(kd,zd),n=new Ef(vd()),r=function(e){for(var t={startRow:2,sheetName:"Відомість інструкторів",fields:[{name:"militaryRank",column:"A",styleId:"default"},{name:"fullName",column:"B",styleId:"default"},{name:"dateRange",column:"C",styleId:"dateRange"},{name:"days",column:"D",styleId:"default"}],predefined:{data:[{cell:"B1",value:"ПІБ",styleId:"header"},{cell:"A1",value:"Звання",styleId:"header"},{cell:"C1",value:"Період",styleId:"header"},{cell:"D1",value:"Днів",styleId:"header"}],columnStyles:[{column:"A",id:"autofit"},{column:"B",id:"autofit"},{column:"C",id:"wide"},{column:"D",id:"autofit"}]}},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return id(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?id(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(Hf(a),".").concat(e),c=Xf("E",a);t.fields.push({name:u,column:c,styleId:"default"}),t.predefined.data.push({value:u,cell:"".concat(c,"1"),styleId:"payrollDate"}),t.predefined.columnStyles.push({column:c,id:"autofit"})}return t}(e),o=new Uf(r,t);return new ws(n,o)}},{key:"createCheckPayrollUseCase",value:function(e,t){var n=new Sf(kd,zd),r=od(e,{startRow:t}),o=new Ef(r),i=new Ef(vd({sheetName:"30"})),a=new Ef(vd({sheetName:"50"})),u=new Ef(vd({sheetName:"70"})),c=new Ef(vd({sheetName:"100"})),s=new Uf(Sd(e,{startRow:t}),n),l=new qf;return new bl(o,i,a,u,c,s,l)}},{key:"createVisitorsValidationUseCase",value:function(e,t){var n=new Sf(kd,zd),r=od(e,{startRow:t}),o=new Ef(r),i=new Ef(function(e){for(var t={startRow:arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,sheetName:"Відвідування",fields:[{name:"unit",column:"A"},{name:"militaryRank",column:"C"},{name:"fullName",column:"D"}]},n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Od(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Od(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("."),2),r=n[0],o=n[1],i=new Date(Number(o),Number(r),0).getDate(),a=1;a<=i;a++){var u="".concat(Hf(a),".").concat(e),c=Xf("D",a);t.fields.push({name:u,column:c})}return t}(e)),a=new Uf(Sd(e,{startRow:t}),n);return new bf(o,i,a)}},{key:"create70PayrollUseCase",value:function(){var e=new Sf(kd,zd),t=new Ef(sd),n=new Ef(fd),r=new Uf(dd,e),o=new Uf(ld,e),i=new Uf(pd,e);return new Gl(t,n,r,o,i)}},{key:"createSummaryPayrollUseCase",value:function(e){var t=new Sf(kd,zd),n=od(e),r=new Ef(n),o=new Ef(cd),i=new Uf(ad,t),a=new Uf(ud("30"),t),u=new Uf(ud("50"),t),c=new Uf(ud("70"),t),s=new Uf(ud("100"),t);return new tf(r,o,i,a,u,c,s)}}],t&&Pd(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function xd(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return Ed(s,"_invoke",function(n,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,c=e,d.n=n,a}};function p(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),u=l,c=m;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Ed(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Ed(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,Ed(f,"constructor",s),Ed(s,"constructor",c),c.displayName="GeneratorFunction",Ed(s,o,"GeneratorFunction"),Ed(f),Ed(f,o,"Generator"),Ed(f,r,function(){return this}),Ed(f,"toString",function(){return"[object Generator]"}),(xd=function(){return{w:i,m:d}})()}function Ed(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ed=function(e,t,n,r){function i(t,n){Ed(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ed(e,t,n,r)}function Ad(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ad(i,r,o,a,u,"next",e)}function u(e){Ad(i,r,o,a,u,"throw",e)}a(void 0)})}}var Rd=Vi().regex(/^(0[1-9]|1[0-2])\.\d{4}$/,"Неправильний місяць (MM.YYYY)"),Nd=function(e){var t=document.getElementById("status"),n="orange",r="Опрацьовується";e&&(n=e.isError()?"red":"green",r=e.message),t.textContent=r,t.style.display="block",t.style.color=n},Dd=function(){var e=$d(xd().m(function e(t){var n,r,o,i;return xd().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),Nd(),n=document.getElementById("month").value,(r=Rd.safeParse(n)).success){e.n=1;break}return Nd(F.ValidationError(r.error.message)),e.a(2);case 1:return o=(new Td).createSummaryPayrollUseCase(n),e.n=2,o.generateSummary(n);case 2:i=e.v,Nd(i);case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Zd=function(){var e=$d(xd().m(function e(t){var n,r,o,i,a;return xd().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),Nd(),n=document.getElementById("visitorsMonth").value,(r=Rd.safeParse(n)).success){e.n=1;break}return Nd(F.ValidationError(r.error.message)),e.a(2);case 1:return o=document.getElementById("visitorsFirstRow").value,i=(new Td).createVisitorsValidationUseCase(n,Number(o)),e.n=2,i.validateVisitors(n);case 2:a=e.v,Nd(a);case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Cd=function(){var e=$d(xd().m(function e(t){var n,r,o,i,a;return xd().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),Nd(),n=document.getElementById("monthPayroll").value,(r=Rd.safeParse(n)).success){e.n=1;break}return Nd(F.ValidationError(r.error.message)),e.a(2);case 1:return o=document.getElementById("firstRow").value,i=(new Td).createCheckPayrollUseCase(n,Number(o)),e.n=2,i.checkUnitPayroll(n);case 2:a=e.v,Nd(a);case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();Office.onReady(function(e){if(e.host===Office.HostType.Excel){var t=document.getElementById("summaryForm"),n=document.getElementById("payrollForm"),r=document.getElementById("visitorsValidationForm");document.getElementById("app-body").style.display="block",t.addEventListener("submit",Dd),n.addEventListener("submit",Cd),r.addEventListener("submit",Zd)}})}(),new URL(n(67817),n.b)}();
//# sourceMappingURL=taskpane.js.map